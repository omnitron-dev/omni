# Aether MDX - Advanced Dynamic Markdown System

> –ü–µ—Ä–µ–¥–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ Markdown —Å –Ω–∞—Ç–∏–≤–Ω–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π JSX –∏ –ø–æ–ª–Ω–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π —Å Aether Framework

## –û–±–∑–æ—Ä

Aether MDX –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –≤—ã—Å–æ–∫–æ–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω—É—é, –º–æ–¥—É–ª—å–Ω—É—é —Å–∏—Å—Ç–µ–º—É –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ Markdown-–∫–æ–Ω—Ç–µ–Ω—Ç–∞ —Å –ø–æ–ª–Ω–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤, —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π. –†–µ—à–µ–Ω–∏–µ —Å–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–æ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–æ–≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏, —Å–∏—Å—Ç–µ–º –æ–±–º–µ–Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏ —Å —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º, –∏ –ª—é–±—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π, —Ç—Ä–µ–±—É—é—â–∏—Ö –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –±–æ–≥–∞—Ç–æ–≥–æ —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞.

### –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- üöÄ **–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: –ö–æ–º–ø–∏–ª—è—Ü–∏—è –Ω–∞ —ç—Ç–∞–ø–µ —Å–±–æ—Ä–∫–∏ —Å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º —Ä–∞–Ω—Ç–∞–π–º-–æ–≤–µ—Ä—Ö–µ–¥–æ–º
- üéØ **–ù–∞—Ç–∏–≤–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Aether**: –ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å–∏–≥–Ω–∞–ª–æ–≤
- üß© **–ú–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**: –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π —á–µ—Ä–µ–∑ –ø–ª–∞–≥–∏–Ω—ã
- üí° **–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–∞—è –ø–æ–¥—Å–≤–µ—Ç–∫–∞ –∫–æ–¥–∞**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `rehype-starry-night` –¥–ª—è VS Code-–∫–∞—á–µ—Å—Ç–≤–∞ –ø–æ–¥—Å–≤–µ—Ç–∫–∏
- ‚ö° **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**: –í—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏–µ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö Aether-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –ø—Ä—è–º–æ –≤ Markdown
- üîÑ **–†–µ–∞–∫—Ç–∏–≤–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö
- üåê **SSR-ready**: –ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Å–µ—Ä–≤–µ—Ä–Ω–æ–≥–æ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

```typescript
// –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–æ–¥—É–ª—è
@omnitron-dev/aether-mdx/
‚îú‚îÄ‚îÄ compiler/           # –ö–æ–º–ø–∏–ª—è—Ç–æ—Ä MDX –≤ Aether-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ parser.ts      # –ü–∞—Ä—Å–µ—Ä –Ω–∞ –±–∞–∑–µ micromark
‚îÇ   ‚îú‚îÄ‚îÄ transformer.ts # –¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏ AST
‚îÇ   ‚îú‚îÄ‚îÄ generator.ts   # –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä Aether-–∫–æ–¥–∞
‚îÇ   ‚îî‚îÄ‚îÄ vnode-transform.ts # –¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è –≤ VNode –¥–ª—è —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ runtime/           # Runtime-–±–∏–±–ª–∏–æ—Ç–µ–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ provider.ts    # MDX Context Provider
‚îÇ   ‚îú‚îÄ‚îÄ components.ts  # –ë–∞–∑–æ–≤—ã–µ MDX-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ hooks.ts       # –†–µ–∞–∫—Ç–∏–≤–Ω—ã–µ —Ö—É–∫–∏
‚îÇ   ‚îî‚îÄ‚îÄ reactive-binding.ts # –ë–∏–Ω–¥–∏–Ω–≥–∏ –¥–ª—è signal/computed
‚îú‚îÄ‚îÄ plugins/           # –°–∏—Å—Ç–µ–º–∞ –ø–ª–∞–≥–∏–Ω–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ remark/       # Remark –ø–ª–∞–≥–∏–Ω—ã
‚îÇ   ‚îú‚îÄ‚îÄ rehype/       # Rehype –ø–ª–∞–≥–∏–Ω—ã
‚îÇ   ‚îî‚îÄ‚îÄ aether/       # Aether-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –ø–ª–∞–≥–∏–Ω—ã
‚îú‚îÄ‚îÄ vite/             # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å–æ —Å–±–æ—Ä—â–∏–∫–∞–º–∏
‚îÇ   ‚îî‚îÄ‚îÄ plugin.ts     # Vite –ø–ª–∞–≥–∏–Ω
‚îî‚îÄ‚îÄ reconciler/       # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Aether reconciler
    ‚îî‚îÄ‚îÄ mdx-vnode.ts  # MDX-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ VNode –æ–ø–µ—Ä–∞—Ü–∏–∏
```

### –ö–æ–Ω–≤–µ–π–µ—Ä –æ–±—Ä–∞–±–æ—Ç–∫–∏

```mermaid
graph LR
    MD[Markdown] --> P[Parser]
    P --> MDAST[MD AST]
    MDAST --> RT[Remark Transform]
    RT --> HAST[HTML AST]
    HAST --> RH[Rehype Transform]
    RH --> AAST[Aether AST]
    AAST --> G[Generator]
    G --> AC[Aether Component]
```

## –°–∏—Å—Ç–µ–º–∞ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏

### 1. –ü–∞—Ä—Å–∏–Ω–≥ (Parser Layer)

```typescript
interface ParserOptions {
  // –ë–∞–∑–æ–≤—ã–µ –æ–ø—Ü–∏–∏ micromark
  extensions?: MicromarkExtension[];
  mdastExtensions?: MdastExtension[];

  // –ü–æ–¥–¥–µ—Ä–∂–∫–∞ MDX
  jsx: boolean;
  jsxImportSource?: string;  // default: '@omnitron-dev/aether'

  // –†–∞—Å—à–∏—Ä–µ–Ω–∏—è —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞
  gfm: boolean;        // GitHub Flavored Markdown
  math: boolean;       // LaTeX –º–∞—Ç–µ–º–∞—Ç–∏–∫–∞
  frontmatter: boolean; // YAML frontmatter
  directives: boolean; // –î–∏—Ä–µ–∫—Ç–∏–≤—ã :::
}

class AetherMDXParser {
  constructor(options: ParserOptions) {
    this.processor = unified()
      .use(remarkParse)
      .use(remarkMdx, { jsxImportSource: options.jsxImportSource })
      .use(options.gfm && remarkGfm)
      .use(options.math && remarkMath)
      .use(options.frontmatter && remarkFrontmatter);
  }

  parse(content: string): MdastRoot {
    return this.processor.parse(content);
  }
}
```

### 2. –¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è (Transform Layer)

```typescript
interface TransformPipeline {
  // Remark —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏ (—Ä–∞–±–æ—Ç–∞ —Å Markdown AST)
  remarkPlugins: RemarkPlugin[];

  // Rehype —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏ (—Ä–∞–±–æ—Ç–∞ —Å HTML AST)
  rehypePlugins: RehypePlugin[];

  // Aether-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏
  aetherTransforms: AetherTransform[];
}

// –ü—Ä–∏–º–µ—Ä Aether-—Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏
class ReactiveContentTransform implements AetherTransform {
  transform(node: AetherNode): AetherNode {
    if (node.type === 'interpolation') {
      // –û–±–æ—Ä–∞—á–∏–≤–∞–µ–º –≤ —Ä–µ–∞–∫—Ç–∏–≤–Ω—É—é –æ–±—ë—Ä—Ç–∫—É
      return {
        type: 'reactive',
        signal: node.expression,
        fallback: node.fallback
      };
    }
    return node;
  }
}
```

### 3. –ü–æ–¥—Å–≤–µ—Ç–∫–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞

```typescript
import { createStarryNight } from '@wooorm/starry-night';
import { rehypeStarryNight } from 'rehype-starry-night';

interface SyntaxHighlightOptions {
  // –Ø–∑—ã–∫–∏ –¥–ª—è –ø–æ–¥—Å–≤–µ—Ç–∫–∏
  languages?: string[];

  // –¢–µ–º–∞ –ø–æ–¥—Å–≤–µ—Ç–∫–∏ (VS Code —Ç–µ–º—ã)
  theme?: 'dark-plus' | 'light-plus' | 'monokai' | 'github-dark';

  // –î–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–º–µ—Ä–∞ —Å—Ç—Ä–æ–∫
  lineNumbers?: boolean;

  // –ü–æ–¥—Å–≤–µ—Ç–∫–∞ —Å—Ç—Ä–æ–∫
  highlightLines?: number[];

  // –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –±—É—Ñ–µ—Ä
  copyButton?: boolean;
}

class SyntaxHighlighter {
  private starryNight: StarryNight;

  async initialize(options: SyntaxHighlightOptions) {
    // –ó–∞–≥—Ä—É–∂–∞–µ–º —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–µ —è–∑—ã–∫–∏
    const grammars = await loadGrammars(options.languages);
    this.starryNight = await createStarryNight(grammars);
  }

  async highlight(code: string, lang: string): Promise<string> {
    const scope = this.starryNight.flagToScope(lang);
    const tree = this.starryNight.highlight(code, scope);

    // –î–æ–±–∞–≤–ª—è–µ–º –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ–∏—á–∏
    if (this.options.lineNumbers) {
      tree = addLineNumbers(tree);
    }

    if (this.options.copyButton) {
      tree = addCopyButton(tree);
    }

    return tree;
  }
}
```

### 4. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

```typescript
interface GeneratorOptions {
  // –†–µ–∂–∏–º –≤—ã–≤–æ–¥–∞
  mode: 'development' | 'production';

  // –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
  optimize: {
    removeComments: boolean;
    minify: boolean;
    treeshake: boolean;
  };

  // –¶–µ–ª–µ–≤–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞
  target: 'browser' | 'node' | 'universal';
}

class AetherComponentGenerator {
  generate(ast: AetherAST, options: GeneratorOptions): string {
    const imports = this.collectImports(ast);
    const components = this.extractComponents(ast);
    const content = this.generateContent(ast);
    const hasReactiveProps = this.detectReactiveContent(ast);

    // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –∏–º–ø–æ—Ä—Ç—ã –∏–∑ Aether
    const aetherImports = [
      "import { defineComponent } from '@omnitron-dev/aether/core/component';",
      "import { jsx, jsxs, Fragment } from '@omnitron-dev/aether/jsx-runtime';",
      hasReactiveProps && "import { signal, computed, effect } from '@omnitron-dev/aether/core/reactivity';",
      "import { createElementVNode, renderVNodeWithBindings } from '@omnitron-dev/aether/reconciler';",
      "import { useMDXContext } from './provider';"
    ].filter(Boolean);

    return `
      ${aetherImports.join('\n')}
      ${imports.join('\n')}

      export default defineComponent((props) => {
        // MDX –∫–æ–Ω—Ç–µ–∫—Å—Ç —Å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏ –∏ scope
        const mdxContext = useMDXContext();

        // –†–µ–∞–∫—Ç–∏–≤–Ω—ã–µ –ø—Ä–æ–ø—Å—ã –æ—Ç —Ä–æ–¥–∏—Ç–µ–ª—è
        const reactiveProps = props;

        // –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è –∑–∞–º–µ–Ω—ã HTML —ç–ª–µ–º–µ–Ω—Ç–æ–≤
        const components = {
          ...mdxContext.components,
          ${components.join(',\n')}
        };

        // Render —Ñ—É–Ω–∫—Ü–∏—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç JSX –∏–ª–∏ VNode –¥–ª—è —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
        return () => {
          ${hasReactiveProps ?
            `// –ò—Å–ø–æ–ª—å–∑—É–µ–º VNode –¥–ª—è —Ä–µ–∞–∫—Ç–∏–≤–Ω—ã—Ö –±–∏–Ω–¥–∏–Ω–≥–æ–≤
            return createElementVNode('div', { class: 'mdx-content' }, [
              ${content}
            ]);` :
            `// –°—Ç–∞—Ç–∏—á–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç - –∏—Å–ø–æ–ª—å–∑—É–µ–º –æ–±—ã—á–Ω—ã–π JSX
            return jsx('div', { class: 'mdx-content' }, ${content});`
          }
        };
      });
    `;
  }

  detectReactiveContent(ast: AetherAST): boolean {
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏–π –∏–ª–∏ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π
    return ast.some(node =>
      node.type === 'interpolation' ||
      node.type === 'mdxJsxFlowElement' && node.attributes?.some(
        attr => attr.value?.type === 'expression'
      )
    );
  }
}
```

## Runtime API

### MDX Provider

```typescript
interface MDXProviderProps {
  // –ö–∞—Å—Ç–æ–º–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è –∑–∞–º–µ–Ω—ã HTML-—ç–ª–µ–º–µ–Ω—Ç–æ–≤
  components?: MDXComponents;

  // –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –≤ MDX
  scope?: Record<string, any>;

  // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
  onError?: (error: Error) => void;
  onNavigate?: (url: string) => void;
}

// –†–µ–∞–ª–∏–∑–∞—Ü–∏—è MDX Provider —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Aether Context API
import { createContext, provideContext, useContext } from '@omnitron-dev/aether/core/component';
import { defineComponent } from '@omnitron-dev/aether/core/component';
import { signal, computed } from '@omnitron-dev/aether/core/reactivity';
import { Box, Code, Card } from '@omnitron-dev/aether/primitives';

// –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ MDX
const MDXContext = createContext<MDXContextValue>({
  components: {},
  scope: {},
  reactiveScope: {}
});

// Hook –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è MDX –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
export const useMDXContext = () => useContext(MDXContext);

// MDX Provider –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
export const MDXProvider = defineComponent<MDXProviderProps>((props) => {
  // –†–µ–∞–∫—Ç–∏–≤–Ω—ã–π scope –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö –∑–Ω–∞—á–µ–Ω–∏–π
  const reactiveScope = {
    // –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–µ–∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π –≤ MDX
    user: computed(() => props.scope?.user || null),
    theme: computed(() => props.scope?.theme || 'light'),
    // –î–æ–±–∞–≤–ª—è–µ–º —É—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å—é
    signal,
    computed,
    effect
  };

  // –û–±—ä–µ–¥–∏–Ω—è–µ–º –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
  const components = {
    // –ë–∞–∑–æ–≤—ã–µ HTML —ç–ª–µ–º–µ–Ω—Ç—ã —Å Aether –ø—Ä–∏–º–∏—Ç–∏–≤–∞–º–∏
    div: Box,
    code: Code,
    pre: (props) => jsx(Code, { ...props, block: true }),

    // –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
    ...props.components,

    // –î–æ–±–∞–≤–ª—è–µ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
    Alert: props.components?.Alert || DefaultAlert,
    Card: props.components?.Card || Card,
    Tabs: props.components?.Tabs || DefaultTabs
  };

  // –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç –¥–æ—á–µ—Ä–Ω–∏–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º
  provideContext(MDXContext, {
    components,
    scope: props.scope,
    reactiveScope,
    onError: props.onError,
    onNavigate: props.onNavigate
  });

  return () => props.children;
});
```

### –†–µ–∞–∫—Ç–∏–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

```typescript
// –ö–æ–º–ø–æ–Ω–µ–Ω—Ç —Å —Ä–µ–∞–∫—Ç–∏–≤–Ω—ã–º –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º
const LiveCode = defineComponent((props: { code: string }) => {
  const result = computed(() => {
    try {
      return eval(props.code);
    } catch (e) {
      return `Error: ${e.message}`;
    }
  });

  return () => (
    <div class="live-code">
      <pre>{props.code}</pre>
      <div class="result">{result()}</div>
    </div>
  );
});

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ MDX
```mdx
# –ü—Ä–∏–º–µ—Ä –∂–∏–≤–æ–≥–æ –∫–æ–¥–∞

<LiveCode code={`
  const count = signal(0);
  setInterval(() => count.update(n => n + 1), 1000);
  return count();
`} />
```
```

### –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –∏–º–ø–æ—Ä—Ç—ã

```typescript
interface DynamicImportOptions {
  // –ó–∞–≥—Ä—É–∑–∫–∞ –ø–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é
  lazy?: boolean;

  // –ü—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∞
  prefetch?: boolean;

  // SSR –ø–æ–¥–¥–µ—Ä–∂–∫–∞
  ssr?: boolean;
}

// MDX —Å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–º–∏ –∏–º–ø–æ—Ä—Ç–∞–º–∏
const DynamicMDX = defineComponent((props: { source: string }) => {
  const Content = lazy(() => import(props.source));

  return () => (
    <Suspense fallback={<Loading />}>
      <Content />
    </Suspense>
  );
});
```

## –ü–ª–∞–≥–∏–Ω—ã

### –°–∏—Å—Ç–µ–º–∞ –ø–ª–∞–≥–∏–Ω–æ–≤

```typescript
interface AetherMDXPlugin {
  name: string;

  // –•—É–∫–∏ –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞
  setup?(context: PluginContext): void;

  // –¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏
  transformMdast?(node: MdastNode): MdastNode | null;
  transformHast?(node: HastNode): HastNode | null;
  transformAether?(node: AetherNode): AetherNode | null;

  // –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
  components?: Record<string, Component>;

  // –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ scope
  scope?: Record<string, any>;
}

// –ü—Ä–∏–º–µ—Ä –ø–ª–∞–≥–∏–Ω–∞ –¥–ª—è –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–æ—Ä–º—É–ª
class MathPlugin implements AetherMDXPlugin {
  name = 'aether-mdx-math';

  components = {
    Math: lazy(() => import('./components/Math')),
    InlineMath: lazy(() => import('./components/InlineMath'))
  };

  transformMdast(node: MdastNode) {
    if (node.type === 'math') {
      return {
        type: 'mdxJsxFlowElement',
        name: 'Math',
        attributes: [{
          type: 'mdxJsxAttribute',
          name: 'expression',
          value: node.value
        }]
      };
    }
    return node;
  }
}
```

### –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –ø–ª–∞–≥–∏–Ω—ã

```typescript
// 1. –ü–ª–∞–≥–∏–Ω –¥–ª—è —Ç–∞–±–ª–∏—Ü —Å —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–æ–π
const tablePlugin: AetherMDXPlugin = {
  name: 'sortable-tables',
  components: {
    table: SortableTable
  }
};

// 2. –ü–ª–∞–≥–∏–Ω –¥–ª—è –¥–∏–∞–≥—Ä–∞–º–º
const diagramPlugin: AetherMDXPlugin = {
  name: 'diagrams',
  transformMdast(node) {
    if (node.type === 'code' && node.lang === 'mermaid') {
      return {
        type: 'mdxJsxFlowElement',
        name: 'Diagram',
        attributes: [{
          name: 'type',
          value: 'mermaid'
        }, {
          name: 'code',
          value: node.value
        }]
      };
    }
  }
};

// 3. –ü–ª–∞–≥–∏–Ω –¥–ª—è –≤—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏—è –≤–∏–¥–µ–æ
const embedPlugin: AetherMDXPlugin = {
  name: 'embeds',
  transformHast(node) {
    if (node.type === 'element' && node.tagName === 'a') {
      const href = node.properties?.href;
      if (isVideoUrl(href)) {
        return {
          type: 'element',
          tagName: 'VideoEmbed',
          properties: { url: href }
        };
      }
    }
  }
};
```

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Vite

```typescript
import { defineConfig } from 'vite';
import { aetherMDX } from '@omnitron-dev/aether-mdx/vite';

export default defineConfig({
  plugins: [
    aetherMDX({
      // –†–∞—Å—à–∏—Ä–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤
      extensions: ['.md', '.mdx'],

      // –û–ø—Ü–∏–∏ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞
      compiler: {
        jsx: true,
        gfm: true,
        math: true,
        frontmatter: true
      },

      // –ü–æ–¥—Å–≤–µ—Ç–∫–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞
      highlight: {
        theme: 'dark-plus',
        languages: ['typescript', 'jsx', 'css', 'bash'],
        lineNumbers: true
      },

      // –ü–ª–∞–≥–∏–Ω—ã
      remarkPlugins: [
        remarkGfm,
        remarkMath,
        remarkDirective
      ],

      rehypePlugins: [
        rehypeStarryNight,
        rehypeSlug,
        rehypeAutolinkHeadings
      ],

      // Aether –ø–ª–∞–≥–∏–Ω—ã
      aetherPlugins: [
        tablePlugin,
        diagramPlugin,
        embedPlugin
      ],

      // –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
      optimize: {
        precompile: true,  // –ö–æ–º–ø–∏–ª—è—Ü–∏—è –Ω–∞ —ç—Ç–∞–ø–µ —Å–±–æ—Ä–∫–∏
        minify: true,      // –ú–∏–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è
        extractCSS: true,  // –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ CSS
        treeshake: true    // Tree shaking –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
      }
    })
  ]
});
```

## –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –Ω–∞ —ç—Ç–∞–ø–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏

```typescript
interface CompileTimeOptimizations {
  // –°—Ç–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ
  staticExtraction: {
    // –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —á–∞—Å—Ç–µ–π –≤ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã
    hoistStatic: boolean;

    // –ü—Ä–µ–¥–∫–æ–º–ø–∏–ª—è—Ü–∏—è –≤—ã—Ä–∞–∂–µ–Ω–∏–π
    precompileExpressions: boolean;

    // –ò–Ω–ª–∞–π–Ω–∏–Ω–≥ –∫–æ–Ω—Å—Ç–∞–Ω—Ç
    inlineConstants: boolean;
  };

  // –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ
  cache: {
    // –ö–µ—à –∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –º–æ–¥—É–ª–µ–π
    compiledModules: boolean;

    // –ö–µ—à AST –¥–µ—Ä–µ–≤—å–µ–≤
    astCache: boolean;

    // –ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã–π –∫–µ—à –Ω–∞ –¥–∏—Å–∫–µ
    persistent: boolean;
  };

  // –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –∫–æ–¥–∞
  splitting: {
    // Lazy loading –¥–ª—è –±–æ–ª—å—à–∏—Ö –±–ª–æ–∫–æ–≤
    lazyBlocks: boolean;

    // –í—ã–¥–µ–ª–µ–Ω–∏–µ –æ–±—â–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
    extractShared: boolean;
  };
}
```

### Runtime –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

```typescript
import { batch, untrack, onCleanup } from '@omnitron-dev/aether/core/reactivity';
import { templateCache, generateCacheKey } from '@omnitron-dev/aether/reconciler/template-cache';

class MDXRuntimeOptimizer {
  // –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π —Å–∫—Ä–æ–ª–ª–∏–Ω–≥ –¥–ª—è –¥–ª–∏–Ω–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
  virtualScroll = signal(false);

  // –ü—Ä–æ–≥—Ä–µ—Å—Å–∏–≤–Ω–∞—è –ø–æ–¥–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
  lazyImages = signal(true);

  // –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Aether template cache –¥–ª—è MDX –±–ª–æ–∫–æ–≤
  private templateCache = templateCache;

  // WeakMap –¥–ª—è –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
  private compiledCache = new WeakMap();

  optimizeComponent(Component: Component) {
    return defineComponent((props) => {
      // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –∫–ª—é—á –∫–µ—à–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–æ–ø—Å–æ–≤
      const cacheKey = generateCacheKey(Component.name || 'mdx', props);

      // –ü—Ä–æ–≤–µ—Ä—è–µ–º template cache Aether
      const cached = templateCache.get(cacheKey);
      if (cached) {
        return cached.cloneWithProps(props);
      }

      // –°–æ–∑–¥–∞–µ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è–º–∏
      const optimized = untrack(() => {
        // –ë–∞—Ç—á–∏–º –≤—Å–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
        return batch(() => Component(props));
      });

      // –ö–µ—à–∏—Ä—É–µ–º –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
      if (ENABLE_TEMPLATE_CACHE) {
        templateCache.set(cacheKey, optimized);
      }

      // –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ–º cleanup
      onCleanup(() => {
        templateCache.delete(cacheKey);
      });

      return optimized;
    });
  }

  // –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –±–æ–ª—å—à–∏—Ö markdown –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
  optimizeLargeDocument(mdxContent: string) {
    // –†–∞–∑–±–∏–≤–∞–µ–º –Ω–∞ —á–∞–Ω–∫–∏ –¥–ª—è lazy loading
    const chunks = this.splitIntoChunks(mdxContent, 1000); // 1000 —Å—Ç—Ä–æ–∫ –Ω–∞ —á–∞–Ω–∫

    return defineComponent(() => {
      const visibleChunks = signal(new Set([0])); // –ò–∑–Ω–∞—á–∞–ª—å–Ω–æ –≤–∏–¥–µ–Ω —Ç–æ–ª—å–∫–æ –ø–µ—Ä–≤—ã–π
      const compiledChunks = new Map<number, any>();

      // IntersectionObserver –¥–ª—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ —Å–∫—Ä–æ–ª–ª–∏–Ω–≥–∞
      onMount(() => {
        const observer = new IntersectionObserver((entries) => {
          entries.forEach(entry => {
            if (entry.isIntersecting) {
              const chunkId = parseInt(entry.target.dataset.chunkId);
              visibleChunks.update(set => {
                set.add(chunkId);
                // –ü—Ä–µ–¥–∑–∞–≥—Ä—É–∂–∞–µ–º —Å–ª–µ–¥—É—é—â–∏–π —á–∞–Ω–∫
                if (chunkId < chunks.length - 1) {
                  set.add(chunkId + 1);
                }
                return new Set(set);
              });
            }
          });
        });

        // Cleanup
        onCleanup(() => observer.disconnect());
      });

      return () => (
        <div class="mdx-document">
          <For each={chunks}>
            {(chunk, index) => (
              <Show when={visibleChunks().has(index())} fallback={<div style={{ height: '100px' }} />}>
                <Suspense fallback={<MDXChunkSkeleton />}>
                  <MDXChunk content={chunk} id={index()} />
                </Suspense>
              </Show>
            )}
          </For>
        </div>
      );
    });
  }

  // Diamond dependency resolution –¥–ª—è MDX –≤—ã—Ä–∞–∂–µ–Ω–∏–π
  resolveDependencies(expressions: MDXExpression[]) {
    // –ò—Å–ø–æ–ª—å–∑—É–µ–º Aether diamond resolver
    return resolveDiamondDependencies(
      expressions.map(expr => ({
        computation: () => evaluateExpression(expr),
        dependencies: extractDependencies(expr)
      }))
    );
  }
}
```

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### 1. –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

```typescript
// config.ts
export const docsConfig = {
  title: 'Aether Documentation',

  // –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
  navigation: [
    { title: 'Getting Started', path: '/docs/intro.mdx' },
    { title: 'Components', path: '/docs/components/**/*.mdx' },
    { title: 'API', path: '/docs/api/**/*.mdx' }
  ],

  // MDX –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
  mdx: {
    components: {
      // –ö–∞—Å—Ç–æ–º–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
      ApiReference,
      CodeSandbox,
      DemoCard
    },

    // –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
    scope: {
      version: packageJson.version,
      examples: loadExamples()
    }
  },

  // –¢–µ–º—ã
  themes: {
    default: 'light',
    available: ['light', 'dark', 'auto']
  }
};

// generator.ts
class DocsGenerator {
  async generate() {
    const files = await glob('docs/**/*.mdx');

    for (const file of files) {
      const compiled = await compileMDX(file, {
        ...docsConfig.mdx,
        optimize: { precompile: true }
      });

      await writeFile(
        file.replace('.mdx', '.js'),
        compiled.code
      );
    }
  }
}
```

### 2. –ß–∞—Ç —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π Markdown

```typescript
const ChatMessage = defineComponent((props: { message: ChatMsg }) => {
  // –ö–æ–º–ø–∏–ª–∏—Ä—É–µ–º markdown –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
  const content = computed(() =>
    compileMDXSync(props.message.text, {
      // –ë—ã—Å—Ç—Ä–∞—è –∫–æ–º–ø–∏–ª—è—Ü–∏—è –¥–ª—è —á–∞—Ç–∞
      mode: 'fast',

      // –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —É–ø–æ–º–∏–Ω–∞–Ω–∏–π
      plugins: [mentionsPlugin],

      // –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
      sanitize: true
    })
  );

  return () => (
    <div class="chat-message">
      <Avatar user={props.message.author} />
      <div class="content">
        <MDXRenderer content={content()} />
      </div>
      <Timestamp time={props.message.createdAt} />
    </div>
  );
});
```

### 3. –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –±–ª–æ–≥

```typescript
// BlogPost.mdx
---
title: –í–≤–µ–¥–µ–Ω–∏–µ –≤ —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
author: John Doe
date: 2024-01-15
tags: [tutorial, reactivity]
---

# {frontmatter.title}

–ê–≤—Ç–æ—Ä: {frontmatter.author} ‚Ä¢ {formatDate(frontmatter.date)}

## –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –ø—Ä–∏–º–µ—Ä

–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ:

<InteractiveDemo>
  {() => {
    const count = signal(0);
    const doubled = computed(() => count() * 2);

    return (
      <div>
        <input
          type="number"
          value={count()}
          onInput={(e) => count.set(+e.target.value)}
        />
        <p>–ó–Ω–∞—á–µ–Ω–∏–µ: {count()}</p>
        <p>–£–¥–≤–æ–µ–Ω–Ω–æ–µ: {doubled()}</p>
      </div>
    );
  }}
</InteractiveDemo>

## –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

<DependencyGraph
  nodes={[
    { id: 'signal', label: 'count' },
    { id: 'computed', label: 'doubled' },
    { id: 'effect', label: 'render' }
  ]}
  edges={[
    { from: 'signal', to: 'computed' },
    { from: 'computed', to: 'effect' }
  ]}
/>
```

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```typescript
import { describe, test, expect } from 'vitest';
import { compileMDX, renderMDX } from '@omnitron-dev/aether-mdx';

describe('Aether MDX', () => {
  test('–∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç –±–∞–∑–æ–≤—ã–π markdown', async () => {
    const source = '# Hello World';
    const result = await compileMDX(source);

    expect(result.code).toContain('h1');
    expect(result.code).toContain('Hello World');
  });

  test('–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç JSX –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã', async () => {
    const source = '<Button>Click me</Button>';
    const result = await compileMDX(source);

    expect(result.code).toContain('Button');
  });

  test('–ø–æ–¥—Å–≤–µ—á–∏–≤–∞–µ—Ç –∫–æ–¥', async () => {
    const source = '```js\nconst x = 1;\n```';
    const result = await compileMDX(source, {
      highlight: { theme: 'dark-plus' }
    });

    expect(result.code).toContain('hljs');
  });

  test('–æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ä–µ–∞–∫—Ç–∏–≤–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è', async () => {
    const source = 'Count: {count()}';
    const compiled = await compileMDX(source);
    const rendered = renderMDX(compiled, {
      scope: { count: signal(5) }
    });

    expect(rendered.textContent).toBe('Count: 5');
  });
});
```

## –ú–∏–≥—Ä–∞—Ü–∏—è —Å –¥—Ä—É–≥–∏—Ö —Ä–µ—à–µ–Ω–∏–π

### –ò–∑ Docusaurus

```typescript
// –ö–æ–Ω–≤–µ—Ä—Ç–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
function migrateFromDocusaurus(config: DocusaurusConfig): AetherMDXConfig {
  return {
    navigation: config.sidebar,

    mdx: {
      remarkPlugins: config.presets[0].docs.remarkPlugins,
      rehypePlugins: config.presets[0].docs.rehypePlugins,

      // –ê–¥–∞–ø—Ç–µ—Ä –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
      components: adaptDocusaurusComponents(config.themes)
    },

    build: {
      outDir: config.build.outDir,
      baseUrl: config.baseUrl
    }
  };
}
```

### –ò–∑ VitePress

```typescript
// –ö–æ–Ω–≤–µ—Ä—Ç–µ—Ä —Ç–µ–º—ã
function migrateFromVitePress(theme: VitePressTheme): AetherTheme {
  return {
    layout: adaptVitePressLayout(theme.Layout),
    components: adaptVitePressComponents(theme.enhanceApp),

    mdx: {
      components: {
        ...theme.components,
        // –î–æ–±–∞–≤–ª—è–µ–º —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å
        'vp-doc': VitePressAdapter
      }
    }
  };
}
```

## Roadmap

### –§–∞–∑–∞ 1: MVP (Q1 2024) - ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û
- ‚úÖ –ë–∞–∑–æ–≤—ã–π –ø–∞—Ä—Å–µ—Ä –∏ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä (100% —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Aether –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏ (100% —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
- ‚úÖ –ü–æ–¥—Å–≤–µ—Ç–∫–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ —á–µ—Ä–µ–∑ rehype-starry-night (100% —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
- ‚úÖ Vite –ø–ª–∞–≥–∏–Ω (100% —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ —Å HMR –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π)
- ‚úÖ –ë–∞–∑–æ–≤—ã–µ –ø—Ä–∏–º–µ—Ä—ã –∏ —Ç–µ—Å—Ç—ã (131 —Ç–µ—Å—Ç –ø—Ä–æ—à–ª–∏ —É—Å–ø–µ—à–Ω–æ)

### –§–∞–∑–∞ 2: –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ (Q2 2024) - üîÑ –í –ü–†–û–¶–ï–°–°–ï
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –ø–ª–∞–≥–∏–Ω–æ–≤ (—Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã remark, rehype, aether –ø–ª–∞–≥–∏–Ω—ã)
- ‚úÖ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (compile-time –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏)
- ‚è≥ SSR –ø–æ–¥–¥–µ—Ä–∂–∫–∞ (–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –≥–æ—Ç–æ–≤–∞, —Ç—Ä–µ–±—É–µ—Ç—Å—è runtime eval)
- ‚è≥ –ò–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω–∞—è –∫–æ–º–ø–∏–ª—è—Ü–∏—è (–∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
- ‚úÖ Hot Module Replacement (—Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤ Vite –ø–ª–∞–≥–∏–Ω–µ)

### –§–∞–∑–∞ 3: –≠–∫–æ—Å–∏—Å—Ç–µ–º–∞ (Q3 2024)
- ‚è≥ CLI –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
- ‚è≥ –ì–æ—Ç–æ–≤—ã–µ —Ç–µ–º—ã –∏ —à–∞–±–ª–æ–Ω—ã
- ‚è≥ –í–∏–∑—É–∞–ª—å–Ω—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä
- ‚è≥ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å CMS
- ‚è≥ –ü–ª–∞–≥–∏–Ω—ã –¥–ª—è –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤

### –§–∞–∑–∞ 4: –≠–Ω—Ç–µ—Ä–ø—Ä–∞–π–∑ (Q4 2024)
- ‚è≥ –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
- ‚è≥ –ú—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç—å (i18n)
- ‚è≥ –ü–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤—ã–π –ø–æ–∏—Å–∫
- ‚è≥ –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ –º–µ—Ç—Ä–∏–∫–∏
- ‚è≥ –ö–æ–ª–ª–∞–±–æ—Ä–∞—Ç–∏–≤–Ω–æ–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

## API Reference –∏ —Ç–∏–ø–∏–∑–∞—Ü–∏—è

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–∏–ø—ã

```typescript
// –¢–∏–ø—ã MDX —É–∑–ª–æ–≤
export interface MDXNode {
  type: 'element' | 'text' | 'mdxJsxFlowElement' | 'mdxFlowExpression';
  value?: string;
  tagName?: string;
  children?: MDXNode[];
  attributes?: MDXAttribute[];
  position?: Position;
}

export interface MDXAttribute {
  type: 'mdxJsxAttribute';
  name: string;
  value: string | MDXExpression;
}

export interface MDXExpression {
  type: 'expression';
  value: string;
  data?: {
    estree: any; // AST –≤—ã—Ä–∞–∂–µ–Ω–∏—è
  };
}

// –û–ø—Ü–∏–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏
export interface CompileMDXOptions {
  // –†–µ–∂–∏–º –∫–æ–º–ø–∏–ª—è—Ü–∏–∏
  mode?: 'development' | 'production' | 'reactive' | 'fast';

  // –§–æ—Ä–º–∞—Ç –≤—ã–≤–æ–¥–∞
  outputFormat?: 'component' | 'vnode' | 'string';

  // –ü–æ–¥–¥–µ—Ä–∂–∫–∞ JSX
  jsx?: boolean;
  jsxImportSource?: string;

  // –†–∞—Å—à–∏—Ä–µ–Ω–∏—è markdown
  gfm?: boolean;
  frontmatter?: boolean;
  math?: boolean;
  directives?: boolean;

  // –ü–æ–¥—Å–≤–µ—Ç–∫–∞ –∫–æ–¥–∞
  highlight?: SyntaxHighlightOptions;

  // –ü–ª–∞–≥–∏–Ω—ã
  remarkPlugins?: RemarkPlugin[];
  rehypePlugins?: RehypePlugin[];
  aetherPlugins?: AetherMDXPlugin[];

  // –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
  optimize?: CompileTimeOptimizations;

  // –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
  sanitize?: boolean;
  allowedElements?: string[];
  disallowedElements?: string[];
}

// MDX –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Ç–∏–ø—ã
export type MDXComponent<P = {}> = Component<P & MDXComponentProps>;

export interface MDXComponentProps {
  // –î–µ—Ç–∏ –º–æ–≥—É—Ç –±—ã—Ç—å MDX –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º
  children?: MDXContent;
  // –ü–æ–¥–¥–µ—Ä–∂–∫–∞ className –∏ style
  className?: string;
  style?: CSSProperties;
  // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ MDX-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –ø—Ä–æ–ø—Å—ã
  mdxType?: string;
  originalType?: string;
  parentName?: string;
}

// MDX –∫–æ–Ω—Ç–µ–Ω—Ç —Ç–∏–ø
export type MDXContent =
  | string
  | number
  | boolean
  | null
  | undefined
  | MDXElement
  | MDXContent[];

export interface MDXElement {
  $$typeof: symbol;
  type: string | Component;
  props: Record<string, any>;
  key?: string | number;
}
```

### API –º–µ—Ç–æ–¥—ã

```typescript
// –ö–æ–º–ø–∏–ª—è—Ü–∏—è MDX
export async function compileMDX(
  source: string,
  options?: CompileMDXOptions
): Promise<MDXModule>;

// –°–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∫–æ–º–ø–∏–ª—è—Ü–∏—è
export function compileMDXSync(
  source: string,
  options?: CompileMDXOptions
): MDXModule;

// –û—Ü–µ–Ω–∫–∞ —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ MDX
export function evaluateMDX(
  compiledCode: string,
  scope?: Record<string, any>
): MDXComponent;

// –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ MDX
export function renderMDX(
  component: MDXComponent,
  props?: Record<string, any>
): JSXElement;

// –ü–∞—Ä—Å–∏–Ω–≥ frontmatter
export function parseFrontmatter(
  source: string
): {
  data: Record<string, any>;
  content: string;
};

// –≠–∫—Å—Ç—Ä–∞–∫—Ç –æ–≥–ª–∞–≤–ª–µ–Ω–∏—è
export function extractTOC(
  source: string
): Array<{
  level: number;
  title: string;
  id: string;
}>;

// MDX module interface
export interface MDXModule {
  // –°–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥
  code: string;

  // –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
  default: MDXComponent;

  // Frontmatter –¥–∞–Ω–Ω—ã–µ
  frontmatter?: Record<string, any>;

  // –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ
  meta?: {
    title?: string;
    description?: string;
    keywords?: string[];
    author?: string;
    date?: Date;
  };

  // –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ
  toc?: TOCEntry[];

  // –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
  usedComponents?: string[];
}
```

### –•—É–∫–∏ –¥–ª—è MDX

```typescript
// Hook –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è MDX –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
export function useMDXContext(): MDXContextValue;

// Hook –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π –∫–æ–º–ø–∏–ª—è—Ü–∏–∏
export function useMDXCompiler(
  source: Signal<string>,
  options?: CompileMDXOptions
): Signal<MDXComponent | null>;

// Hook –¥–ª—è frontmatter
export function useFrontmatter(): Record<string, any>;

// Hook –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –ø–æ –∑–∞–≥–æ–ª–æ–≤–∫–∞–º
export function useMDXNavigation(): {
  toc: TOCEntry[];
  activeSection: Signal<string | null>;
  scrollToSection: (id: string) => void;
};

// Hook –¥–ª—è –ø–æ–¥—Å–≤–µ—Ç–∫–∏ –∫–æ–¥–∞
export function useSyntaxHighlight(
  code: string,
  language?: string
): Signal<string>;

// –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ö—É–∫–æ–≤
const MDXReader = defineComponent(() => {
  const mdxContext = useMDXContext();
  const frontmatter = useFrontmatter();
  const { toc, activeSection, scrollToSection } = useMDXNavigation();

  const [source, setSource] = createSignal('# Hello MDX');
  const compiled = useMDXCompiler(source, {
    mode: 'reactive',
    gfm: true
  });

  return () => (
    <div class="mdx-reader">
      <aside class="toc">
        <For each={toc}>
          {(item) => (
            <a
              href={`#${item.id}`}
              class={{ active: activeSection() === item.id }}
              onClick={() => scrollToSection(item.id)}
            >
              {item.title}
            </a>
          )}
        </For>
      </aside>
      <main>
        <Show when={compiled()} fallback={<div>Compiling...</div>}>
          {compiled()}
        </Show>
      </main>
    </div>
  );
});
```

### –£—Ç–∏–ª–∏—Ç—ã

```typescript
// Sanitize MDX –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
export function sanitizeMDX(
  source: string,
  options?: SanitizeOptions
): string;

// –í–∞–ª–∏–¥–∞—Ü–∏—è MDX
export function validateMDX(
  source: string
): {
  valid: boolean;
  errors?: Array<{
    line: number;
    column: number;
    message: string;
  }>;
};

// –¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è MDX –≤ HTML
export function mdxToHTML(
  source: string,
  options?: MDXToHTMLOptions
): string;

// –¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è MDX –≤ —Ç–µ–∫—Å—Ç
export function mdxToPlainText(
  source: string
): string;

// –ü–æ–¥—Å—á–µ—Ç –≤—Ä–µ–º–µ–Ω–∏ —á—Ç–µ–Ω–∏—è
export function calculateReadingTime(
  source: string
): {
  minutes: number;
  words: number;
};

// –≠–∫—Å—Ç—Ä–∞–∫—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
export function extractImages(
  source: string
): Array<{
  src: string;
  alt?: string;
  title?: string;
}>;

// –≠–∫—Å—Ç—Ä–∞–∫—Ç —Å—Å—ã–ª–æ–∫
export function extractLinks(
  source: string
): Array<{
  href: string;
  text: string;
  external: boolean;
}>;
```

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Aether Core

### –†–µ–∞–∫—Ç–∏–≤–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞

```typescript
// –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å signal/computed/effect –∏–∑ Aether
import { signal, computed, effect } from '@omnitron-dev/aether/core/reactivity';
import { batch, untrack } from '@omnitron-dev/aether/core/reactivity';

// MDX –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å—é
const ReactiveMarkdown = defineComponent<{ source: string }>((props) => {
  // –†–µ–∞–∫—Ç–∏–≤–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ markdown
  const content = signal(props.source);

  // –°–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π MDX —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ø–µ—Ä–µ–∫–æ–º–ø–∏–ª—è—Ü–∏–µ–π
  const compiled = computed(() => {
    return compileMDXSync(content(), {
      // –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –¥–ª—è —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞
      mode: 'reactive',
      // –ò—Å–ø–æ–ª—å–∑—É–µ–º VNode –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
      outputFormat: 'vnode'
    });
  });

  // –≠—Ñ—Ñ–µ–∫—Ç –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
  effect(() => {
    console.log('MDX content updated:', content().substring(0, 50));
  });

  return () => renderVNodeWithBindings(compiled());
});
```

### VNode —Å–∏—Å—Ç–µ–º–∞

```typescript
// –¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è MDX –≤ VNode –¥–ª—è fine-grained —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
import { createElementVNode, createTextVNode, VNodeType } from '@omnitron-dev/aether/reconciler';

class MDXToVNodeTransformer {
  transform(mdxNode: MDXNode): VNode {
    switch (mdxNode.type) {
      case 'element':
        return this.transformElement(mdxNode);
      case 'text':
        return createTextVNode(mdxNode.value);
      case 'mdxJsxFlowElement':
        return this.transformJSXElement(mdxNode);
      case 'mdxFlowExpression':
        return this.transformExpression(mdxNode);
      default:
        return createTextVNode('');
    }
  }

  transformElement(node: MDXElementNode): VNode {
    const children = node.children?.map(child => this.transform(child));
    const props = this.extractProps(node);

    // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ä–µ–∞–∫—Ç–∏–≤–Ω—ã–µ –ø—Ä–æ–ø—Å—ã
    const hasReactiveProps = Object.values(props).some(
      value => typeof value === 'function' && value.peek
    );

    if (hasReactiveProps) {
      // –°–æ–∑–¥–∞–µ–º VNode —Å —Ä–µ–∞–∫—Ç–∏–≤–Ω—ã–º–∏ –±–∏–Ω–¥–∏–Ω–≥–∞–º–∏
      return createElementVNode(node.tagName, props, children);
    }

    // –°—Ç–∞—Ç–∏—á–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç
    return createElementVNode(node.tagName, props, children);
  }

  transformExpression(node: MDXExpressionNode): VNode {
    // –û–±–æ—Ä–∞—á–∏–≤–∞–µ–º –≤—ã—Ä–∞–∂–µ–Ω–∏–µ –≤ —Ä–µ–∞–∫—Ç–∏–≤–Ω—ã–π —Ç–µ–∫—Å—Ç–æ–≤—ã–π —É–∑–µ–ª
    return {
      type: VNodeType.TEXT,
      text: '',
      // –î–æ–±–∞–≤–ª—è–µ–º —Ä–µ–∞–∫—Ç–∏–≤–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ç–µ–∫—Å—Ç–∞
      effects: [
        effect(() => {
          const value = evaluateExpression(node.value);
          // –û–±–Ω–æ–≤–ª—è–µ–º DOM –Ω–∞–ø—Ä—è–º—É—é –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏
          if (this.dom) {
            this.dom.textContent = String(value);
          }
        })
      ]
    };
  }
}
```

### –°—Ç–∏–ª–∏–∑–∞—Ü–∏—è —Å Aether —É—Ç–∏–ª–∏—Ç–∞–º–∏

```typescript
// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Aether —Å—Ç–∏–ª–µ–π –≤ MDX –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö
import { styles, mergeStyles, cssVars, conditionalStyles } from '@omnitron-dev/aether/utils/styles';

// MDX –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–º–∏ —Å—Ç–∏–ª—è–º–∏
const StyledMDXComponent = defineComponent((props) => {
  const isDark = signal(false);

  // –†–µ–∞–∫—Ç–∏–≤–Ω—ã–µ —Å—Ç–∏–ª–∏ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Aether —É—Ç–∏–ª–∏—Ç
  const containerStyles = computed(() =>
    mergeStyles(
      styles({
        padding: '1rem',
        borderRadius: '8px',
        transition: 'all 0.3s ease'
      }),
      conditionalStyles(
        isDark,
        {
          background: '#1a1a1a',
          color: '#ffffff'
        },
        {
          background: '#ffffff',
          color: '#000000'
        }
      ),
      cssVars({
        'mdx-primary': isDark() ? '#60a5fa' : '#3b82f6',
        'mdx-secondary': isDark() ? '#a78bfa' : '#8b5cf6'
      })
    )
  );

  return () => (
    <div style={containerStyles()}>
      <MDXContent />
      <button onClick={() => isDark.update(v => !v)}>
        Toggle Theme
      </button>
    </div>
  );
});
```

### –ö–æ–º–ø–æ–∑–∏—Ü–∏—è —Å –ø—Ä–∏–º–∏—Ç–∏–≤–∞–º–∏

```typescript
// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Aether –ø—Ä–∏–º–∏—Ç–∏–≤–æ–≤ –≤ MDX
import { Box, Card, Tooltip, Dialog, Code } from '@omnitron-dev/aether/primitives';

// –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π Code –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è MDX
const MDXCodeBlock = defineComponent<{ children: string; language?: string }>((props) => {
  const [copied, setCopied] = createSignal(false);

  const handleCopy = () => {
    navigator.clipboard.writeText(props.children);
    setCopied(true);
    setTimeout(() => setCopied(false), 2000);
  };

  return () => (
    <Box as="div" class="mdx-code-block">
      <Box as="header" class="code-header">
        <span>{props.language || 'plaintext'}</span>
        <Tooltip>
          <Tooltip.Trigger>
            <button onClick={handleCopy}>
              {copied() ? '‚úì' : 'üìã'}
            </button>
          </Tooltip.Trigger>
          <Tooltip.Content>
            {copied() ? 'Copied!' : 'Copy code'}
          </Tooltip.Content>
        </Tooltip>
      </Box>
      <Code block language={props.language}>
        {props.children}
      </Code>
    </Box>
  );
});

// –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –≤ MDX –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö
const mdxComponents = {
  pre: MDXCodeBlock,
  code: (props) => props.className?.includes('language-') ?
    MDXCodeBlock : Code
};
```

### SSR –∏ –≥–∏–¥—Ä–∞—Ç–∞—Ü–∏—è

```typescript
// SSR —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ MDX —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π Aether
import { renderToString, renderDocument } from '@omnitron-dev/aether/server';

async function renderMDXPage(mdxPath: string, props: any) {
  // –ö–æ–º–ø–∏–ª–∏—Ä—É–µ–º MDX –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
  const MDXComponent = await compileMDX(mdxPath, {
    mode: 'production',
    target: 'node'
  });

  // –†–µ–Ω–¥–µ—Ä–∏–º —Å SSR
  const html = await renderToString({
    routes: [{
      path: '/',
      component: MDXComponent
    }],
    base: '/'
  }, {
    url: new URL(mdxPath, 'http://localhost'),
    method: 'GET',
    headers: {}
  });

  // –ü–æ–¥–≥–æ—Ç–∞–≤–ª–∏–≤–∞–µ–º –¥–∞–Ω–Ω—ã–µ –¥–ª—è –≥–∏–¥—Ä–∞—Ç–∞—Ü–∏–∏
  const hydrationData = {
    mdxSource: mdxPath,
    props,
    // –°–µ—Ä–∏–∞–ª–∏–∑—É–µ–º —Ä–µ–∞–∫—Ç–∏–≤–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
    reactiveState: serializeSignals(props)
  };

  // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –ø–æ–ª–Ω—ã–π HTML –¥–æ–∫—É–º–µ–Ω—Ç
  return renderDocument(html.html, hydrationData, {
    title: 'MDX Page',
    description: 'Server-rendered MDX with Aether'
  });
}

// –ì–∏–¥—Ä–∞—Ç–∞—Ü–∏—è –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ
function hydrateMDX() {
  const data = window.__AETHER_DATA__;

  // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
  const restoredState = deserializeSignals(data.reactiveState);

  // –ö–æ–º–ø–∏–ª–∏—Ä—É–µ–º –∏ –º–æ–Ω—Ç–∏—Ä—É–µ–º MDX
  compileMDX(data.mdxSource).then(MDXComponent => {
    const app = MDXComponent(restoredState);
    document.getElementById('app').replaceWith(app);
  });
}
```

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

Aether MDX –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –ø–µ—Ä–µ–¥–æ–≤–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–º Markdown-–∫–æ–Ω—Ç–µ–Ω—Ç–æ–º, –≥–ª—É–±–æ–∫–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Å —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ–π —Å–∏—Å—Ç–µ–º–æ–π Aether Framework. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ signal/computed/effect –¥–ª—è —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏, VNode —Å–∏—Å—Ç–µ–º—ã –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–≥–æ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞, –∏ –Ω–∞—Ç–∏–≤–Ω—ã—Ö –ø—Ä–∏–º–∏—Ç–∏–≤–æ–≤ Aether –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –Ω–µ–ø—Ä–µ–≤–∑–æ–π–¥–µ–Ω–Ω—É—é –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ developer experience. –°–∏—Å—Ç–µ–º–∞ —Å–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∞ —Å —É—á–µ—Ç–æ–º –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–µ–π –∫–∞–∫ –ø—Ä–æ—Å—Ç—ã—Ö –±–ª–æ–≥–æ–≤, —Ç–∞–∫ –∏ —Å–ª–æ–∂–Ω—ã—Ö –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–æ–Ω–Ω—ã—Ö –ø–æ—Ä—Ç–∞–ª–æ–≤.