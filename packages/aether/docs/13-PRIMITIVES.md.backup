# 13. UI Primitives - Headless Component Library

> **Status**: Complete Specification
> **Last Updated**: 2025-10-06
> **Part of**: Aether Frontend Framework Specification

---

## Table of Contents

1. [Philosophy](#philosophy)
2. [Architecture](#architecture)
3. [Accessibility by Default](#accessibility-by-default)
4. [Core Primitives](#core-primitives)
   - [Dialog](#dialog)
   - [Popover](#popover)
   - [Dropdown Menu](#dropdown-menu)
   - [Select](#select)
   - [Combobox](#combobox)
   - [Tabs](#tabs)
   - [Accordion](#accordion)
   - [Radio Group](#radio-group)
   - [Checkbox Group](#checkbox-group)
   - [Slider](#slider)
   - [Toggle](#toggle)
   - [Switch](#switch)
   - [Alert Dialog](#alert-dialog)
   - [Sheet](#sheet)
   - [Command Palette](#command-palette)
   - [DatePicker](#datepicker)
   - [Calendar](#calendar)
   - [Form](#form)
   - [Avatar](#avatar)
   - [Badge](#badge)
   - [Progress](#progress)
   - [AspectRatio](#aspectratio)
   - [Toast](#toast)
   - [Collapsible](#collapsible)
   - [Skeleton](#skeleton)
   - [Label](#label)
   - [Input](#input)
   - [Textarea](#textarea)
   - [ScrollArea](#scrollarea)
   - [Pagination](#pagination)
   - [Menubar](#menubar)
   - [VisuallyHidden](#visuallyhidden)
   - [Card](#card)
   - [Breadcrumb](#breadcrumb)
   - [Toolbar](#toolbar)
   - [Alert](#alert)
   - [Kbd](#kbd)
   - [Code](#code)
   - [Table](#table)
   - [NavigationMenu](#navigationmenu)
   - [Carousel](#carousel)
   - [Rating](#rating)
   - [Tree](#tree)
   - [Stepper](#stepper)
   - [ToggleGroup](#togglegroup)
   - [PinInput](#pininput)
   - [TimePicker](#timepicker)
   - [DateRangePicker](#daterangepicker)
   - [FileUpload](#fileupload)
   - [RangeSlider](#rangeslider)
   - [MultiSelect](#multiselect)
   - [TagsInput](#tagsinput)
   - [ColorPicker](#colorpicker)
   - [Drawer](#drawer)
   - [Editable](#editable)
   - [NumberInput](#numberinput)
   - [Empty](#empty)
   - [Spinner](#spinner)
   - [Timeline](#timeline)
   - [Resizable](#resizable)
   - [VirtualList](#virtuallist)
   - [Image](#image)
   - [Mentions](#mentions)
   - [Transfer](#transfer)
   - [Affix](#affix)
   - [Popconfirm](#popconfirm)
   - [Notification](#notification)
   - [Masonry](#masonry)
   - [Box](#box)
   - [Flex](#flex)
   - [Grid](#grid)
   - [Stack](#stack)
   - [Container](#container)
   - [Center](#center)
   - [Spacer](#spacer)
   - [Space](#space)
   - [SimpleGrid](#simplegrid)
   - [Divider](#divider)
5. [Composition Patterns](#composition-patterns)
6. [Customization](#customization)
7. [Theme Integration](#theme-integration)
8. [Animation System](#animation-system)
9. [Testing Primitives](#testing-primitives)
10. [Advanced Patterns](#advanced-patterns)
11. [Best Practices](#best-practices)

---

## Philosophy

### Why Headless Components?

Traditional component libraries couple **behavior** with **presentation**, leading to:

**Problems**:
- **Limited Customization**: Hard to override styles without `!important` hacks
- **Bundle Bloat**: Shipping CSS you might not use
- **Design Lock-in**: Forced to use the library's design system
- **Accessibility Gaps**: Often bolted on as an afterthought
- **Framework Coupling**: Tied to specific styling solutions (CSS-in-JS, CSS Modules, etc.)

**Aether Primitives Solution**:
```typescript
// Headless = Unstyled but fully functional + accessible
import { Dialog } from 'aether/primitives';

// You control 100% of the presentation
<Dialog>
  <Dialog.Trigger class="my-button">Open</Dialog.Trigger>
  <Dialog.Content class="my-modal">
    <Dialog.Title class="my-title">Welcome</Dialog.Title>
    <Dialog.Description class="my-text">
      This is your custom styled modal
    </Dialog.Description>
    <Dialog.Close class="my-close-btn">Close</Dialog.Close>
  </Dialog.Content>
</Dialog>
```

**Benefits**:
- **Full Design Control**: Style with CSS, Tailwind, theme tokens, anything
- **Zero Bundle Overhead**: No unused CSS shipped to production
- **Accessibility First**: WAI-ARIA compliant out of the box
- **Composable**: Build complex UIs from simple primitives
- **Type-Safe**: Full TypeScript support with autocomplete
- **Framework Coherent**: Integrates with Aether reactivity and DI

### Headless vs Traditional Libraries

| Aspect | Traditional (Material-UI) | Headless (Aether Primitives) |
|--------|---------------------------|------------------------------|
| **Styling** | Pre-styled (theme overrides) | Unstyled (you provide all styles) |
| **Bundle Size** | 150KB+ (with styles) | 12KB (behavior only) |
| **Customization** | Theme API, `sx` prop, CSS override | Direct CSS/Tailwind/CSS-in-JS |
| **Accessibility** | Variable (community maintained) | Built-in (WAI-ARIA by design) |
| **Learning Curve** | Library-specific API + theme system | Web standards + small API surface |
| **Design System** | Material Design by default | Your design system |

### Inspiration

Aether Primitives draws from the best:

- **Radix UI**: WAI-ARIA compliance, composable API
- **Headless UI**: Simplicity, framework integration
- **Ark UI**: Advanced state machines, framework agnostic
- **React Aria**: Adobe's accessibility expertise
- **shadcn/ui**: Developer experience, copy-paste philosophy

**But with Aether advantages**:
- Fine-grained reactivity (no Virtual DOM overhead)
- Compile-time optimizations
- Deep TypeScript integration
- Unified with Aether DI and theming
- SSR/Islands architecture support

---

## Architecture

### Component Structure

Every primitive follows a consistent pattern:

```typescript
// 1. Root Component (Context Provider)
<Primitive>
  {/* Manages state, keyboard navigation, focus management */}

  // 2. Trigger/Button (Opens/activates the primitive)
  <Primitive.Trigger>...</Primitive.Trigger>

  // 3. Content (The main interactive area)
  <Primitive.Content>
    {/* 4. Sub-components (Title, Description, etc.) */}
    <Primitive.Title>...</Primitive.Title>
    <Primitive.Description>...</Primitive.Description>
  </Primitive.Content>

  // 5. Close/Cancel (Dismisses the primitive)
  <Primitive.Close>...</Primitive.Close>
</Primitive>
```

### State Management

Each primitive uses **signals** for reactive state:

```typescript
// Internal implementation (simplified)
export const Dialog = defineComponent(() => {
  // Fine-grained reactive state
  const isOpen = signal(false);
  const triggerRef = signal<HTMLElement | null>(null);
  const contentRef = signal<HTMLElement | null>(null);

  // Computed values
  const shouldRenderContent = computed(() => isOpen());

  // Effects for side effects
  effect(() => {
    if (isOpen()) {
      // Trap focus, disable body scroll
      disableBodyScroll(contentRef());
      trapFocus(contentRef());
    } else {
      // Restore on close
      enableBodyScroll();
      restoreFocus(triggerRef());
    }
  });

  // Provide context to children
  provideContext(DialogContext, {
    isOpen,
    open: () => isOpen(true),
    close: () => isOpen(false),
    toggle: () => isOpen(!isOpen())
  });

  return () => <slot />;
});
```

### Context System

Primitives use Aether context for component communication:

```typescript
// DialogContext.ts
export interface DialogContextValue {
  isOpen: Signal<boolean>;
  open: () => void;
  close: () => void;
  toggle: () => void;
  triggerId: string;
  contentId: string;
  titleId: string;
  descriptionId: string;
}

export const DialogContext = createContext<DialogContextValue>('Dialog');

// Usage in sub-components
export const DialogTrigger = defineComponent((props) => {
  const ctx = injectContext(DialogContext);

  return () => (
    <button
      id={ctx.triggerId}
      aria-haspopup="dialog"
      aria-expanded={ctx.isOpen()}
      aria-controls={ctx.contentId}
      on:click={ctx.toggle}
      {...props}
    >
      <slot />
    </button>
  );
});
```

### Accessibility Architecture

Every primitive implements WAI-ARIA patterns:

1. **Semantic HTML**: Use native elements when possible
2. **ARIA Attributes**: Proper roles, states, properties
3. **Keyboard Navigation**: Full keyboard support
4. **Focus Management**: Logical tab order, focus trapping
5. **Screen Reader Support**: Announcements, labels, descriptions

```typescript
// Example: Accessible Dialog
<div
  role="dialog"
  aria-modal="true"
  aria-labelledby={titleId}
  aria-describedby={descriptionId}
  tabindex="-1"
>
  <h2 id={titleId}>Dialog Title</h2>
  <p id={descriptionId}>Dialog description for screen readers</p>
  {/* Content */}
</div>
```

---

## Accessibility by Default

### WAI-ARIA Compliance

All primitives follow [WAI-ARIA Authoring Practices](https://www.w3.org/WAI/ARIA/apg/):

| Primitive | ARIA Pattern | Key Features |
|-----------|--------------|--------------|
| Dialog | [Dialog (Modal)](https://www.w3.org/WAI/ARIA/apg/patterns/dialog-modal/) | Focus trap, Esc closes, focus restoration |
| Popover | [Disclosure](https://www.w3.org/WAI/ARIA/apg/patterns/disclosure/) | aria-expanded, aria-controls |
| Dropdown | [Menu Button](https://www.w3.org/WAI/ARIA/apg/patterns/menubutton/) | Arrow keys, Home/End, typeahead |
| Select | [Listbox](https://www.w3.org/WAI/ARIA/apg/patterns/listbox/) | aria-selected, keyboard selection |
| Tabs | [Tabs](https://www.w3.org/WAI/ARIA/apg/patterns/tabs/) | Arrow keys, automatic/manual activation |
| Accordion | [Accordion](https://www.w3.org/WAI/ARIA/apg/patterns/accordion/) | Expand/collapse with Enter/Space |
| Slider | [Slider](https://www.w3.org/WAI/ARIA/apg/patterns/slider/) | Arrow keys, Page Up/Down, Home/End |

### Keyboard Navigation

Standard keyboard shortcuts across all primitives:

```typescript
// Common keyboard patterns
const KEYBOARD_SHORTCUTS = {
  // Close/Dismiss
  Escape: 'Close current overlay/dialog',

  // Navigation
  ArrowDown: 'Move focus to next item',
  ArrowUp: 'Move focus to previous item',
  Home: 'Move focus to first item',
  End: 'Move focus to last item',

  // Selection
  Enter: 'Activate/select focused item',
  Space: 'Activate/toggle focused item',

  // Tabs
  Tab: 'Move to next focusable element',
  'Shift+Tab': 'Move to previous focusable element',

  // Typeahead (for lists/menus)
  'a-z': 'Jump to item starting with typed character'
};
```

Example implementation:

```typescript
// Dropdown Menu keyboard handling
const handleKeyDown = (event: KeyboardEvent) => {
  switch (event.key) {
    case 'ArrowDown':
      event.preventDefault();
      focusNextItem();
      break;
    case 'ArrowUp':
      event.preventDefault();
      focusPreviousItem();
      break;
    case 'Home':
      event.preventDefault();
      focusFirstItem();
      break;
    case 'End':
      event.preventDefault();
      focusLastItem();
      break;
    case 'Escape':
      event.preventDefault();
      close();
      restoreFocus();
      break;
    case 'Enter':
    case ' ':
      event.preventDefault();
      selectCurrentItem();
      break;
    default:
      // Typeahead search
      handleTypeahead(event.key);
  }
};
```

### Focus Management

Primitives automatically manage focus:

```typescript
// Focus trap example (Dialog, Popover)
export const useFocusTrap = (containerRef: Signal<HTMLElement | null>) => {
  const previousActiveElement = signal<HTMLElement | null>(null);

  effect(() => {
    const container = containerRef();
    if (!container) return;

    // Store current focus
    previousActiveElement(document.activeElement as HTMLElement);

    // Get all focusable elements
    const focusableElements = getFocusableElements(container);
    const firstElement = focusableElements[0];
    const lastElement = focusableElements[focusableElements.length - 1];

    // Focus first element
    firstElement?.focus();

    // Trap focus within container
    const handleKeyDown = (e: KeyboardEvent) => {
      if (e.key !== 'Tab') return;

      if (e.shiftKey) {
        // Shift+Tab on first element -> focus last
        if (document.activeElement === firstElement) {
          e.preventDefault();
          lastElement?.focus();
        }
      } else {
        // Tab on last element -> focus first
        if (document.activeElement === lastElement) {
          e.preventDefault();
          firstElement?.focus();
        }
      }
    };

    container.addEventListener('keydown', handleKeyDown);

    return () => {
      container.removeEventListener('keydown', handleKeyDown);
      // Restore focus on cleanup
      previousActiveElement()?.focus();
    };
  });
};

// Get focusable elements
const getFocusableElements = (container: HTMLElement): HTMLElement[] => {
  const selector = [
    'a[href]',
    'button:not([disabled])',
    'input:not([disabled])',
    'select:not([disabled])',
    'textarea:not([disabled])',
    '[tabindex]:not([tabindex="-1"])'
  ].join(', ');

  return Array.from(container.querySelectorAll(selector));
};
```

### Screen Reader Support

Proper labeling and announcements:

```typescript
// Live region announcements
export const useLiveRegion = () => {
  const announce = (message: string, priority: 'polite' | 'assertive' = 'polite') => {
    const liveRegion = document.createElement('div');
    liveRegion.setAttribute('role', 'status');
    liveRegion.setAttribute('aria-live', priority);
    liveRegion.setAttribute('aria-atomic', 'true');
    liveRegion.className = 'sr-only'; // Visually hidden
    liveRegion.textContent = message;

    document.body.appendChild(liveRegion);

    // Remove after announcement
    setTimeout(() => {
      document.body.removeChild(liveRegion);
    }, 1000);
  };

  return { announce };
};

// Usage in components
const { announce } = useLiveRegion();

// When dialog opens
announce('Dialog opened');

// When form has errors
announce('Form has 3 errors', 'assertive');

// When action completes
announce('Item added to cart');
```

### Visually Hidden Utility

For screen reader only content:

```css
/* sr-only class for screen reader only text */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}
```

```html
<!-- Usage -->
<button aria-label="Close dialog">
  <XIcon aria-hidden="true" />
  <span class="sr-only">Close</span>
</button>
```

---

## Core Primitives

### Dialog

A modal dialog that overlays the page content.

#### Features

- Focus trapping
- Body scroll locking
- Esc to close
- Click outside to close (optional)
- Focus restoration on close
- Nested dialog support
- Animated enter/exit
- Portal rendering (escape DOM hierarchy)

#### Basic Usage

```typescript
import { defineComponent, signal } from 'aether';
import { Dialog } from 'aether/primitives';

export const ProfileDialog = defineComponent(() => {
  const isOpen = signal(false);

  return () => (
    <Dialog bind:open={isOpen}>
      <Dialog.Trigger>Open Dialog</Dialog.Trigger>

      <Dialog.Portal>
        <Dialog.Overlay class="dialog-overlay" />
        <Dialog.Content class="dialog-content">
          <Dialog.Title class="dialog-title">
            Edit Profile
          </Dialog.Title>
          <Dialog.Description class="dialog-description">
            Make changes to your profile here. Click save when you're done.
          </Dialog.Description>

          <form class="dialog-form">
            <label>
              Name
              <input type="text" value="John Doe" />
            </label>
            <label>
              Email
              <input type="email" value="john@example.com" />
            </label>
          </form>

          <div class="dialog-actions">
            <Dialog.Close class="btn-secondary">Cancel</Dialog.Close>
            <button class="btn-primary" on:click={() => save()}>
              Save Changes
            </button>
          </div>

          <Dialog.Close class="dialog-close-icon" aria-label="Close">
            <XIcon />
          </Dialog.Close>
        </Dialog.Content>
      </Dialog.Portal>
    </Dialog>
  );
});
```

#### Controlled vs Uncontrolled

```typescript
// Uncontrolled (Dialog manages state internally)
<Dialog>
  <Dialog.Trigger>Open</Dialog.Trigger>
  <Dialog.Content>...</Dialog.Content>
</Dialog>

// Controlled (You manage state externally)
const isOpen = signal(false);

<Dialog bind:open={isOpen}>
  <Dialog.Trigger>Open</Dialog.Trigger>
  <Dialog.Content>...</Dialog.Content>
</Dialog>

// Programmatic control
<button on:click={() => isOpen(true)}>Open from outside</button>
```

#### Styling Example

```css
/* Overlay (backdrop) */
.dialog-overlay {
  position: fixed;
  inset: 0;
  background-color: rgba(0, 0, 0, 0.5);
  backdrop-filter: blur(4px);
  z-index: var(--z-modal);

  /* Animation */
  animation: fadeIn 200ms ease-out;
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

/* Content */
.dialog-content {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);

  width: 90vw;
  max-width: 450px;
  max-height: 85vh;
  overflow: auto;

  background: var(--color-background-primary);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-xl);
  padding: var(--spacing-6);

  z-index: calc(var(--z-modal) + 1);

  /* Animation */
  animation: slideIn 200ms ease-out;
}

@keyframes slideIn {
  from {
    opacity: 0;
    transform: translate(-50%, -48%) scale(0.96);
  }
  to {
    opacity: 1;
    transform: translate(-50%, -50%) scale(1);
  }
}

/* Title */
.dialog-title {
  font-size: var(--font-size-lg);
  font-weight: var(--font-weight-semibold);
  color: var(--color-text-primary);
  margin-bottom: var(--spacing-2);
}

/* Description */
.dialog-description {
  font-size: var(--font-size-sm);
  color: var(--color-text-secondary);
  margin-bottom: var(--spacing-4);
}

/* Close icon button */
.dialog-close-icon {
  position: absolute;
  top: var(--spacing-4);
  right: var(--spacing-4);

  display: flex;
  align-items: center;
  justify-content: center;

  width: 32px;
  height: 32px;

  background: transparent;
  border: none;
  border-radius: var(--radius-md);
  cursor: pointer;

  color: var(--color-text-secondary);

  transition: background-color var(--transition-fast);
}

.dialog-close-icon:hover {
  background: var(--color-background-secondary);
}
```

#### API Reference

**`<Dialog>`** - Root component

Props:
- `open?: Signal<boolean>` - Controlled open state
- `defaultOpen?: boolean` - Initial open state (uncontrolled)
- `onOpenChange?: (open: boolean) => void` - Callback when open state changes
- `modal?: boolean` - Whether to render as modal (default: true)

**`<Dialog.Trigger>`** - Opens the dialog

Props:
- `asChild?: boolean` - Merge props into child instead of wrapping

**`<Dialog.Portal>`** - Portal for rendering outside DOM hierarchy

Props:
- `container?: HTMLElement` - Custom container (default: document.body)

**`<Dialog.Overlay>`** - Backdrop overlay

**`<Dialog.Content>`** - Main dialog content

Props:
- `onEscapeKeyDown?: (event: KeyboardEvent) => void` - Handle Esc key
- `onPointerDownOutside?: (event: PointerEvent) => void` - Handle click outside
- `onInteractOutside?: (event: Event) => void` - Handle any interaction outside
- `forceMount?: boolean` - Force mount even when closed (for animations)
- `trapFocus?: boolean` - Trap focus within dialog (default: true)
- `closeOnEscape?: boolean` - Close on Esc key (default: true)
- `closeOnOutsideClick?: boolean` - Close on outside click (default: true)

**`<Dialog.Title>`** - Dialog title (required for accessibility)

**`<Dialog.Description>`** - Dialog description (required for accessibility)

**`<Dialog.Close>`** - Closes the dialog

#### Advanced: Nested Dialogs

```html
<Dialog>
  <Dialog.Trigger>Open Outer</Dialog.Trigger>
  <Dialog.Content>
    <Dialog.Title>Outer Dialog</Dialog.Title>

    <!-- Nested dialog -->
    <Dialog>
      <Dialog.Trigger>Open Inner</Dialog.Trigger>
      <Dialog.Content>
        <Dialog.Title>Inner Dialog</Dialog.Title>
        <p>This is a nested dialog</p>
        <Dialog.Close>Close Inner</Dialog.Close>
      </Dialog.Content>
    </Dialog>

    <Dialog.Close>Close Outer</Dialog.Close>
  </Dialog.Content>
</Dialog>
```

Focus management automatically handles nested dialogs:
- Focus trap applies to the topmost dialog
- Esc closes only the topmost dialog
- Closing inner dialog restores focus to outer dialog

#### Advanced: Custom Close Behavior

```typescript
import { defineComponent, signal } from 'aether';
import { Dialog } from 'aether/primitives';

export const UnsavedChangesDialog = defineComponent(() => {
  const isOpen = signal(false);
  const hasUnsavedChanges = signal(false);

  const handleOpenChange = (open: boolean) => {
    if (!open && hasUnsavedChanges()) {
      // Prevent closing if there are unsaved changes
      if (!confirm('You have unsaved changes. Close anyway?')) {
        return; // Don't close
      }
    }
    isOpen(open);
  };

  return () => (
    <Dialog bind:open={isOpen} onOpenChange={handleOpenChange}>
      {/* ... */}
    </Dialog>
  );
});
```

#### Advanced: Animation with `forceMount`

```typescript
import { defineComponent, signal } from 'aether';
import { Dialog } from 'aether/primitives';
import { presence } from 'aether/primitives/animation';

export const AnimatedDialog = defineComponent(() => {
  const isOpen = signal(false);
  const overlayPresence = presence(() => isOpen());
  const contentPresence = presence(() => isOpen());

  return () => (
    <Dialog bind:open={isOpen}>
      <Dialog.Trigger>Open</Dialog.Trigger>

      <Dialog.Portal>
        <Dialog.Overlay
          forceMount
          data-state={overlayPresence.state()}
          class="dialog-overlay"
        />
        <Dialog.Content
          forceMount
          data-state={contentPresence.state()}
          class="dialog-content"
        >
          {/* Content */}
        </Dialog.Content>
      </Dialog.Portal>
    </Dialog>
  );
});
```

```css
/* Animate based on data-state */
.dialog-overlay[data-state="open"] {
  animation: fadeIn 200ms;
}

.dialog-overlay[data-state="closed"] {
  animation: fadeOut 200ms;
}

.dialog-content[data-state="open"] {
  animation: slideIn 200ms;
}

.dialog-content[data-state="closed"] {
  animation: slideOut 200ms;
}
```

---

### Popover

Non-modal floating element positioned relative to a trigger.

#### Features

- Smart positioning (auto-flip, auto-shift)
- Arrow pointing to trigger
- Click outside to close
- Esc to close
- Focus management (optional trap)
- Collision detection
- Virtual element support

#### Basic Usage

```typescript
import { defineComponent } from 'aether';
import { Popover } from 'aether/primitives';

export const NotificationsPopover = defineComponent(() => {
  return () => (
    <Popover>
      <Popover.Trigger class="btn">
        Open Popover
      </Popover.Trigger>

      <Popover.Content class="popover-content">
        <Popover.Arrow class="popover-arrow" />

        <div class="popover-header">
          <h3>Notifications</h3>
          <Popover.Close class="popover-close">
            <XIcon />
          </Popover.Close>
        </div>

        <div class="popover-body">
          <p>You have 3 new notifications</p>
          <ul>
            <li>Message from Alice</li>
            <li>New follower</li>
            <li>Comment on your post</li>
          </ul>
        </div>
      </Popover.Content>
    </Popover>
  );
});
```

#### Positioning

```typescript
import { defineComponent } from 'aether';
import { Popover } from 'aether/primitives';

export const PositionedPopover = defineComponent(() => {
  return () => (
    <>
      {/* Side options: top, right, bottom, left */}
      {/* Align options: start, center, end */}
      <Popover>
        <Popover.Trigger>Open</Popover.Trigger>
        <Popover.Content
          side="bottom"
          align="start"
          sideOffset={8}
          alignOffset={0}
        >
          Positioned at bottom-start with 8px offset
        </Popover.Content>
      </Popover>

      {/* Auto-positioning (flips if no space) */}
      <Popover>
        <Popover.Trigger>Open</Popover.Trigger>
        <Popover.Content
          side="top"
          avoidCollisions={true}
          collisionPadding={16}
        >
          Will flip to bottom if not enough space at top
        </Popover.Content>
      </Popover>
    </>
  );
});
```

#### Styling Example

```css
.popover-content {
  background: var(--color-background-primary);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  box-shadow: var(--shadow-lg);
  padding: var(--spacing-4);

  max-width: 300px;

  z-index: var(--z-popover);

  /* Animation */
  animation: scaleIn 150ms ease-out;
  transform-origin: var(--radix-popover-content-transform-origin);
}

@keyframes scaleIn {
  from {
    opacity: 0;
    transform: scale(0.95);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

.popover-arrow {
  fill: var(--color-background-primary);
  stroke: var(--color-border);
  stroke-width: 1px;
}
```

#### API Reference

**`<Popover>`** - Root component

Props:
- `open?: Signal<boolean>` - Controlled open state
- `defaultOpen?: boolean` - Initial open state
- `onOpenChange?: (open: boolean) => void` - Callback
- `modal?: boolean` - Modal behavior (default: false)

**`<Popover.Trigger>`** - Opens the popover

**`<Popover.Anchor>`** - Optional anchor element (different from trigger)

**`<Popover.Content>`** - Popover content

Props:
- `side?: 'top' | 'right' | 'bottom' | 'left'` - Preferred side (default: 'bottom')
- `align?: 'start' | 'center' | 'end'` - Alignment (default: 'center')
- `sideOffset?: number` - Offset from anchor (default: 0)
- `alignOffset?: number` - Offset along alignment axis (default: 0)
- `avoidCollisions?: boolean` - Auto-flip/shift to avoid viewport edges (default: true)
- `collisionPadding?: number | { top, right, bottom, left }` - Padding from edges (default: 10)
- `sticky?: 'partial' | 'always'` - Keep in viewport when scrolling
- `hideWhenDetached?: boolean` - Hide when anchor is fully clipped (default: false)
- `onEscapeKeyDown?: (event: KeyboardEvent) => void`
- `onPointerDownOutside?: (event: PointerEvent) => void`

**`<Popover.Arrow>`** - Arrow pointing to trigger

Props:
- `width?: number` - Arrow width (default: 10)
- `height?: number` - Arrow height (default: 5)

**`<Popover.Close>`** - Closes the popover

#### Advanced: Tooltip Behavior

```typescript
import { defineComponent, signal } from 'aether';
import { Popover } from 'aether/primitives';

export const TooltipBehaviorPopover = defineComponent(() => {
  const delayOpen = 700; // ms
  const delayClose = 300;
  const isOpen = signal(false);

  const handleMouseEnter = () => {
    setTimeout(() => isOpen(true), delayOpen);
  };

  const handleMouseLeave = () => {
    setTimeout(() => isOpen(false), delayClose);
  };

  return () => (
    <Popover bind:open={isOpen}>
      <Popover.Trigger
        on:mouseenter={handleMouseEnter}
        on:mouseleave={handleMouseLeave}
      >
        Hover me
      </Popover.Trigger>

      <Popover.Content
        side="top"
        onPointerDownOutside={(e) => e.preventDefault()} {/* Don't close on outside click */}
      >
        Tooltip content
      </Popover.Content>
    </Popover>
  );
});
```

---

### Dropdown Menu

A menu of actions or links triggered by a button.

#### Features

- Keyboard navigation (arrows, Home, End)
- Typeahead search
- Sub-menus (nested)
- Checkboxes and radio items
- Separators and labels
- Disabled items
- Custom trigger

#### Basic Usage

```typescript
import { defineComponent } from 'aether';
import { DropdownMenu } from 'aether/primitives';

export const ActionsDropdown = defineComponent(() => {
  const handleAction = (action: string) => {
    console.log('Action:', action);
  };

  return () => (
    <DropdownMenu>
      <DropdownMenu.Trigger class="btn">
        Actions
        <ChevronDownIcon />
      </DropdownMenu.Trigger>

      <DropdownMenu.Content class="dropdown-content">
        <DropdownMenu.Item
          class="dropdown-item"
          on:select={() => handleAction('new')}
        >
          <PlusIcon />
          New File
          <DropdownMenu.Shortcut>⌘N</DropdownMenu.Shortcut>
        </DropdownMenu.Item>

        <DropdownMenu.Item
          class="dropdown-item"
          on:select={() => handleAction('open')}
        >
          <FolderIcon />
          Open...
          <DropdownMenu.Shortcut>⌘O</DropdownMenu.Shortcut>
        </DropdownMenu.Item>

        <DropdownMenu.Separator class="dropdown-separator" />

        <DropdownMenu.Item
          class="dropdown-item"
          disabled
        >
          <SaveIcon />
          Save (disabled)
        </DropdownMenu.Item>

        <DropdownMenu.Separator />

        <DropdownMenu.Item
          class="dropdown-item destructive"
          on:select={() => handleAction('delete')}
        >
          <TrashIcon />
          Delete
          <DropdownMenu.Shortcut>⌘⌫</DropdownMenu.Shortcut>
        </DropdownMenu.Item>
      </DropdownMenu.Content>
    </DropdownMenu>
  );
});
```

#### Sub-menus

```html
<DropdownMenu>
  <DropdownMenu.Trigger>Menu</DropdownMenu.Trigger>

  <DropdownMenu.Content>
    <DropdownMenu.Item>New File</DropdownMenu.Item>

    <!-- Sub-menu -->
    <DropdownMenu.Sub>
      <DropdownMenu.SubTrigger class="dropdown-item">
        Open Recent
        <ChevronRightIcon class="ml-auto" />
      </DropdownMenu.SubTrigger>

      <DropdownMenu.SubContent class="dropdown-content">
        <DropdownMenu.Item>project-1.ts</DropdownMenu.Item>
        <DropdownMenu.Item>project-2.ts</DropdownMenu.Item>
        <DropdownMenu.Item>project-3.ts</DropdownMenu.Item>
      </DropdownMenu.SubContent>
    </DropdownMenu.Sub>

    <DropdownMenu.Separator />

    <DropdownMenu.Item>Settings</DropdownMenu.Item>
  </DropdownMenu.Content>
</DropdownMenu>
```

#### Checkbox Items

```typescript
import { defineComponent, signal } from 'aether';
import { DropdownMenu } from 'aether/primitives';

export const ViewDropdown = defineComponent(() => {
  const showBookmarks = signal(true);
  const showHistory = signal(false);

  return () => (
    <DropdownMenu>
      <DropdownMenu.Trigger>View</DropdownMenu.Trigger>

      <DropdownMenu.Content>
        <DropdownMenu.Label class="dropdown-label">
          Panels
        </DropdownMenu.Label>

        <DropdownMenu.CheckboxItem
          class="dropdown-item"
          bind:checked={showBookmarks}
        >
          <DropdownMenu.ItemIndicator class="dropdown-indicator">
            <CheckIcon />
          </DropdownMenu.ItemIndicator>
          Show Bookmarks
        </DropdownMenu.CheckboxItem>

        <DropdownMenu.CheckboxItem
          class="dropdown-item"
          bind:checked={showHistory}
        >
          <DropdownMenu.ItemIndicator class="dropdown-indicator">
            <CheckIcon />
          </DropdownMenu.ItemIndicator>
          Show History
        </DropdownMenu.CheckboxItem>
      </DropdownMenu.Content>
    </DropdownMenu>
  );
});
```

#### Radio Items

```typescript
import { defineComponent, signal } from 'aether';
import { DropdownMenu } from 'aether/primitives';

export const ThemeDropdown = defineComponent(() => {
  const theme = signal<'light' | 'dark' | 'system'>('system');

  return () => (
    <DropdownMenu>
      <DropdownMenu.Trigger>Theme</DropdownMenu.Trigger>

      <DropdownMenu.Content>
        <DropdownMenu.Label>Appearance</DropdownMenu.Label>

        <DropdownMenu.RadioGroup bind:value={theme}>
          <DropdownMenu.RadioItem value="light" class="dropdown-item">
            <DropdownMenu.ItemIndicator class="dropdown-indicator">
              <DotIcon />
            </DropdownMenu.ItemIndicator>
            Light
          </DropdownMenu.RadioItem>

          <DropdownMenu.RadioItem value="dark" class="dropdown-item">
            <DropdownMenu.ItemIndicator class="dropdown-indicator">
              <DotIcon />
            </DropdownMenu.ItemIndicator>
            Dark
          </DropdownMenu.RadioItem>

          <DropdownMenu.RadioItem value="system" class="dropdown-item">
            <DropdownMenu.ItemIndicator class="dropdown-indicator">
              <DotIcon />
            </DropdownMenu.ItemIndicator>
            System
          </DropdownMenu.RadioItem>
        </DropdownMenu.RadioGroup>
      </DropdownMenu.Content>
    </DropdownMenu>
  );
});
```

#### Styling Example

```css
.dropdown-content {
  min-width: 220px;
  background: var(--color-background-primary);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  box-shadow: var(--shadow-lg);
  padding: var(--spacing-1);

  z-index: var(--z-dropdown);

  animation: slideDown 150ms ease-out;
}

@keyframes slideDown {
  from {
    opacity: 0;
    transform: translateY(-8px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.dropdown-item {
  display: flex;
  align-items: center;
  gap: var(--spacing-2);

  padding: var(--spacing-2) var(--spacing-3);
  border-radius: var(--radius-sm);

  font-size: var(--font-size-sm);
  color: var(--color-text-primary);

  cursor: pointer;
  user-select: none;
  outline: none;

  transition: background-color var(--transition-fast);
}

.dropdown-item:hover,
.dropdown-item:focus {
  background: var(--color-background-secondary);
}

.dropdown-item[data-disabled] {
  color: var(--color-text-disabled);
  pointer-events: none;
}

.dropdown-item.destructive {
  color: var(--color-error);
}

.dropdown-separator {
  height: 1px;
  background: var(--color-border);
  margin: var(--spacing-1) 0;
}

.dropdown-label {
  padding: var(--spacing-2) var(--spacing-3);
  font-size: var(--font-size-xs);
  font-weight: var(--font-weight-semibold);
  color: var(--color-text-secondary);
}

.dropdown-indicator {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 16px;
  height: 16px;
}
```

#### API Reference

**`<DropdownMenu>`** - Root component

**`<DropdownMenu.Trigger>`** - Opens the menu

**`<DropdownMenu.Content>`** - Menu content

Props: Same as Popover.Content (positioning, collision detection, etc.)

**`<DropdownMenu.Item>`** - Menu item

Props:
- `disabled?: boolean` - Disable the item
- `onSelect?: (event: Event) => void` - Called when item is selected
- `textValue?: string` - For typeahead search

**`<DropdownMenu.CheckboxItem>`** - Checkbox menu item

Props:
- `checked?: Signal<boolean>` - Controlled checked state
- `onCheckedChange?: (checked: boolean) => void`
- `disabled?: boolean`

**`<DropdownMenu.RadioGroup>`** - Radio group container

Props:
- `value?: Signal<string>` - Controlled selected value
- `onValueChange?: (value: string) => void`

**`<DropdownMenu.RadioItem>`** - Radio menu item

Props:
- `value: string` - Item value
- `disabled?: boolean`

**`<DropdownMenu.Sub>`** - Sub-menu container

**`<DropdownMenu.SubTrigger>`** - Opens sub-menu

**`<DropdownMenu.SubContent>`** - Sub-menu content

**`<DropdownMenu.Separator>`** - Visual separator

**`<DropdownMenu.Label>`** - Non-interactive label

**`<DropdownMenu.ItemIndicator>`** - Shows only when checkbox/radio is checked

**`<DropdownMenu.Shortcut>`** - Keyboard shortcut hint (non-functional)

#### Advanced: Context Menu

```typescript
import { defineComponent } from 'aether';
import { ContextMenu } from 'aether/primitives';

export const BasicContextMenu = defineComponent(() => {
  return () => (
    <ContextMenu>
      <ContextMenu.Trigger class="context-area">
        Right click here
      </ContextMenu.Trigger>

      <ContextMenu.Content class="dropdown-content">
        <ContextMenu.Item>Cut</ContextMenu.Item>
        <ContextMenu.Item>Copy</ContextMenu.Item>
        <ContextMenu.Item>Paste</ContextMenu.Item>
      </ContextMenu.Content>
    </ContextMenu>
  );
});
```

Context Menu uses the same API as Dropdown Menu but triggers on right-click.

---

### Select

A form control for selecting a value from a list of options.

#### Features

- Keyboard navigation
- Typeahead search
- Multi-select support
- Grouping options
- Custom option rendering
- Virtualization for large lists
- Form integration

#### Basic Usage

```typescript
import { defineComponent, signal } from 'aether';
import { Select } from 'aether/primitives';

export const FruitSelect = defineComponent(() => {
  const selectedFruit = signal('apple');

  const fruits = [
    { value: 'apple', label: 'Apple' },
    { value: 'banana', label: 'Banana' },
    { value: 'orange', label: 'Orange' },
    { value: 'grape', label: 'Grape' }
  ];

  return () => (
    <Select bind:value={selectedFruit}>
      <Select.Trigger class="select-trigger">
        <Select.Value placeholder="Select a fruit..." />
        <Select.Icon>
          <ChevronDownIcon />
        </Select.Icon>
      </Select.Trigger>

      <Select.Content class="select-content">
        <Select.Viewport>
          {fruits.map(fruit => (
            <Select.Item value={fruit.value} class="select-item">
              <Select.ItemText>{fruit.label}</Select.ItemText>
              <Select.ItemIndicator class="select-indicator">
                <CheckIcon />
              </Select.ItemIndicator>
            </Select.Item>
          ))}
        </Select.Viewport>
      </Select.Content>
    </Select>
  );
});
```

#### With Groups

```html
<Select bind:value={selectedAnimal}>
  <Select.Trigger class="select-trigger">
    <Select.Value placeholder="Select an animal..." />
  </Select.Trigger>

  <Select.Content>
    <Select.Viewport>
      <Select.Group>
        <Select.Label class="select-label">Mammals</Select.Label>
        <Select.Item value="dog">Dog</Select.Item>
        <Select.Item value="cat">Cat</Select.Item>
        <Select.Item value="elephant">Elephant</Select.Item>
      </Select.Group>

      <Select.Separator class="select-separator" />

      <Select.Group>
        <Select.Label class="select-label">Birds</Select.Label>
        <Select.Item value="eagle">Eagle</Select.Item>
        <Select.Item value="parrot">Parrot</Select.Item>
        <Select.Item value="penguin">Penguin</Select.Item>
      </Select.Group>
    </Select.Viewport>
  </Select.Content>
</Select>
```

#### Custom Option Rendering

```typescript
import { defineComponent, signal } from 'aether';
import { Select } from 'aether/primitives';

interface User {
  id: string;
  name: string;
  email: string;
  avatar: string;
}

export const UserSelect = defineComponent(() => {
  const selectedUser = signal<string | null>(null);
  const users: User[] = [
    { id: '1', name: 'Alice', email: 'alice@example.com', avatar: '/alice.jpg' },
    { id: '2', name: 'Bob', email: 'bob@example.com', avatar: '/bob.jpg' }
  ];

  return () => (
    <Select bind:value={selectedUser}>
      <Select.Trigger class="select-trigger">
        <Select.Value placeholder="Select user...">
          {selectedUser() && users.find(u => u.id === selectedUser())?.name}
        </Select.Value>
      </Select.Trigger>

      <Select.Content>
        <Select.Viewport>
          {users.map(user => (
            <Select.Item value={user.id} class="select-item-user">
              <img src={user.avatar} alt="" class="avatar" />
              <div class="user-info">
                <div class="user-name">{user.name}</div>
                <div class="user-email">{user.email}</div>
              </div>
              <Select.ItemIndicator class="select-indicator">
                <CheckIcon />
              </Select.ItemIndicator>
            </Select.Item>
          ))}
        </Select.Viewport>
      </Select.Content>
    </Select>
  );
});
```

#### Styling Example

```css
.select-trigger {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: var(--spacing-2);

  width: 100%;
  padding: var(--spacing-2) var(--spacing-3);

  background: var(--color-background-primary);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);

  font-size: var(--font-size-sm);
  color: var(--color-text-primary);

  cursor: pointer;
  outline: none;

  transition: border-color var(--transition-fast);
}

.select-trigger:hover {
  border-color: var(--color-border-hover);
}

.select-trigger:focus {
  border-color: var(--color-primary-500);
  box-shadow: 0 0 0 3px var(--color-primary-100);
}

.select-trigger[data-placeholder] {
  color: var(--color-text-placeholder);
}

.select-content {
  background: var(--color-background-primary);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  box-shadow: var(--shadow-lg);

  max-height: 300px;
  overflow: auto;

  z-index: var(--z-dropdown);

  animation: slideDown 150ms ease-out;
}

.select-item {
  display: flex;
  align-items: center;
  gap: var(--spacing-2);

  padding: var(--spacing-2) var(--spacing-3);

  font-size: var(--font-size-sm);
  color: var(--color-text-primary);

  cursor: pointer;
  user-select: none;
  outline: none;

  transition: background-color var(--transition-fast);
}

.select-item:hover,
.select-item:focus,
.select-item[data-highlighted] {
  background: var(--color-background-secondary);
}

.select-item[data-disabled] {
  color: var(--color-text-disabled);
  pointer-events: none;
}

.select-indicator {
  margin-left: auto;
}

.select-label {
  padding: var(--spacing-2) var(--spacing-3);
  font-size: var(--font-size-xs);
  font-weight: var(--font-weight-semibold);
  color: var(--color-text-secondary);
}

.select-separator {
  height: 1px;
  background: var(--color-border);
  margin: var(--spacing-1) 0;
}
```

#### API Reference

**`<Select>`** - Root component

Props:
- `value?: Signal<string>` - Controlled selected value
- `defaultValue?: string` - Initial value (uncontrolled)
- `onValueChange?: (value: string) => void` - Callback
- `open?: Signal<boolean>` - Controlled open state
- `defaultOpen?: boolean` - Initial open state
- `onOpenChange?: (open: boolean) => void`
- `disabled?: boolean` - Disable the select
- `required?: boolean` - Mark as required
- `name?: string` - Form field name

**`<Select.Trigger>`** - Opens the dropdown

**`<Select.Value>`** - Displays selected value

Props:
- `placeholder?: string` - Shown when no value selected

**`<Select.Icon>`** - Icon (usually chevron)

**`<Select.Content>`** - Dropdown content

Props: Same as Popover.Content

**`<Select.Viewport>`** - Scrollable viewport

**`<Select.Item>`** - Selectable option

Props:
- `value: string` - Option value
- `disabled?: boolean`
- `textValue?: string` - For typeahead

**`<Select.ItemText>`** - Item label

**`<Select.ItemIndicator>`** - Shows when item is selected

**`<Select.Group>`** - Group options

**`<Select.Label>`** - Group label

**`<Select.Separator>`** - Visual separator

#### Advanced: Multi-Select

```typescript
import { defineComponent, signal } from 'aether';
import { MultiSelect } from 'aether/primitives';

export const TagsMultiSelect = defineComponent(() => {
  const selectedTags = signal<string[]>(['react', 'typescript']);

  const allTags = [
    'react', 'vue', 'angular', 'svelte',
    'typescript', 'javascript', 'python', 'rust'
  ];

  const removeTag = (tag: string) => {
    selectedTags(selectedTags().filter(t => t !== tag));
  };

  return () => (
    <MultiSelect bind:value={selectedTags}>
      <MultiSelect.Trigger class="select-trigger">
        <MultiSelect.Value>
          {selectedTags().length > 0 ? (
            <div class="selected-tags">
              {selectedTags().map(tag => (
                <span class="tag">
                  {tag}
                  <button
                    on:click={(e) => {
                      e.stopPropagation();
                      removeTag(tag);
                    }}
                  >
                    <XIcon />
                  </button>
                </span>
              ))}
            </div>
          ) : (
            <span class="placeholder">Select tags...</span>
          )}
        </MultiSelect.Value>
      </MultiSelect.Trigger>

      <MultiSelect.Content>
        <MultiSelect.Viewport>
          {allTags.map(tag => (
            <MultiSelect.Item value={tag} class="select-item">
              <MultiSelect.ItemIndicator>
                <CheckIcon />
              </MultiSelect.ItemIndicator>
              <MultiSelect.ItemText>{tag}</MultiSelect.ItemText>
            </MultiSelect.Item>
          ))}
        </MultiSelect.Viewport>
      </MultiSelect.Content>
    </MultiSelect>
  );
});
```

---

### Combobox

A searchable select with autocomplete.

#### Features

- Text input with dropdown
- Filtering/autocomplete
- Keyboard navigation
- Custom filtering logic
- Async data loading
- Virtualization

#### Basic Usage

```typescript
import { defineComponent, signal, computed } from 'aether';
import { Combobox } from 'aether/primitives';

export const FrameworkCombobox = defineComponent(() => {
  const frameworks = [
    { value: 'react', label: 'React' },
    { value: 'vue', label: 'Vue' },
    { value: 'angular', label: 'Angular' },
    { value: 'svelte', label: 'Svelte' },
    { value: 'solid', label: 'SolidJS' }
  ];

  const selectedFramework = signal<string | null>(null);
  const searchQuery = signal('');

  // Filter options based on search
  const filteredFrameworks = computed(() => {
    const query = searchQuery().toLowerCase();
    if (!query) return frameworks;
    return frameworks.filter(f =>
      f.label.toLowerCase().includes(query)
    );
  });

  return () => (
    <Combobox bind:value={selectedFramework}>
      <Combobox.Trigger class="combobox-trigger">
        <Combobox.Input
          class="combobox-input"
          placeholder="Search framework..."
          bind:value={searchQuery}
        />
        <Combobox.Icon>
          <ChevronDownIcon />
        </Combobox.Icon>
      </Combobox.Trigger>

      <Combobox.Content class="combobox-content">
        <Combobox.Viewport>
          {filteredFrameworks().length > 0 ? (
            <>
              {filteredFrameworks().map(framework => (
                <Combobox.Item value={framework.value} class="combobox-item">
                  <CheckIcon class="combobox-check" />
                  {framework.label}
                </Combobox.Item>
              ))}
            </>
          ) : (
            <Combobox.Empty class="combobox-empty">
              No framework found
            </Combobox.Empty>
          )}
        </Combobox.Viewport>
      </Combobox.Content>
    </Combobox>
  );
});
```

#### With Async Data

```typescript
import { defineComponent, signal, effect } from 'aether';
import { Combobox } from 'aether/primitives';
import { debounce } from 'aether/utils';

interface User {
  id: string;
  name: string;
  email: string;
}

export const UserSearchCombobox = defineComponent(() => {
  const selectedUser = signal<string | null>(null);
  const searchQuery = signal('');
  const users = signal<User[]>([]);
  const isLoading = signal(false);

  // Debounced search
  const debouncedSearch = debounce(async (query: string) => {
    if (!query) {
      users([]);
      return;
    }

    isLoading(true);
    try {
      const response = await fetch(`/api/users/search?q=${query}`);
      const data = await response.json();
      users(data);
    } finally {
      isLoading(false);
    }
  }, 300);

  // Trigger search on query change
  effect(() => {
    debouncedSearch(searchQuery());
  });

  return () => (
    <Combobox bind:value={selectedUser}>
      <Combobox.Trigger class="combobox-trigger">
        <Combobox.Input
          placeholder="Search users..."
          bind:value={searchQuery}
        />
        <Combobox.Icon>
          {isLoading() ? <SpinnerIcon /> : <SearchIcon />}
        </Combobox.Icon>
      </Combobox.Trigger>

      <Combobox.Content>
        <Combobox.Viewport>
          {isLoading() ? (
            <div class="combobox-loading">Loading...</div>
          ) : users().length > 0 ? (
            <>
              {users().map(user => (
                <Combobox.Item value={user.id} class="combobox-item">
                  <div class="user-result">
                    <div class="user-name">{user.name}</div>
                    <div class="user-email">{user.email}</div>
                  </div>
                </Combobox.Item>
              ))}
            </>
          ) : searchQuery() ? (
            <Combobox.Empty>No users found</Combobox.Empty>
          ) : null}
        </Combobox.Viewport>
      </Combobox.Content>
    </Combobox>
  );
});
```

#### API Reference

**`<Combobox>`** - Root component

Props: Same as Select

**`<Combobox.Trigger>`** - Trigger container

**`<Combobox.Input>`** - Text input for search

Props:
- `value?: Signal<string>` - Search query
- `placeholder?: string`
- Standard input props

**`<Combobox.Icon>`** - Icon (search/chevron)

**`<Combobox.Content>`** - Dropdown content

**`<Combobox.Viewport>`** - Scrollable viewport

**`<Combobox.Item>`** - Selectable option

**`<Combobox.Empty>`** - Shown when no results

---

### Tabs

A set of layered sections of content (tab panels) displayed one at a time.

#### Features

- Keyboard navigation (Arrow keys, Home, End)
- Automatic/manual activation
- Horizontal/vertical orientation
- Disabled tabs
- Dynamic tabs
- URL-synchronized tabs

#### Basic Usage

```typescript
import { defineComponent, signal } from 'aether';
import { Tabs } from 'aether/primitives';

export const SettingsTabs = defineComponent(() => {
  const activeTab = signal('account');

  return () => (
    <Tabs bind:value={activeTab} class="tabs-root">
      <Tabs.List class="tabs-list">
        <Tabs.Trigger value="account" class="tabs-trigger">
          Account
        </Tabs.Trigger>
        <Tabs.Trigger value="password" class="tabs-trigger">
          Password
        </Tabs.Trigger>
        <Tabs.Trigger value="notifications" class="tabs-trigger">
          Notifications
        </Tabs.Trigger>
      </Tabs.List>

      <Tabs.Content value="account" class="tabs-content">
        <h3>Account Settings</h3>
        <form>
          <label>
            Name
            <input type="text" value="John Doe" />
          </label>
          <label>
            Email
            <input type="email" value="john@example.com" />
          </label>
        </form>
      </Tabs.Content>

      <Tabs.Content value="password" class="tabs-content">
        <h3>Change Password</h3>
        <form>
          <label>
            Current Password
            <input type="password" />
          </label>
          <label>
            New Password
            <input type="password" />
          </label>
        </form>
      </Tabs.Content>

      <Tabs.Content value="notifications" class="tabs-content">
        <h3>Notification Settings</h3>
        <label>
          <input type="checkbox" />
          Email notifications
        </label>
        <label>
          <input type="checkbox" />
          Push notifications
        </label>
      </Tabs.Content>
    </Tabs>
  );
});
```

#### Vertical Tabs

```html
<Tabs
  bind:value={activeTab}
  orientation="vertical"
  class="tabs-root tabs-vertical"
>
  <Tabs.List class="tabs-list-vertical">
    <Tabs.Trigger value="general">General</Tabs.Trigger>
    <Tabs.Trigger value="security">Security</Tabs.Trigger>
    <Tabs.Trigger value="billing">Billing</Tabs.Trigger>
  </Tabs.List>

  <Tabs.Content value="general">General settings</Tabs.Content>
  <Tabs.Content value="security">Security settings</Tabs.Content>
  <Tabs.Content value="billing">Billing settings</Tabs.Content>
</Tabs>
```

#### Styling Example

```css
.tabs-root {
  display: flex;
  flex-direction: column;
  width: 100%;
}

.tabs-list {
  display: flex;
  border-bottom: 1px solid var(--color-border);
  gap: var(--spacing-1);
}

.tabs-trigger {
  padding: var(--spacing-3) var(--spacing-4);

  background: transparent;
  border: none;
  border-bottom: 2px solid transparent;

  font-size: var(--font-size-sm);
  font-weight: var(--font-weight-medium);
  color: var(--color-text-secondary);

  cursor: pointer;
  outline: none;

  transition: all var(--transition-fast);
}

.tabs-trigger:hover {
  color: var(--color-text-primary);
  background: var(--color-background-secondary);
}

.tabs-trigger[data-state="active"] {
  color: var(--color-primary-500);
  border-bottom-color: var(--color-primary-500);
}

.tabs-trigger:focus-visible {
  box-shadow: 0 0 0 2px var(--color-primary-100);
}

.tabs-trigger[data-disabled] {
  color: var(--color-text-disabled);
  pointer-events: none;
}

.tabs-content {
  padding: var(--spacing-4);

  animation: fadeIn 200ms;
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

/* Vertical variant */
.tabs-vertical {
  flex-direction: row;
}

.tabs-list-vertical {
  flex-direction: column;
  border-bottom: none;
  border-right: 1px solid var(--color-border);
}

.tabs-list-vertical .tabs-trigger {
  border-bottom: none;
  border-right: 2px solid transparent;
  justify-content: flex-start;
}

.tabs-list-vertical .tabs-trigger[data-state="active"] {
  border-right-color: var(--color-primary-500);
}
```

#### API Reference

**`<Tabs>`** - Root component

Props:
- `value?: Signal<string>` - Controlled active tab
- `defaultValue?: string` - Initial active tab
- `onValueChange?: (value: string) => void`
- `orientation?: 'horizontal' | 'vertical'` - Layout orientation (default: 'horizontal')
- `activationMode?: 'automatic' | 'manual'` - Automatic activates on focus, manual requires Enter/Space (default: 'automatic')

**`<Tabs.List>`** - Container for triggers

**`<Tabs.Trigger>`** - Tab button

Props:
- `value: string` - Tab identifier
- `disabled?: boolean`

**`<Tabs.Content>`** - Tab panel

Props:
- `value: string` - Tab identifier
- `forceMount?: boolean` - Keep mounted when inactive (for animations)

#### Advanced: URL-Synchronized Tabs

```typescript
import { defineComponent, signal, effect } from 'aether';
import { Tabs } from 'aether/primitives';
import { useRouter } from 'aether/router';

export const URLSyncedTabs = defineComponent(() => {
  const router = useRouter();

  // Sync with URL query parameter
  const activeTab = signal(router.query.get('tab') || 'account');

  // Update URL when tab changes
  effect(() => {
    router.push({ query: { tab: activeTab() } });
  });

  return () => (
    <Tabs bind:value={activeTab}>
      {/* ... */}
    </Tabs>
  );
});
```

---

### Accordion

Vertically stacked set of interactive headings that expand/collapse content panels.

#### Features

- Single or multiple items open
- Keyboard navigation
- Smooth animations
- Disabled items
- Controlled/uncontrolled

#### Basic Usage

```typescript
import { defineComponent } from 'aether';
import { Accordion } from 'aether/primitives';

export const FAQAccordion = defineComponent(() => {
  return () => (
    <Accordion type="single" collapsible class="accordion-root">
      <Accordion.Item value="item-1" class="accordion-item">
        <Accordion.Trigger class="accordion-trigger">
          What is Aether?
          <ChevronDownIcon class="accordion-chevron" />
        </Accordion.Trigger>
        <Accordion.Content class="accordion-content">
          Aether is a minimalist frontend framework that combines the best
          ideas from React, Vue, Svelte, and SolidJS into a cohesive,
          developer-friendly package.
        </Accordion.Content>
      </Accordion.Item>

      <Accordion.Item value="item-2" class="accordion-item">
        <Accordion.Trigger class="accordion-trigger">
          How does reactivity work?
          <ChevronDownIcon class="accordion-chevron" />
        </Accordion.Trigger>
        <Accordion.Content class="accordion-content">
          Aether uses fine-grained reactivity based on signals, similar to
          SolidJS. This allows surgical DOM updates without a Virtual DOM.
        </Accordion.Content>
      </Accordion.Item>

      <Accordion.Item value="item-3" class="accordion-item">
        <Accordion.Trigger class="accordion-trigger">
          Is it production ready?
          <ChevronDownIcon class="accordion-chevron" />
        </Accordion.Trigger>
        <Accordion.Content class="accordion-content">
          Yes! Aether is used in production by several companies and has
          excellent test coverage.
        </Accordion.Content>
      </Accordion.Item>
    </Accordion>
  );
});
```

#### Multiple Items Open

```typescript
import { defineComponent, signal } from 'aether';
import { Accordion } from 'aether/primitives';

export const MultiAccordion = defineComponent(() => {
  const openItems = signal(['item-1', 'item-3']);

  return () => (
    <Accordion type="multiple" bind:value={openItems}>
      <Accordion.Item value="item-1">
        <Accordion.Trigger>Item 1</Accordion.Trigger>
        <Accordion.Content>Content 1</Accordion.Content>
      </Accordion.Item>

      <Accordion.Item value="item-2">
        <Accordion.Trigger>Item 2</Accordion.Trigger>
        <Accordion.Content>Content 2</Accordion.Content>
      </Accordion.Item>

      <Accordion.Item value="item-3">
        <Accordion.Trigger>Item 3</Accordion.Trigger>
        <Accordion.Content>Content 3</Accordion.Content>
      </Accordion.Item>
    </Accordion>
  );
});
```

#### Styling Example

```css
.accordion-root {
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  overflow: hidden;
}

.accordion-item {
  border-bottom: 1px solid var(--color-border);
}

.accordion-item:last-child {
  border-bottom: none;
}

.accordion-trigger {
  display: flex;
  align-items: center;
  justify-content: space-between;

  width: 100%;
  padding: var(--spacing-4);

  background: transparent;
  border: none;

  font-size: var(--font-size-base);
  font-weight: var(--font-weight-medium);
  color: var(--color-text-primary);
  text-align: left;

  cursor: pointer;
  outline: none;

  transition: background-color var(--transition-fast);
}

.accordion-trigger:hover {
  background: var(--color-background-secondary);
}

.accordion-trigger:focus-visible {
  box-shadow: inset 0 0 0 2px var(--color-primary-500);
}

.accordion-trigger[data-disabled] {
  color: var(--color-text-disabled);
  pointer-events: none;
}

.accordion-chevron {
  transition: transform var(--transition-normal);
}

.accordion-trigger[data-state="open"] .accordion-chevron {
  transform: rotate(180deg);
}

.accordion-content {
  overflow: hidden;

  /* Animation */
  data-state: closed;
}

.accordion-content[data-state="open"] {
  animation: slideDown 300ms cubic-bezier(0.87, 0, 0.13, 1);
}

.accordion-content[data-state="closed"] {
  animation: slideUp 300ms cubic-bezier(0.87, 0, 0.13, 1);
}

@keyframes slideDown {
  from {
    height: 0;
    opacity: 0;
  }
  to {
    height: var(--radix-accordion-content-height);
    opacity: 1;
  }
}

@keyframes slideUp {
  from {
    height: var(--radix-accordion-content-height);
    opacity: 1;
  }
  to {
    height: 0;
    opacity: 0;
  }
}

.accordion-content > div {
  padding: var(--spacing-4);
  padding-top: 0;
}
```

#### API Reference

**`<Accordion>`** - Root component

Props:
- `type: 'single' | 'multiple'` - Single or multiple items open
- `value?: Signal<string> | Signal<string[]>` - Controlled open items
- `defaultValue?: string | string[]` - Initial open items
- `onValueChange?: (value: string | string[]) => void`
- `collapsible?: boolean` - Allow all items to close (type="single" only, default: false)
- `disabled?: boolean` - Disable all items
- `orientation?: 'horizontal' | 'vertical'` - For keyboard navigation (default: 'vertical')

**`<Accordion.Item>`** - Accordion item

Props:
- `value: string` - Item identifier
- `disabled?: boolean`

**`<Accordion.Trigger>`** - Expand/collapse button

**`<Accordion.Content>`** - Expandable content

Props:
- `forceMount?: boolean` - Keep mounted when closed (for animations)

---

### Radio Group

A set of radio buttons where only one can be selected.

#### Features

- Keyboard navigation (Arrow keys)
- Form integration
- Disabled options
- Required validation
- Custom styling

#### Basic Usage

```typescript
import { defineComponent, signal } from 'aether';
import { RadioGroup } from 'aether/primitives';

export const PlanSelector = defineComponent(() => {
  const selectedPlan = signal('pro');

  return () => (
    <RadioGroup bind:value={selectedPlan} class="radio-group">
      <RadioGroup.Item value="free" id="free" class="radio-item">
        <RadioGroup.Indicator class="radio-indicator" />
      </RadioGroup.Item>
      <label for="free" class="radio-label">
        <div class="radio-label-title">Free</div>
        <div class="radio-label-description">
          For personal projects
        </div>
      </label>

      <RadioGroup.Item value="pro" id="pro" class="radio-item">
        <RadioGroup.Indicator class="radio-indicator" />
      </RadioGroup.Item>
      <label for="pro" class="radio-label">
        <div class="radio-label-title">Pro</div>
        <div class="radio-label-description">
          For professional use
        </div>
      </label>

      <RadioGroup.Item value="enterprise" id="enterprise" class="radio-item">
        <RadioGroup.Indicator class="radio-indicator" />
      </RadioGroup.Item>
      <label for="enterprise" class="radio-label">
        <div class="radio-label-title">Enterprise</div>
        <div class="radio-label-description">
          For large organizations
        </div>
      </label>
    </RadioGroup>
  );
});
```

#### Styling Example

```css
.radio-group {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-3);
}

.radio-item {
  width: 20px;
  height: 20px;

  background: var(--color-background-primary);
  border: 2px solid var(--color-border);
  border-radius: 50%;

  cursor: pointer;
  outline: none;

  transition: border-color var(--transition-fast);
}

.radio-item:hover {
  border-color: var(--color-primary-500);
}

.radio-item:focus-visible {
  box-shadow: 0 0 0 2px var(--color-primary-100);
}

.radio-item[data-state="checked"] {
  border-color: var(--color-primary-500);
}

.radio-item[data-disabled] {
  opacity: 0.5;
  cursor: not-allowed;
}

.radio-indicator {
  display: flex;
  align-items: center;
  justify-content: center;

  width: 100%;
  height: 100%;
}

.radio-indicator::after {
  content: '';
  display: block;
  width: 10px;
  height: 10px;
  border-radius: 50%;
  background: var(--color-primary-500);
}

.radio-label {
  cursor: pointer;
}

.radio-label-title {
  font-weight: var(--font-weight-medium);
  color: var(--color-text-primary);
}

.radio-label-description {
  font-size: var(--font-size-sm);
  color: var(--color-text-secondary);
}
```

#### API Reference

**`<RadioGroup>`** - Root component

Props:
- `value?: Signal<string>` - Controlled selected value
- `defaultValue?: string` - Initial value
- `onValueChange?: (value: string) => void`
- `disabled?: boolean` - Disable all items
- `required?: boolean` - Required for forms
- `name?: string` - Form field name
- `orientation?: 'horizontal' | 'vertical'` - For keyboard navigation (default: 'vertical')
- `loop?: boolean` - Loop focus with arrow keys (default: true)

**`<RadioGroup.Item>`** - Radio button

Props:
- `value: string` - Item value
- `disabled?: boolean`
- `id?: string` - For label association

**`<RadioGroup.Indicator>`** - Checked indicator (only renders when checked)

---

### Checkbox Group

A set of checkboxes for multi-selection.

#### Features

- Individual checkboxes
- Select all functionality
- Indeterminate state
- Form integration
- Disabled options

#### Basic Usage

```typescript
import { defineComponent, signal } from 'aether';
import { Checkbox } from 'aether/primitives';

export const BasicCheckboxes = defineComponent(() => {
  const agreedToTerms = signal(false);
  const subscribedToNewsletter = signal(true);

  return () => (
    <div class="checkbox-group">
      <div class="checkbox-wrapper">
        <Checkbox bind:checked={agreedToTerms} id="terms" class="checkbox">
          <Checkbox.Indicator class="checkbox-indicator">
            <CheckIcon />
          </Checkbox.Indicator>
        </Checkbox>
        <label for="terms" class="checkbox-label">
          I agree to the terms and conditions
        </label>
      </div>

      <div class="checkbox-wrapper">
        <Checkbox
          bind:checked={subscribedToNewsletter}
          id="newsletter"
          class="checkbox"
        >
          <Checkbox.Indicator class="checkbox-indicator">
            <CheckIcon />
          </Checkbox.Indicator>
        </Checkbox>
        <label for="newsletter" class="checkbox-label">
          Subscribe to newsletter
        </label>
      </div>
    </div>
  );
});
```

#### Select All with Indeterminate

```typescript
import { defineComponent, signal, computed } from 'aether';
import { Checkbox } from 'aether/primitives';

export const SelectAllCheckboxes = defineComponent(() => {
  const items = ['item1', 'item2', 'item3'];
  const selectedItems = signal<string[]>(['item1']);

  // Select all checkbox state
  const allSelected = computed(() => selectedItems().length === items.length);
  const someSelected = computed(() =>
    selectedItems().length > 0 && selectedItems().length < items.length
  );
  const selectAllState = computed<boolean | 'indeterminate'>(() => {
    if (allSelected()) return true;
    if (someSelected()) return 'indeterminate';
    return false;
  });

  const handleSelectAll = (checked: boolean | 'indeterminate') => {
    if (checked === true) {
      selectedItems(items);
    } else {
      selectedItems([]);
    }
  };

  const handleItemChange = (item: string, checked: boolean) => {
    if (checked) {
      selectedItems([...selectedItems(), item]);
    } else {
      selectedItems(selectedItems().filter(i => i !== item));
    }
  };

  return () => (
    <div class="checkbox-group">
      {/* Select all */}
      <div class="checkbox-wrapper">
        <Checkbox
          checked={selectAllState()}
          onCheckedChange={handleSelectAll}
          id="select-all"
          class="checkbox"
        >
          <Checkbox.Indicator class="checkbox-indicator">
            {selectAllState() === 'indeterminate' ? <MinusIcon /> : <CheckIcon />}
          </Checkbox.Indicator>
        </Checkbox>
        <label for="select-all" class="checkbox-label">
          <strong>Select All</strong>
        </label>
      </div>

      {/* Individual items */}
      {items.map(item => (
        <div class="checkbox-wrapper checkbox-wrapper-indent">
          <Checkbox
            checked={selectedItems().includes(item)}
            onCheckedChange={(checked) => handleItemChange(item, checked)}
            id={item}
            class="checkbox"
          >
            <Checkbox.Indicator class="checkbox-indicator">
              <CheckIcon />
            </Checkbox.Indicator>
          </Checkbox>
          <label for={item} class="checkbox-label">
            {item}
          </label>
        </div>
      ))}
    </div>
  );
});
```

#### Styling Example

```css
.checkbox-group {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-2);
}

.checkbox-wrapper {
  display: flex;
  align-items: center;
  gap: var(--spacing-2);
}

.checkbox-wrapper-indent {
  padding-left: var(--spacing-4);
}

.checkbox {
  width: 20px;
  height: 20px;

  display: flex;
  align-items: center;
  justify-content: center;

  background: var(--color-background-primary);
  border: 2px solid var(--color-border);
  border-radius: var(--radius-sm);

  cursor: pointer;
  outline: none;

  transition: all var(--transition-fast);
}

.checkbox:hover {
  border-color: var(--color-primary-500);
}

.checkbox:focus-visible {
  box-shadow: 0 0 0 2px var(--color-primary-100);
}

.checkbox[data-state="checked"],
.checkbox[data-state="indeterminate"] {
  background: var(--color-primary-500);
  border-color: var(--color-primary-500);
}

.checkbox[data-disabled] {
  opacity: 0.5;
  cursor: not-allowed;
}

.checkbox-indicator {
  color: white;
  display: flex;
  align-items: center;
  justify-content: center;
}

.checkbox-label {
  font-size: var(--font-size-sm);
  color: var(--color-text-primary);
  cursor: pointer;
  user-select: none;
}
```

#### API Reference

**`<Checkbox>`** - Checkbox component

Props:
- `checked?: Signal<boolean | 'indeterminate'>` - Controlled checked state
- `defaultChecked?: boolean` - Initial state
- `onCheckedChange?: (checked: boolean | 'indeterminate') => void`
- `disabled?: boolean`
- `required?: boolean`
- `name?: string` - Form field name
- `value?: string` - Form field value

**`<Checkbox.Indicator>`** - Checked/indeterminate indicator

---

### Slider

An input for selecting a value from a range.

#### Features

- Single and range sliders
- Keyboard navigation (Arrow keys, Page Up/Down, Home/End)
- Touch support
- Vertical/horizontal orientation
- Step increments
- Min/max values
- Disabled state

#### Basic Usage (Single Value)

```typescript
import { defineComponent, signal } from 'aether';
import { Slider } from 'aether/primitives';

export const VolumeSlider = defineComponent(() => {
  const volume = signal(50);

  return () => (
    <div class="slider-container">
      <label for="volume">Volume: {volume()}%</label>
      <Slider
        bind:value={volume}
        min={0}
        max={100}
        step={1}
        id="volume"
        class="slider-root"
      >
        <Slider.Track class="slider-track">
          <Slider.Range class="slider-range" />
        </Slider.Track>
        <Slider.Thumb class="slider-thumb" />
      </Slider>
    </div>
  );
});
```

#### Range Slider (Two Values)

```typescript
import { defineComponent, signal } from 'aether';
import { Slider } from 'aether/primitives';

export const PriceRangeSlider = defineComponent(() => {
  const priceRange = signal([20, 80]);

  return () => (
    <div class="slider-container">
      <label>
        Price Range: ${priceRange()[0]} - ${priceRange()[1]}
      </label>
      <Slider
        bind:value={priceRange}
        min={0}
        max={100}
        step={5}
        class="slider-root"
      >
        <Slider.Track class="slider-track">
          <Slider.Range class="slider-range" />
        </Slider.Track>
        <Slider.Thumb class="slider-thumb" />
        <Slider.Thumb class="slider-thumb" />
      </Slider>
    </div>
  );
});
```

#### Styling Example

```css
.slider-container {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-2);
}

.slider-root {
  position: relative;
  display: flex;
  align-items: center;

  width: 100%;
  height: 20px;

  touch-action: none;
  user-select: none;
}

.slider-track {
  position: relative;
  flex-grow: 1;
  height: 4px;

  background: var(--color-background-secondary);
  border-radius: var(--radius-full);

  overflow: hidden;
}

.slider-range {
  position: absolute;
  height: 100%;

  background: var(--color-primary-500);
  border-radius: var(--radius-full);
}

.slider-thumb {
  display: block;
  width: 20px;
  height: 20px;

  background: white;
  border: 2px solid var(--color-primary-500);
  border-radius: 50%;
  box-shadow: var(--shadow-sm);

  cursor: grab;
  outline: none;

  transition: box-shadow var(--transition-fast);
}

.slider-thumb:hover {
  box-shadow: var(--shadow-md);
}

.slider-thumb:focus-visible {
  box-shadow: 0 0 0 4px var(--color-primary-100);
}

.slider-thumb:active {
  cursor: grabbing;
}

.slider-thumb[data-disabled] {
  opacity: 0.5;
  cursor: not-allowed;
}
```

#### API Reference

**`<Slider>`** - Root component

Props:
- `value?: Signal<number | number[]>` - Controlled value(s)
- `defaultValue?: number | number[]` - Initial value(s)
- `onValueChange?: (value: number | number[]) => void`
- `onValueCommit?: (value: number | number[]) => void` - When user releases thumb
- `min?: number` - Minimum value (default: 0)
- `max?: number` - Maximum value (default: 100)
- `step?: number` - Step increment (default: 1)
- `minStepsBetweenThumbs?: number` - For range sliders (default: 0)
- `orientation?: 'horizontal' | 'vertical'` - Orientation (default: 'horizontal')
- `disabled?: boolean`
- `inverted?: boolean` - Invert slider direction

**`<Slider.Track>`** - Track background

**`<Slider.Range>`** - Filled range

**`<Slider.Thumb>`** - Draggable thumb (one per value)

#### Advanced: Custom Value Display

```typescript
import { defineComponent, signal } from 'aether';
import { Slider } from 'aether/primitives';

export const BrightnessSliderWithTooltip = defineComponent(() => {
  const brightness = signal(75);

  return () => (
    <Slider bind:value={brightness} min={0} max={100} step={5}>
      <Slider.Track class="slider-track">
        <Slider.Range class="slider-range" />
      </Slider.Track>
      <Slider.Thumb class="slider-thumb">
        {/* Tooltip on thumb */}
        <div class="slider-tooltip">
          {brightness()}%
        </div>
      </Slider.Thumb>
    </Slider>
  );
});
```

```css
.slider-thumb {
  position: relative;
}

.slider-tooltip {
  position: absolute;
  bottom: calc(100% + 8px);
  left: 50%;
  transform: translateX(-50%);

  padding: var(--spacing-1) var(--spacing-2);

  background: var(--color-background-primary);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-sm);
  box-shadow: var(--shadow-md);

  font-size: var(--font-size-xs);
  white-space: nowrap;

  pointer-events: none;
}
```

---

### Toggle

A two-state button for binary options.

#### Features

- Pressed/unpressed states
- Keyboard support (Space/Enter)
- Disabled state
- Icon toggles

#### Basic Usage

```typescript
import { defineComponent, signal } from 'aether';
import { Toggle } from 'aether/primitives';

export const TextFormattingToggles = defineComponent(() => {
  const isBold = signal(false);
  const isItalic = signal(false);
  const isUnderline = signal(false);

  return () => (
    <div class="toggle-group">
      <Toggle bind:pressed={isBold} class="toggle" aria-label="Bold">
        <BoldIcon />
      </Toggle>

      <Toggle bind:pressed={isItalic} class="toggle" aria-label="Italic">
        <ItalicIcon />
      </Toggle>

      <Toggle bind:pressed={isUnderline} class="toggle" aria-label="Underline">
        <UnderlineIcon />
      </Toggle>
    </div>
  );
});
```

#### Styling Example

```css
.toggle-group {
  display: inline-flex;
  gap: var(--spacing-1);
}

.toggle {
  display: flex;
  align-items: center;
  justify-content: center;

  width: 36px;
  height: 36px;

  background: transparent;
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);

  color: var(--color-text-secondary);

  cursor: pointer;
  outline: none;

  transition: all var(--transition-fast);
}

.toggle:hover {
  background: var(--color-background-secondary);
  color: var(--color-text-primary);
}

.toggle:focus-visible {
  box-shadow: 0 0 0 2px var(--color-primary-100);
}

.toggle[data-state="on"] {
  background: var(--color-primary-500);
  border-color: var(--color-primary-500);
  color: white;
}

.toggle[data-disabled] {
  opacity: 0.5;
  cursor: not-allowed;
}
```

#### API Reference

**`<Toggle>`** - Toggle button

Props:
- `pressed?: Signal<boolean>` - Controlled pressed state
- `defaultPressed?: boolean` - Initial state
- `onPressedChange?: (pressed: boolean) => void`
- `disabled?: boolean`

---

### Switch

An on/off control (like iOS toggle).

#### Features

- On/off states
- Keyboard support
- Disabled state
- Form integration
- Animated thumb

#### Basic Usage

```typescript
import { defineComponent, signal } from 'aether';
import { Switch } from 'aether/primitives';

export const SettingsSwitches = defineComponent(() => {
  const airplaneMode = signal(false);
  const wifiEnabled = signal(true);

  return () => (
    <div class="switch-group">
      <div class="switch-wrapper">
        <Switch
          bind:checked={airplaneMode}
          id="airplane"
          class="switch"
        >
          <Switch.Thumb class="switch-thumb" />
        </Switch>
        <label for="airplane" class="switch-label">
          Airplane Mode
        </label>
      </div>

      <div class="switch-wrapper">
        <Switch
          bind:checked={wifiEnabled}
          id="wifi"
          class="switch"
        >
          <Switch.Thumb class="switch-thumb" />
        </Switch>
        <label for="wifi" class="switch-label">
          Wi-Fi
        </label>
      </div>
    </div>
  );
});
```

#### Styling Example

```css
.switch-group {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-3);
}

.switch-wrapper {
  display: flex;
  align-items: center;
  gap: var(--spacing-2);
}

.switch {
  position: relative;
  width: 44px;
  height: 24px;

  background: var(--color-background-secondary);
  border: 2px solid var(--color-border);
  border-radius: var(--radius-full);

  cursor: pointer;
  outline: none;

  transition: background-color var(--transition-fast);
}

.switch:hover {
  background: var(--color-background-tertiary);
}

.switch:focus-visible {
  box-shadow: 0 0 0 2px var(--color-primary-100);
}

.switch[data-state="checked"] {
  background: var(--color-primary-500);
  border-color: var(--color-primary-500);
}

.switch[data-disabled] {
  opacity: 0.5;
  cursor: not-allowed;
}

.switch-thumb {
  display: block;
  width: 18px;
  height: 18px;

  background: white;
  border-radius: 50%;
  box-shadow: var(--shadow-sm);

  transition: transform var(--transition-fast);
  will-change: transform;
}

.switch[data-state="checked"] .switch-thumb {
  transform: translateX(20px);
}

.switch-label {
  font-size: var(--font-size-sm);
  color: var(--color-text-primary);
  cursor: pointer;
  user-select: none;
}
```

#### API Reference

**`<Switch>`** - Switch component

Props:
- `checked?: Signal<boolean>` - Controlled checked state
- `defaultChecked?: boolean` - Initial state
- `onCheckedChange?: (checked: boolean) => void`
- `disabled?: boolean`
- `required?: boolean`
- `name?: string` - Form field name
- `value?: string` - Form field value

**`<Switch.Thumb>`** - Moving thumb element

---

### Alert Dialog

A modal dialog that interrupts the user for important information or actions.

#### Features

- Focus trap
- No click-outside to close (must use button)
- Esc key disabled by default (customizable)
- Cancel and action buttons
- Destructive action styling

#### Basic Usage

```typescript
import { defineComponent, signal } from 'aether';
import { AlertDialog } from 'aether/primitives';

export const DeleteAccountAlert = defineComponent(() => {
  const isOpen = signal(false);

  const handleDelete = () => {
    // Perform destructive action
    console.log('Deleted!');
    isOpen(false);
  };

  return () => (
    <AlertDialog bind:open={isOpen}>
      <AlertDialog.Trigger class="btn btn-destructive">
        Delete Account
      </AlertDialog.Trigger>

      <AlertDialog.Portal>
        <AlertDialog.Overlay class="dialog-overlay" />
        <AlertDialog.Content class="alert-dialog-content">
          <AlertDialog.Title class="alert-dialog-title">
            Are you absolutely sure?
          </AlertDialog.Title>
          <AlertDialog.Description class="alert-dialog-description">
            This action cannot be undone. This will permanently delete your
            account and remove your data from our servers.
          </AlertDialog.Description>

          <div class="alert-dialog-actions">
            <AlertDialog.Cancel class="btn btn-secondary">
              Cancel
            </AlertDialog.Cancel>
            <AlertDialog.Action
              class="btn btn-destructive"
              on:click={handleDelete}
            >
              Yes, delete my account
            </AlertDialog.Action>
          </div>
        </AlertDialog.Content>
      </AlertDialog.Portal>
    </AlertDialog>
  );
});
```

#### Styling Example

```css
.alert-dialog-content {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);

  width: 90vw;
  max-width: 500px;

  background: var(--color-background-primary);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-xl);
  padding: var(--spacing-6);

  z-index: calc(var(--z-modal) + 1);

  animation: slideIn 200ms ease-out;
}

.alert-dialog-title {
  font-size: var(--font-size-xl);
  font-weight: var(--font-weight-semibold);
  color: var(--color-text-primary);
  margin-bottom: var(--spacing-2);
}

.alert-dialog-description {
  font-size: var(--font-size-sm);
  color: var(--color-text-secondary);
  line-height: 1.5;
  margin-bottom: var(--spacing-6);
}

.alert-dialog-actions {
  display: flex;
  justify-content: flex-end;
  gap: var(--spacing-2);
}
```

#### API Reference

**`<AlertDialog>`** - Root component

Props:
- `open?: Signal<boolean>` - Controlled open state
- `defaultOpen?: boolean` - Initial state
- `onOpenChange?: (open: boolean) => void`

**`<AlertDialog.Trigger>`** - Opens the dialog

**`<AlertDialog.Portal>`** - Portal for rendering

**`<AlertDialog.Overlay>`** - Backdrop overlay

**`<AlertDialog.Content>`** - Dialog content

Props:
- `onEscapeKeyDown?: (event: KeyboardEvent) => void` - Esc disabled by default
- `onPointerDownOutside?: (event: PointerEvent) => void` - Outside click disabled
- `forceMount?: boolean`

**`<AlertDialog.Title>`** - Dialog title (required)

**`<AlertDialog.Description>`** - Dialog description (required)

**`<AlertDialog.Cancel>`** - Cancel button (closes dialog)

**`<AlertDialog.Action>`** - Action button (does not auto-close, you must close manually)

---

### Sheet

A sliding panel from edge of screen (drawer/slide-over).

#### Features

- Slide from top/right/bottom/left
- Overlay backdrop
- Focus trap
- Esc to close
- Click outside to close
- Responsive sizing

#### Basic Usage

```typescript
import { defineComponent, signal } from 'aether';
import { Sheet } from 'aether/primitives';

export const SettingsSheet = defineComponent(() => {
  const isOpen = signal(false);

  return () => (
    <Sheet bind:open={isOpen}>
      <Sheet.Trigger class="btn">
        Open Sheet
      </Sheet.Trigger>

      <Sheet.Portal>
        <Sheet.Overlay class="sheet-overlay" />
        <Sheet.Content side="right" class="sheet-content">
          <Sheet.Title class="sheet-title">
            Settings
          </Sheet.Title>
          <Sheet.Description class="sheet-description">
            Manage your account settings
          </Sheet.Description>

          <div class="sheet-body">
            <form>
              <label>
                Username
                <input type="text" value="john_doe" />
              </label>
              <label>
                Email
                <input type="email" value="john@example.com" />
              </label>
            </form>
          </div>

          <div class="sheet-footer">
            <Sheet.Close class="btn btn-secondary">
              Cancel
            </Sheet.Close>
            <button class="btn btn-primary">
              Save Changes
            </button>
          </div>

          <Sheet.Close class="sheet-close-icon" aria-label="Close">
            <XIcon />
          </Sheet.Close>
        </Sheet.Content>
      </Sheet.Portal>
    </Sheet>
  );
});
```

#### Styling Example

```css
.sheet-overlay {
  position: fixed;
  inset: 0;
  background-color: rgba(0, 0, 0, 0.5);
  z-index: var(--z-modal);
  animation: fadeIn 200ms ease-out;
}

.sheet-content {
  position: fixed;
  z-index: calc(var(--z-modal) + 1);

  background: var(--color-background-primary);
  box-shadow: var(--shadow-xl);

  display: flex;
  flex-direction: column;

  padding: var(--spacing-6);
}

/* Side: right (default) */
.sheet-content[data-side="right"] {
  top: 0;
  right: 0;
  bottom: 0;
  width: 400px;
  max-width: 100vw;
  animation: slideInRight 300ms cubic-bezier(0.32, 0.72, 0, 1);
}

@keyframes slideInRight {
  from {
    transform: translateX(100%);
  }
  to {
    transform: translateX(0);
  }
}

/* Side: left */
.sheet-content[data-side="left"] {
  top: 0;
  left: 0;
  bottom: 0;
  width: 400px;
  animation: slideInLeft 300ms cubic-bezier(0.32, 0.72, 0, 1);
}

@keyframes slideInLeft {
  from {
    transform: translateX(-100%);
  }
  to {
    transform: translateX(0);
  }
}

/* Side: top */
.sheet-content[data-side="top"] {
  top: 0;
  left: 0;
  right: 0;
  height: 400px;
  animation: slideInTop 300ms cubic-bezier(0.32, 0.72, 0, 1);
}

@keyframes slideInTop {
  from {
    transform: translateY(-100%);
  }
  to {
    transform: translateY(0);
  }
}

/* Side: bottom */
.sheet-content[data-side="bottom"] {
  bottom: 0;
  left: 0;
  right: 0;
  height: 400px;
  animation: slideInBottom 300ms cubic-bezier(0.32, 0.72, 0, 1);
}

@keyframes slideInBottom {
  from {
    transform: translateY(100%);
  }
  to {
    transform: translateY(0);
  }
}

.sheet-title {
  font-size: var(--font-size-lg);
  font-weight: var(--font-weight-semibold);
  color: var(--color-text-primary);
  margin-bottom: var(--spacing-2);
}

.sheet-description {
  font-size: var(--font-size-sm);
  color: var(--color-text-secondary);
  margin-bottom: var(--spacing-4);
}

.sheet-body {
  flex: 1;
  overflow-y: auto;
  margin-bottom: var(--spacing-4);
}

.sheet-footer {
  display: flex;
  justify-content: flex-end;
  gap: var(--spacing-2);
  padding-top: var(--spacing-4);
  border-top: 1px solid var(--color-border);
}

.sheet-close-icon {
  position: absolute;
  top: var(--spacing-4);
  right: var(--spacing-4);

  display: flex;
  align-items: center;
  justify-content: center;

  width: 32px;
  height: 32px;

  background: transparent;
  border: none;
  border-radius: var(--radius-md);

  color: var(--color-text-secondary);
  cursor: pointer;
  outline: none;

  transition: background-color var(--transition-fast);
}

.sheet-close-icon:hover {
  background: var(--color-background-secondary);
}
```

#### API Reference

**`<Sheet>`** - Root component

Props: Same as Dialog

**`<Sheet.Trigger>`** - Opens the sheet

**`<Sheet.Portal>`** - Portal for rendering

**`<Sheet.Overlay>`** - Backdrop overlay

**`<Sheet.Content>`** - Sheet content

Props:
- `side?: 'top' | 'right' | 'bottom' | 'left'` - Which edge to slide from (default: 'right')
- `onEscapeKeyDown?: (event: KeyboardEvent) => void`
- `onPointerDownOutside?: (event: PointerEvent) => void`
- `forceMount?: boolean`

**`<Sheet.Title>`** - Sheet title (required)

**`<Sheet.Description>`** - Sheet description (required)

**`<Sheet.Close>`** - Closes the sheet

---

### Command Palette

A searchable command menu for quick actions (like VS Code's command palette).

#### Features

- Fuzzy search
- Keyboard shortcuts display
- Command groups
- Recent commands
- Custom filtering and ranking
- Icons and descriptions

#### Basic Usage

```typescript
import { defineComponent, signal, effect } from 'aether';
import { CommandPalette } from 'aether/primitives';

export const BasicCommandPalette = defineComponent(() => {
  const isOpen = signal(false);
  const searchQuery = signal('');

  // Listen for Cmd+K / Ctrl+K
  effect(() => {
    const handleKeyDown = (e: KeyboardEvent) => {
      if ((e.metaKey || e.ctrlKey) && e.key === 'k') {
        e.preventDefault();
        isOpen(true);
      }
    };

    window.addEventListener('keydown', handleKeyDown);
    return () => window.removeEventListener('keydown', handleKeyDown);
  });

  return () => (
    <CommandPalette bind:open={isOpen}>
      <CommandPalette.Dialog>
        <CommandPalette.Input
          placeholder="Type a command or search..."
          bind:value={searchQuery}
          class="command-input"
        />

        <CommandPalette.List class="command-list">
          <CommandPalette.Empty class="command-empty">
            No results found
          </CommandPalette.Empty>

          <CommandPalette.Group heading="Suggestions" class="command-group">
            <CommandPalette.Item
              value="new-file"
              onSelect={() => createNewFile()}
              class="command-item"
            >
              <FileIcon />
              <span>New File</span>
              <CommandPalette.Shortcut class="command-shortcut">
                ⌘N
              </CommandPalette.Shortcut>
            </CommandPalette.Item>

            <CommandPalette.Item
              value="open-file"
              onSelect={() => openFile()}
              class="command-item"
            >
              <FolderIcon />
              <span>Open File</span>
              <CommandPalette.Shortcut>⌘O</CommandPalette.Shortcut>
            </CommandPalette.Item>

            <CommandPalette.Item
              value="save"
              onSelect={() => save()}
              class="command-item"
            >
              <SaveIcon />
              <span>Save</span>
              <CommandPalette.Shortcut>⌘S</CommandPalette.Shortcut>
            </CommandPalette.Item>
          </CommandPalette.Group>

          <CommandPalette.Separator class="command-separator" />

          <CommandPalette.Group heading="Settings" class="command-group">
            <CommandPalette.Item value="settings" class="command-item">
              <SettingsIcon />
              <span>Preferences</span>
            </CommandPalette.Item>

            <CommandPalette.Item value="theme" class="command-item">
              <PaletteIcon />
              <span>Change Theme</span>
            </CommandPalette.Item>
          </CommandPalette.Group>
        </CommandPalette.List>
      </CommandPalette.Dialog>
    </CommandPalette>
  );
});
```

#### Advanced: Dynamic Commands

```typescript
import { defineComponent, signal, computed, type Component } from 'aether';
import { CommandPalette } from 'aether/primitives';

interface Command {
  id: string;
  label: string;
  icon?: Component;
  shortcut?: string;
  action: () => void;
  keywords?: string[];
}

const DynamicCommandPalette = defineComponent(() => {
  const commands: Command[] = [
    {
      id: 'new-file',
      label: 'New File',
      icon: FileIcon,
      shortcut: '⌘N',
      action: () => createNewFile(),
      keywords: ['create', 'file']
    },
    {
      id: 'search',
      label: 'Search Files',
      icon: SearchIcon,
      shortcut: '⌘P',
      action: () => searchFiles(),
      keywords: ['find', 'locate']
    }
    // ... more commands
  ];

  const isOpen = signal(false);
  const searchQuery = signal('');

  // Fuzzy search with ranking
  const filteredCommands = computed(() => {
    const query = searchQuery().toLowerCase();
    if (!query) return commands;

    return commands
      .map(cmd => {
        const labelMatch = fuzzyMatch(query, cmd.label.toLowerCase());
        const keywordMatch = cmd.keywords?.some(k =>
          fuzzyMatch(query, k)
        );

        if (!labelMatch && !keywordMatch) return null;

        return {
          ...cmd,
          score: labelMatch ? labelMatch.score : 0
        };
      })
      .filter(Boolean)
      .sort((a, b) => b!.score - a!.score);
  });

  const fuzzyMatch = (query: string, text: string) => {
    let queryIdx = 0;
    let score = 0;

    for (let i = 0; i < text.length && queryIdx < query.length; i++) {
      if (text[i] === query[queryIdx]) {
        queryIdx++;
        score += 1;
      }
    }

    return queryIdx === query.length ? { score } : null;
  };

  return () => (
    <CommandPalette bind:open={isOpen}>
      <CommandPalette.Dialog>
        <CommandPalette.Input
          placeholder="Type a command..."
          bind:value={searchQuery}
        />

        <CommandPalette.List>
          {#if filteredCommands().length > 0}
            {#each filteredCommands() as command}
              <CommandPalette.Item
                value={command.id}
                onSelect={() => {
                  command.action();
                  isOpen(false);
                }}
                class="command-item"
              >
                {#if command.icon}
                  <command.icon />
                {/if}
                <span>{command.label}</span>
                {#if command.shortcut}
                  <CommandPalette.Shortcut>
                    {command.shortcut}
                  </CommandPalette.Shortcut>
                {/if}
              </CommandPalette.Item>
            {/each}
          {:else}
            <CommandPalette.Empty>
              No commands found
            </CommandPalette.Empty>
          {/if}
        </CommandPalette.List>
      </CommandPalette.Dialog>
    </CommandPalette>
  );
});
```

#### Styling Example

```css
.command-input {
  width: 100%;
  padding: var(--spacing-4);

  background: transparent;
  border: none;
  border-bottom: 1px solid var(--color-border);

  font-size: var(--font-size-base);
  color: var(--color-text-primary);

  outline: none;
}

.command-input::placeholder {
  color: var(--color-text-placeholder);
}

.command-list {
  max-height: 400px;
  overflow-y: auto;
  padding: var(--spacing-2);
}

.command-group {
  padding: var(--spacing-2) 0;
}

.command-group[data-heading]::before {
  content: attr(data-heading);
  display: block;
  padding: var(--spacing-2) var(--spacing-3);
  font-size: var(--font-size-xs);
  font-weight: var(--font-weight-semibold);
  color: var(--color-text-secondary);
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.command-item {
  display: flex;
  align-items: center;
  gap: var(--spacing-2);

  padding: var(--spacing-2) var(--spacing-3);
  border-radius: var(--radius-md);

  font-size: var(--font-size-sm);
  color: var(--color-text-primary);

  cursor: pointer;
  outline: none;

  transition: background-color var(--transition-fast);
}

.command-item:hover,
.command-item[data-selected="true"] {
  background: var(--color-background-secondary);
}

.command-shortcut {
  margin-left: auto;
  padding: var(--spacing-1) var(--spacing-2);

  background: var(--color-background-secondary);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-sm);

  font-size: var(--font-size-xs);
  font-family: var(--font-family-mono);
  color: var(--color-text-secondary);
}

.command-empty {
  padding: var(--spacing-8) var(--spacing-4);
  text-align: center;
  font-size: var(--font-size-sm);
  color: var(--color-text-secondary);
}

.command-separator {
  height: 1px;
  background: var(--color-border);
  margin: var(--spacing-2) 0;
}
```

#### API Reference

**`<CommandPalette>`** - Root component

Props:
- `open?: Signal<boolean>` - Controlled open state
- `onOpenChange?: (open: boolean) => void`

**`<CommandPalette.Dialog>`** - Dialog container

**`<CommandPalette.Input>`** - Search input

Props:
- `value?: Signal<string>` - Search query
- `placeholder?: string`

**`<CommandPalette.List>`** - Command list container

**`<CommandPalette.Empty>`** - Shown when no results

**`<CommandPalette.Group>`** - Command group

Props:
- `heading?: string` - Group heading

**`<CommandPalette.Item>`** - Command item

Props:
- `value: string` - Command identifier
- `onSelect?: () => void` - Called when selected
- `disabled?: boolean`
- `keywords?: string[]` - For search matching

**`<CommandPalette.Separator>`** - Visual separator

**`<CommandPalette.Shortcut>`** - Keyboard shortcut display

---

### DatePicker

A date input with calendar dropdown.

#### Features

- Calendar popup
- Date range selection
- Min/max dates
- Disabled dates
- Custom date formatting
- Keyboard navigation
- Multi-month display
- Preset ranges

#### Basic Usage (Single Date)

```typescript
import { defineComponent, signal } from 'aether';
import { DatePicker } from 'aether/primitives';

const DatePickerExample = defineComponent(() => {
  const selectedDate = signal<Date | null>(new Date());

  return () => (
    <DatePicker bind:value={selectedDate}>
      <DatePicker.Trigger class="datepicker-trigger">
        <CalendarIcon />
        <DatePicker.Value>
          {#if selectedDate()}
            {formatDate(selectedDate(), 'MMM dd, yyyy')}
          {:else}
            <span class="placeholder">Pick a date</span>
          {/if}
        </DatePicker.Value>
      </DatePicker.Trigger>

      <DatePicker.Content class="datepicker-content">
        <DatePicker.Calendar class="calendar">
          <DatePicker.Header class="calendar-header">
            <DatePicker.PrevButton class="calendar-nav-btn">
              <ChevronLeftIcon />
            </DatePicker.PrevButton>
            <DatePicker.Heading class="calendar-heading" />
            <DatePicker.NextButton class="calendar-nav-btn">
              <ChevronRightIcon />
            </DatePicker.NextButton>
          </DatePicker.Header>

          <DatePicker.Grid class="calendar-grid">
            <DatePicker.GridHead class="calendar-grid-head">
              <DatePicker.HeadCell>Su</DatePicker.HeadCell>
              <DatePicker.HeadCell>Mo</DatePicker.HeadCell>
              <DatePicker.HeadCell>Tu</DatePicker.HeadCell>
              <DatePicker.HeadCell>We</DatePicker.HeadCell>
              <DatePicker.HeadCell>Th</DatePicker.HeadCell>
              <DatePicker.HeadCell>Fr</DatePicker.HeadCell>
              <DatePicker.HeadCell>Sa</DatePicker.HeadCell>
            </DatePicker.GridHead>
            <DatePicker.GridBody class="calendar-grid-body">
              <!-- Generated date cells -->
            </DatePicker.GridBody>
          </DatePicker.Grid>
        </DatePicker.Calendar>
      </DatePicker.Content>
    </DatePicker>
  );
});
```

#### Date Range Selection

```typescript
import { defineComponent, signal } from 'aether';
import { DateRangePicker } from 'aether/primitives';

const Example333 = defineComponent(() => {
  interface DateRange {
    from: Date | null;
    to: Date | null;
  }
  const dateRange = signal<DateRange>({
    from: new Date(),
    to: addDays(new Date(), 7)
  });

  return () => (
    <DateRangePicker bind:value={dateRange}>
      <DateRangePicker.Trigger class="datepicker-trigger">
        <CalendarIcon />
        <DateRangePicker.Value>
          {#if dateRange().from && dateRange().to}
            {formatDate(dateRange().from, 'MMM dd')}
            {' - '}
            {formatDate(dateRange().to, 'MMM dd, yyyy')}
          {:else}
            <span class="placeholder">Pick a date range</span>
          {/if}
        </DateRangePicker.Value>
      </DateRangePicker.Trigger>
      <DateRangePicker.Content class="datepicker-content">
        <!-- Preset ranges -->
        <div class="date-presets">
          <button
            on:click={() => dateRange({ from: new Date(), to: new Date() })}
            class="preset-btn"
          >
            Today
          </button>
          <button
            on:click={() => dateRange({
              from: startOfWeek(new Date()),
              to: endOfWeek(new Date())
            })}
            class="preset-btn"
          >
            This Week
          </button>
          <button
            on:click={() => dateRange({
              from: startOfMonth(new Date()),
              to: endOfMonth(new Date())
            })}
            class="preset-btn"
          >
            This Month
          </button>
        </div>
        <!-- Two month display -->
        <div class="calendar-months">
          <DateRangePicker.Calendar month={0} />
          <DateRangePicker.Calendar month={1} />
        </div>
      </DateRangePicker.Content>
    </DateRangePicker>
  );
});
```

#### With Disabled Dates

```typescript
import { defineComponent, signal } from 'aether';
const Example438 = defineComponent(() => {
  const selectedDate = signal<Date | null>(null);
  const isWeekend = (date: Date) => {
    const day = date.getDay();
    return day === 0 || day === 6;
  };
  const isPast = (date: Date) => {
    return date < new Date();
  };
  const isDisabled = (date: Date) => {
    return isWeekend(date) || isPast(date);
  };

  return () => (
    <DatePicker bind:value={selectedDate} isDateDisabled={isDisabled}>
      <!-- ... -->
    </DatePicker>
  );
});
```

#### API Reference

**`<DatePicker>`** - Root component

Props:
- `value?: Signal<Date | null>` - Controlled selected date
- `defaultValue?: Date` - Initial date
- `onValueChange?: (date: Date | null) => void`
- `min?: Date` - Minimum selectable date
- `max?: Date` - Maximum selectable date
- `isDateDisabled?: (date: Date) => boolean` - Custom disable logic
- `locale?: string` - Locale for formatting (default: 'en-US')
- `weekStartsOn?: 0 | 1` - Week starts on Sunday (0) or Monday (1)

**`<DatePicker.Trigger>`** - Opens calendar

**`<DatePicker.Value>`** - Displays selected date

**`<DatePicker.Content>`** - Calendar dropdown

**`<DatePicker.Calendar>`** - Calendar component

Props:
- `month?: number` - Month offset from current (for multi-month)

**`<DatePicker.Header>`** - Calendar header (month/year navigation)

**`<DatePicker.PrevButton>`** - Previous month button

**`<DatePicker.NextButton>`** - Next month button

**`<DatePicker.Heading>`** - Current month/year display

**`<DatePicker.Grid>`** - Calendar grid

**`<DatePicker.GridHead>`** - Day name headers

**`<DatePicker.HeadCell>`** - Day name cell

**`<DatePicker.GridBody>`** - Date cells container

**`<DatePicker.Cell>`** - Individual date cell

**`<DateRangePicker>`** - Date range variant

Props:
- `value?: Signal<{ from: Date | null; to: Date | null }>` - Selected range
- Other props same as DatePicker

---

### Calendar

Standalone calendar component (used by DatePicker).

#### Features

- Single/multi/range selection
- Month/year navigation
- Disabled dates
- Custom rendering
- Multiple months
- Keyboard navigation

#### Basic Usage

```typescript
import { defineComponent, signal } from 'aether';
import { Calendar } from 'aether/primitives';

const Example105 = defineComponent(() => {
  const selectedDate = signal<Date>(new Date());

  return () => (
    <Calendar bind:value={selectedDate} class="calendar">
      <Calendar.Header class="calendar-header">
        <Calendar.PrevButton class="calendar-nav-btn">
          <ChevronLeftIcon />
        </Calendar.PrevButton>
        <Calendar.Heading class="calendar-heading" />
        <Calendar.NextButton class="calendar-nav-btn">
          <ChevronRightIcon />
        </Calendar.NextButton>
      </Calendar.Header>
      <Calendar.Grid class="calendar-grid">
        <Calendar.GridHead class="calendar-grid-head">
          <Calendar.HeadCell>Su</Calendar.HeadCell>
          <Calendar.HeadCell>Mo</Calendar.HeadCell>
          <Calendar.HeadCell>Tu</Calendar.HeadCell>
          <Calendar.HeadCell>We</Calendar.HeadCell>
          <Calendar.HeadCell>Th</Calendar.HeadCell>
          <Calendar.HeadCell>Fr</Calendar.HeadCell>
          <Calendar.HeadCell>Sa</Calendar.HeadCell>
        </Calendar.GridHead>
        <Calendar.GridBody class="calendar-grid-body">
          <!-- Auto-generated cells for current month -->
        </Calendar.GridBody>
      </Calendar.Grid>
    </Calendar>
  );
});
```

#### Multi-Select

```typescript
import { defineComponent, signal } from 'aether';
const Example861 = defineComponent(() => {
  const selectedDates = signal<Date[]>([new Date()]);

  return () => (
    <Calendar
      mode="multiple"
      bind:value={selectedDates}
      class="calendar"
    >
      <!-- ... -->
    </Calendar>
  );
});
```

#### Styling Example

```css
.calendar {
  width: 280px;
  padding: var(--spacing-3);

  background: var(--color-background-primary);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
}

.calendar-header {
  display: flex;
  align-items: center;
  justify-content: space-between;

  margin-bottom: var(--spacing-2);
}

.calendar-nav-btn {
  display: flex;
  align-items: center;
  justify-content: center;

  width: 32px;
  height: 32px;

  background: transparent;
  border: none;
  border-radius: var(--radius-sm);

  color: var(--color-text-secondary);
  cursor: pointer;
  outline: none;

  transition: background-color var(--transition-fast);
}

.calendar-nav-btn:hover {
  background: var(--color-background-secondary);
}

.calendar-heading {
  font-size: var(--font-size-sm);
  font-weight: var(--font-weight-semibold);
  color: var(--color-text-primary);
}

.calendar-grid {
  width: 100%;
}

.calendar-grid-head {
  display: grid;
  grid-template-columns: repeat(7, 1fr);
  margin-bottom: var(--spacing-1);
}

.calendar-grid-head > * {
  display: flex;
  align-items: center;
  justify-content: center;

  height: 32px;

  font-size: var(--font-size-xs);
  font-weight: var(--font-weight-medium);
  color: var(--color-text-secondary);
}

.calendar-grid-body {
  display: grid;
  grid-template-columns: repeat(7, 1fr);
  gap: var(--spacing-1);
}

.calendar-cell {
  display: flex;
  align-items: center;
  justify-content: center;

  height: 32px;

  background: transparent;
  border: none;
  border-radius: var(--radius-sm);

  font-size: var(--font-size-sm);
  color: var(--color-text-primary);

  cursor: pointer;
  outline: none;

  transition: background-color var(--transition-fast);
}

.calendar-cell:hover {
  background: var(--color-background-secondary);
}

.calendar-cell:focus-visible {
  box-shadow: 0 0 0 2px var(--color-primary-500);
}

.calendar-cell[data-selected="true"] {
  background: var(--color-primary-500);
  color: white;
}

.calendar-cell[data-today="true"] {
  font-weight: var(--font-weight-semibold);
  position: relative;
}

.calendar-cell[data-today="true"]::after {
  content: '';
  position: absolute;
  bottom: 2px;
  left: 50%;
  transform: translateX(-50%);

  width: 4px;
  height: 4px;

  background: currentColor;
  border-radius: 50%;
}

.calendar-cell[data-outside-month="true"] {
  color: var(--color-text-disabled);
}

.calendar-cell[data-disabled="true"] {
  color: var(--color-text-disabled);
  cursor: not-allowed;
  pointer-events: none;
}

.calendar-cell[data-range-start="true"],
.calendar-cell[data-range-end="true"] {
  background: var(--color-primary-500);
  color: white;
}

.calendar-cell[data-range-middle="true"] {
  background: var(--color-primary-100);
  color: var(--color-primary-900);
  border-radius: 0;
}
```

#### API Reference

**`<Calendar>`** - Calendar component

Props:
- `mode?: 'single' | 'multiple' | 'range'` - Selection mode (default: 'single')
- `value?: Signal<Date | Date[] | DateRange>` - Selected date(s)
- `defaultValue?: Date | Date[] | DateRange` - Initial value
- `onValueChange?: (value: Date | Date[] | DateRange) => void`
- `min?: Date` - Minimum date
- `max?: Date` - Maximum date
- `isDateDisabled?: (date: Date) => boolean`
- `locale?: string`
- `weekStartsOn?: 0 | 1`
- `numberOfMonths?: number` - Display multiple months (default: 1)

**`<Calendar.Header>`** - Month/year navigation

**`<Calendar.PrevButton>`** - Previous month

**`<Calendar.NextButton>`** - Next month

**`<Calendar.Heading>`** - Current month/year

**`<Calendar.Grid>`** - Calendar grid

**`<Calendar.GridHead>`** - Day headers

**`<Calendar.HeadCell>`** - Day name

**`<Calendar.GridBody>`** - Date cells

**`<Calendar.Cell>`** - Individual date

Props:
- `date: Date` - The date for this cell

---

### Form

**Headless form composition primitives** for accessible field associations. These components handle ARIA relationships and accessibility, but **NO state management or validation** (use `createForm` from `nexus/forms` for that).

#### Design Philosophy

Form primitives provide:
- **Composition**: Flexible component structure
- **Accessibility**: Automatic ARIA associations (label-control, control-message, error announcements)
- **Integration**: Works with any state management (signals, createForm, custom)

Form primitives do NOT provide:
- State management (use `createForm` or signals)
- Validation logic (handled by form state layer)
- Submit handling (handled by form state layer)

#### Features

- Accessible label-control association
- Error message announcement (aria-describedby, aria-invalid)
- Field description support
- Flexible composition via `asChild`
- Works with any input component (native, custom, primitives)
- Type-safe field names

#### Basic Usage

```typescript
import { defineComponent, signal } from 'aether';
import { FormRoot, FormField, FormLabel, FormControl, FormMessage } from 'aether/primitives';

const Example530 = defineComponent(() => {
  const email = signal('');
  const error = signal<string | null>(null);

  const handleChange = (e: Event) => {
    const value = (e.target as HTMLInputElement).value;
    email.set(value);

    // Custom validation
    if (!value.includes('@')) {
      error.set('Invalid email address');
    } else {
      error.set(null);
    }
  };

  return () => (
    <FormRoot>
      <form>
        <FormField name="email">
          <FormLabel>Email Address</FormLabel>
          <FormControl>
            <input
              type="email"
              value={email()}
              on:input={handleChange}
              class="form-input"
            />
          </FormControl>
          {#if error()}
            <FormMessage>{error()}</FormMessage>
          {/if}
        </FormField>
        <button type="submit">Submit</button>
      </form>
    </FormRoot>
  );
});
```

#### Integration with createForm

Primitives work seamlessly with `createForm` hook (see **15-FORMS.md**):

```typescript
import { defineComponent } from 'aether';
import { createForm } from 'aether/forms';
import { FormRoot, FormField, FormLabel, FormControl, FormMessage } from 'aether/primitives';
import { z } from 'zod';

const Example872 = defineComponent(() => {
  const schema = z.object({
    name: z.string().min(2, 'Name must be at least 2 characters'),
    email: z.string().email('Invalid email address'),
    age: z.number().min(18, 'Must be 18 or older')
  });

  const form = createForm({
    initialValues: {
      name: '',
      email: '',
      age: 0
    },
    validate: schema,
    onSubmit: async (values) => {
      await api.createUser(values);
    }
  });

  return () => (
    <FormRoot>
      <form on:submit={form.handleSubmit}>
        <FormField name="name">
          <FormLabel>Name</FormLabel>
          <FormControl>
            <input
              type="text"
              {...form.getFieldProps('name')}
              class="form-input"
            />
          </FormControl>
          {#if form.touched.name && form.errors.name}
            <FormMessage>{form.errors.name}</FormMessage>
          {/if}
        </FormField>

        <FormField name="email">
          <FormLabel>Email</FormLabel>
          <FormControl>
            <input
              type="email"
              {...form.getFieldProps('email')}
              class="form-input"
            />
          </FormControl>
          {#if form.touched.email && form.errors.email}
            <FormMessage>{form.errors.email}</FormMessage>
          {/if}
        </FormField>

        <FormField name="age">
          <FormLabel>Age</FormLabel>
          <FormControl>
            <input
              type="number"
              {...form.getFieldProps('age')}
              class="form-input"
            />
          </FormControl>
          {#if form.touched.age && form.errors.age}
            <FormMessage>{form.errors.age}</FormMessage>
          {/if}
        </FormField>

        <button
          type="submit"
          disabled={form.isSubmitting || !form.isValid}
        >
          {#if form.isSubmitting}
            Submitting...
          {:else}
            Submit
          {/if}
        </button>
      </form>
    </FormRoot>
  );
});
```

#### With Complex Primitives (Select, Checkbox)

```typescript
import { defineComponent } from 'aether';
import { createForm } from 'aether/forms';
import { FormRoot, FormField, FormLabel, FormControl, FormMessage } from 'aether/primitives';
import { Select, Checkbox } from 'aether/primitives';

const Example844 = defineComponent(() => {
  const form = createForm({
    initialValues: {
      country: '',
      acceptTerms: false
    },
    validate: {
      country: (value) => !value && 'Please select a country',
      acceptTerms: (value) => !value && 'You must accept terms'
    },
    onSubmit: async (values) => {
      await api.register(values);
    }
  });

  return () => (
    <FormRoot>
      <form on:submit={form.handleSubmit}>
        {/* Select integration */}
        <FormField name="country">
          <FormLabel>Country</FormLabel>
          <FormControl asChild>
            <Select bind:value={form.values.country}>
              <Select.Trigger>
                <Select.Value placeholder="Select country..." />
              </Select.Trigger>
              <Select.Content>
                <Select.Item value="us">United States</Select.Item>
                <Select.Item value="uk">United Kingdom</Select.Item>
                <Select.Item value="ca">Canada</Select.Item>
              </Select.Content>
            </Select>
          </FormControl>
          {#if form.touched.country && form.errors.country}
            <FormMessage>{form.errors.country}</FormMessage>
          {/if}
        </FormField>

        {/* Checkbox integration */}
        <FormField name="acceptTerms">
          <div class="flex items-center gap-2">
            <FormControl asChild>
              <Checkbox
                bind:checked={form.values.acceptTerms}
                id="terms"
              >
                <Checkbox.Indicator>
                  <CheckIcon />
                </Checkbox.Indicator>
              </Checkbox>
            </FormControl>
            <FormLabel for="terms">
              I accept the terms and conditions
            </FormLabel>
          </div>
          {#if form.touched.acceptTerms && form.errors.acceptTerms}
            <FormMessage>{form.errors.acceptTerms}</FormMessage>
          {/if}
        </FormField>

        <button type="submit" disabled={form.isSubmitting}>
          Submit
        </button>
      </form>
    </FormRoot>
  );
});
```

#### Styling Example

```css
.form-field {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-2);
}

.form-label {
  font-size: var(--font-size-sm);
  font-weight: var(--font-weight-medium);
  color: var(--color-text-primary);
}

.form-input {
  padding: var(--spacing-2) var(--spacing-3);
  background: var(--color-background-primary);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  font-size: var(--font-size-sm);
  color: var(--color-text-primary);
  outline: none;
  transition: border-color var(--transition-fast);
}

.form-input:hover {
  border-color: var(--color-border-hover);
}

.form-input:focus {
  border-color: var(--color-primary-500);
  box-shadow: 0 0 0 3px var(--color-primary-100);
}

.form-input[aria-invalid="true"] {
  border-color: var(--color-error);
}

.form-input[aria-invalid="true"]:focus {
  box-shadow: 0 0 0 3px var(--color-error-light);
}

.form-error {
  font-size: var(--font-size-xs);
  color: var(--color-error);
}
```

#### API Reference

**`<FormRoot>`** - Form container (optional, provides context for field IDs)

Props:
- `id?: string` - Form ID prefix for field associations

**`<FormField>`** - Field wrapper providing context

Props:
- `name: string` - Field name for associations
- `children: ComponentChildren` - Field content

Context provided:
- Field ID for label/control/message association
- Field name for form integration

**`<FormLabel>`** - Accessible label

Props:
- `for?: string` - Control ID (auto-associated via context)
- `...HTMLLabelAttributes` - Standard label props

Behavior:
- Automatically associates with control via `for` attribute
- Uses field context for ID generation

**`<FormControl>`** - Control wrapper

Props:
- `asChild?: boolean` - Merge props into child (default: false)
- `...HTMLAttributes` - Forwarded to wrapper/child

Behavior:
- Adds `aria-describedby` pointing to error message (if error exists)
- Adds `aria-invalid` when error exists
- Generates unique `id` for label association
- If `asChild`, merges ARIA props into child element

**`<FormMessage>`** - Error/help message

Props:
- `...HTMLAttributes` - Standard div props

Behavior:
- Renders with `id` for `aria-describedby` association
- Includes `role="alert"` for screen reader announcements
- Only shown when there's an error message

**`<FormDescription>`** - Field description/help text

Props:
- `...HTMLAttributes` - Standard div props

Behavior:
- Renders with `id` for `aria-describedby` association
- Always included in `aria-describedby` (even with errors)

---

### Input

A headless input component for text input fields with validation states and ARIA support.

#### Features

- Multiple input types (text, email, password, number, tel, url, search, date, time, datetime-local)
- Validation states (invalid)
- Disabled and read-only states
- Full ARIA support
- Controlled and uncontrolled modes
- Event handlers (onChange, onInput, onBlur, onFocus)
- Accessible by default

#### Basic Usage

```typescript
import { defineComponent, signal } from 'aether';
import { Input } from 'aether/primitives';

// Simple text input
export const BasicInput = defineComponent(() => {
  const value = signal('');

  return () => (
    <Input
      type="text"
      placeholder="Enter your name"
      onChange={(newValue) => value.set(newValue)}
      class="input"
    />
  );
});

// Controlled input
export const ControlledInput = defineComponent(() => {
  const email = signal('');

  return () => (
    <div class="field">
      <label for="email-input">Email</label>
      <Input
        id="email-input"
        type="email"
        value={email()}
        onChange={(newValue) => email.set(newValue)}
        placeholder="you@example.com"
        required
        class="input"
      />
      <p>Current value: {email()}</p>
    </div>
  );
});

// Uncontrolled input with default value
export const UncontrolledInput = defineComponent(() => {
  return () => (
    <Input
      type="text"
      defaultValue="Initial value"
      placeholder="Enter text"
      class="input"
    />
  );
});
```

#### With Validation State

```typescript
import { defineComponent, signal, computed } from 'aether';
import { Input } from 'aether/primitives';

export const ValidatedEmailInput = defineComponent(() => {
  const email = signal('');
  const touched = signal(false);

  // Validate email format
  const isInvalid = computed(() => {
    return touched() && email() && !email().includes('@');
  });

  const handleBlur = () => {
    touched.set(true);
  };

  return () => (
    <div class="field">
      <label for="email">Email Address</label>
      <Input
        id="email"
        type="email"
        value={email()}
        onChange={(newValue) => email.set(newValue)}
        onBlur={handleBlur}
        invalid={isInvalid()}
        placeholder="you@example.com"
        class={`input ${isInvalid() ? 'input-error' : ''}`}
        aria-describedby={isInvalid() ? 'email-error' : undefined}
      />
      {isInvalid() && (
        <span id="email-error" class="error-message" role="alert">
          Please enter a valid email address
        </span>
      )}
    </div>
  );
});
```

#### Different Input Types

```typescript
import { defineComponent, signal } from 'aether';
import { Input } from 'aether/primitives';

export const InputTypes = defineComponent(() => {
  const text = signal('');
  const email = signal('');
  const password = signal('');
  const number = signal(0);
  const date = signal('');
  const tel = signal('');
  const url = signal('');

  return () => (
    <div class="form">
      <div class="field">
        <label>Text</label>
        <Input
          type="text"
          value={text()}
          onChange={text.set}
          placeholder="Enter text"
        />
      </div>

      <div class="field">
        <label>Email</label>
        <Input
          type="email"
          value={email()}
          onChange={email.set}
          placeholder="you@example.com"
          autoComplete="email"
        />
      </div>

      <div class="field">
        <label>Password</label>
        <Input
          type="password"
          value={password()}
          onChange={password.set}
          placeholder="Enter password"
          autoComplete="current-password"
        />
      </div>

      <div class="field">
        <label>Number</label>
        <Input
          type="number"
          value={number()}
          onChange={(v) => number.set(Number(v))}
          placeholder="Enter number"
        />
      </div>

      <div class="field">
        <label>Date</label>
        <Input
          type="date"
          value={date()}
          onChange={date.set}
        />
      </div>

      <div class="field">
        <label>Phone</label>
        <Input
          type="tel"
          value={tel()}
          onChange={tel.set}
          placeholder="+1 (555) 000-0000"
          autoComplete="tel"
        />
      </div>

      <div class="field">
        <label>URL</label>
        <Input
          type="url"
          value={url()}
          onChange={url.set}
          placeholder="https://example.com"
        />
      </div>
    </div>
  );
});
```

#### Integration with Form Primitives

```typescript
import { defineComponent, signal } from 'aether';
import { FormField, FormLabel, FormControl, FormMessage } from 'aether/primitives';
import { Input } from 'aether/primitives';

export const FormIntegration = defineComponent(() => {
  const username = signal('');
  const error = signal<string | null>(null);

  const handleChange = (value: string) => {
    username.set(value);

    // Validate username
    if (value.length < 3) {
      error.set('Username must be at least 3 characters');
    } else if (!/^[a-zA-Z0-9_]+$/.test(value)) {
      error.set('Username can only contain letters, numbers, and underscores');
    } else {
      error.set(null);
    }
  };

  return () => (
    <FormField name="username">
      <FormLabel>Username</FormLabel>
      <FormControl>
        <Input
          type="text"
          value={username()}
          onChange={handleChange}
          invalid={!!error()}
          placeholder="Enter username"
          class="input"
        />
      </FormControl>
      {error() && (
        <FormMessage>{error()}</FormMessage>
      )}
    </FormField>
  );
});
```

#### Styling Example

```css
/* Basic input styling */
[data-input] {
  width: 100%;
  padding: var(--spacing-2) var(--spacing-3);
  font-size: var(--font-size-sm);
  font-family: inherit;
  line-height: 1.5;
  color: var(--color-text-primary);
  background: var(--color-background-primary);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  outline: none;
  transition: all var(--transition-fast);
}

/* Hover state */
[data-input]:hover:not([data-disabled]) {
  border-color: var(--color-border-hover);
}

/* Focus state */
[data-input]:focus {
  border-color: var(--color-primary-500);
  box-shadow: 0 0 0 3px var(--color-primary-100);
}

/* Invalid state */
[data-input][data-invalid] {
  border-color: var(--color-error);
}

[data-input][data-invalid]:focus {
  box-shadow: 0 0 0 3px var(--color-error-light);
}

/* Disabled state */
[data-input][data-disabled] {
  opacity: 0.5;
  cursor: not-allowed;
  background: var(--color-background-secondary);
}

/* Read-only state */
[data-input][data-readonly] {
  background: var(--color-background-secondary);
  cursor: default;
}

/* Placeholder */
[data-input]::placeholder {
  color: var(--color-text-tertiary);
  opacity: 1;
}
```

#### API Reference

**`<Input>`** - Input component

Props:
- `type?: 'text' | 'email' | 'password' | 'number' | 'tel' | 'url' | 'search' | 'date' | 'time' | 'datetime-local'` - Input type (default: 'text')
- `value?: string | number` - Controlled value
- `defaultValue?: string | number` - Default value for uncontrolled mode
- `placeholder?: string` - Placeholder text
- `disabled?: boolean` - Disabled state
- `readOnly?: boolean` - Read-only state
- `required?: boolean` - Required field
- `invalid?: boolean` - Invalid state for validation errors
- `name?: string` - Input name
- `id?: string` - Input ID
- `autoComplete?: string` - Autocomplete attribute
- `aria-label?: string` - ARIA label
- `aria-labelledby?: string` - ARIA labelledby
- `aria-describedby?: string` - ARIA describedby
- `aria-invalid?: boolean` - ARIA invalid (auto-set based on invalid prop)
- `onChange?: (value: string) => void` - Change handler
- `onInput?: (value: string) => void` - Input handler
- `onBlur?: (event: FocusEvent) => void` - Blur handler
- `onFocus?: (event: FocusEvent) => void` - Focus handler
- `...HTMLInputAttributes` - Additional HTML input attributes

Data attributes:
- `data-input` - Always present
- `data-disabled` - Present when disabled
- `data-readonly` - Present when read-only
- `data-invalid` - Present when invalid

#### Accessibility Notes

- Always provide a label using `<label>`, `aria-label`, or `aria-labelledby`
- Use `aria-describedby` to associate error messages or help text
- Set `aria-invalid="true"` when validation fails (automatically handled)
- Use appropriate `type` attribute for better mobile keyboard layouts
- Use `autoComplete` attribute for better user experience
- Ensure sufficient color contrast for text and borders
- Minimum touch target size of 44x44px for mobile devices

#### Best Practices

1. **Always provide labels**: Use semantic `<label>` elements with `for` attribute
2. **Use appropriate input types**: Choose the right type for better UX (email, tel, url, etc.)
3. **Validate on blur**: Only show errors after user leaves the field
4. **Clear error messages**: Provide actionable feedback
5. **Autocomplete**: Use autocomplete attributes for common fields
6. **Disabled vs Read-only**: Use disabled when field can't be changed, read-only when it can be copied
7. **Placeholder vs Label**: Never use placeholder as a replacement for label
8. **Password fields**: Always use type="password" and appropriate autocomplete

---

### Textarea

A headless textarea component for multi-line text input with auto-resize support and validation states.

#### Features

- Multi-line text input
- Auto-resize to fit content
- Min/max rows constraints
- Validation states (invalid)
- Disabled and read-only states
- Full ARIA support
- Controlled and uncontrolled modes
- Character count support
- Event handlers (onChange, onInput, onBlur, onFocus)

#### Basic Usage

```typescript
import { defineComponent, signal } from 'aether';
import { Textarea } from 'aether/primitives';

// Simple textarea
export const BasicTextarea = defineComponent(() => {
  const comment = signal('');

  return () => (
    <Textarea
      placeholder="Enter your comment"
      onChange={(newValue) => comment.set(newValue)}
      class="textarea"
    />
  );
});

// Controlled textarea
export const ControlledTextarea = defineComponent(() => {
  const message = signal('');

  return () => (
    <div class="field">
      <label for="message">Message</label>
      <Textarea
        id="message"
        value={message()}
        onChange={(newValue) => message.set(newValue)}
        placeholder="Enter your message"
        rows={4}
        class="textarea"
      />
      <p>Character count: {message().length}</p>
    </div>
  );
});

// Uncontrolled textarea
export const UncontrolledTextarea = defineComponent(() => {
  return () => (
    <Textarea
      defaultValue="Initial text content"
      placeholder="Enter text"
      rows={5}
      class="textarea"
    />
  );
});
```

#### Auto-resize Textarea

```typescript
import { defineComponent, signal } from 'aether';
import { Textarea } from 'aether/primitives';

// Auto-resize based on content
export const AutoResizeTextarea = defineComponent(() => {
  const content = signal('');

  return () => (
    <div class="field">
      <label for="auto-resize">Auto-resize Textarea</label>
      <Textarea
        id="auto-resize"
        value={content()}
        onChange={(newValue) => content.set(newValue)}
        placeholder="Type something... The textarea will grow as you type"
        autoResize
        minRows={3}
        maxRows={10}
        class="textarea"
      />
    </div>
  );
});

// Auto-resize with constraints
export const ConstrainedAutoResize = defineComponent(() => {
  const bio = signal('');

  return () => (
    <div class="field">
      <label for="bio">Bio (max 500 characters)</label>
      <Textarea
        id="bio"
        value={bio()}
        onChange={(newValue) => {
          if (newValue.length <= 500) {
            bio.set(newValue);
          }
        }}
        placeholder="Tell us about yourself..."
        autoResize
        minRows={4}
        maxRows={8}
        maxLength={500}
        class="textarea"
      />
      <p class="helper-text">
        {bio().length} / 500 characters
      </p>
    </div>
  );
});
```

#### With Character Count

```typescript
import { defineComponent, signal, computed } from 'aether';
import { Textarea } from 'aether/primitives';

export const TextareaWithCharCount = defineComponent(() => {
  const description = signal('');
  const maxLength = 200;

  const remaining = computed(() => maxLength - description().length);
  const isNearLimit = computed(() => remaining() < 20);
  const isAtLimit = computed(() => remaining() <= 0);

  return () => (
    <div class="field">
      <label for="description">Description</label>
      <Textarea
        id="description"
        value={description()}
        onChange={(newValue) => {
          if (newValue.length <= maxLength) {
            description.set(newValue);
          }
        }}
        placeholder="Enter description"
        maxLength={maxLength}
        rows={4}
        class="textarea"
      />
      <p class={`char-count ${isNearLimit() ? 'warning' : ''} ${isAtLimit() ? 'error' : ''}`}>
        {remaining()} characters remaining
      </p>
    </div>
  );
});
```

#### With Validation State

```typescript
import { defineComponent, signal, computed } from 'aether';
import { Textarea } from 'aether/primitives';

export const ValidatedTextarea = defineComponent(() => {
  const feedback = signal('');
  const touched = signal(false);

  const minLength = 10;
  const isInvalid = computed(() => {
    return touched() && feedback().length > 0 && feedback().length < minLength;
  });

  const errorMessage = computed(() => {
    if (isInvalid()) {
      return `Feedback must be at least ${minLength} characters (currently ${feedback().length})`;
    }
    return null;
  });

  const handleBlur = () => {
    touched.set(true);
  };

  return () => (
    <div class="field">
      <label for="feedback">Feedback</label>
      <Textarea
        id="feedback"
        value={feedback()}
        onChange={(newValue) => feedback.set(newValue)}
        onBlur={handleBlur}
        invalid={isInvalid()}
        placeholder="Please provide your feedback"
        autoResize
        minRows={3}
        maxRows={8}
        class={`textarea ${isInvalid() ? 'textarea-error' : ''}`}
        aria-describedby={isInvalid() ? 'feedback-error' : undefined}
      />
      {isInvalid() && (
        <span id="feedback-error" class="error-message" role="alert">
          {errorMessage()}
        </span>
      )}
    </div>
  );
});
```

#### Integration with Form Primitives

```typescript
import { defineComponent, signal } from 'aether';
import { FormField, FormLabel, FormControl, FormMessage, FormDescription } from 'aether/primitives';
import { Textarea } from 'aether/primitives';

export const TextareaFormIntegration = defineComponent(() => {
  const review = signal('');
  const error = signal<string | null>(null);

  const handleChange = (value: string) => {
    review.set(value);

    // Validate review
    if (value.length < 20) {
      error.set('Review must be at least 20 characters');
    } else if (value.length > 500) {
      error.set('Review must not exceed 500 characters');
    } else {
      error.set(null);
    }
  };

  return () => (
    <FormField name="review">
      <FormLabel>Product Review</FormLabel>
      <FormDescription>
        Share your experience with this product (20-500 characters)
      </FormDescription>
      <FormControl>
        <Textarea
          value={review()}
          onChange={handleChange}
          invalid={!!error()}
          placeholder="Write your review here..."
          autoResize
          minRows={4}
          maxRows={10}
          maxLength={500}
          class="textarea"
        />
      </FormControl>
      {error() && (
        <FormMessage>{error()}</FormMessage>
      )}
      <p class="helper-text">
        {review().length} / 500 characters
      </p>
    </FormField>
  );
});
```

#### Styling Example

```css
/* Basic textarea styling */
[data-textarea] {
  width: 100%;
  padding: var(--spacing-2) var(--spacing-3);
  font-size: var(--font-size-sm);
  font-family: inherit;
  line-height: 1.5;
  color: var(--color-text-primary);
  background: var(--color-background-primary);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  outline: none;
  transition: all var(--transition-fast);
  resize: vertical; /* Allow vertical resize by default */
}

/* Auto-resize textarea (disable manual resize) */
[data-textarea][data-autoresize] {
  resize: none;
  overflow: hidden;
}

/* Hover state */
[data-textarea]:hover:not([data-disabled]) {
  border-color: var(--color-border-hover);
}

/* Focus state */
[data-textarea]:focus {
  border-color: var(--color-primary-500);
  box-shadow: 0 0 0 3px var(--color-primary-100);
}

/* Invalid state */
[data-textarea][data-invalid] {
  border-color: var(--color-error);
}

[data-textarea][data-invalid]:focus {
  box-shadow: 0 0 0 3px var(--color-error-light);
}

/* Disabled state */
[data-textarea][data-disabled] {
  opacity: 0.5;
  cursor: not-allowed;
  background: var(--color-background-secondary);
  resize: none;
}

/* Read-only state */
[data-textarea][data-readonly] {
  background: var(--color-background-secondary);
  cursor: default;
  resize: none;
}

/* Placeholder */
[data-textarea]::placeholder {
  color: var(--color-text-tertiary);
  opacity: 1;
}

/* Character count helpers */
.char-count {
  font-size: var(--font-size-xs);
  color: var(--color-text-secondary);
  text-align: right;
  margin-top: var(--spacing-1);
}

.char-count.warning {
  color: var(--color-warning);
}

.char-count.error {
  color: var(--color-error);
  font-weight: var(--font-weight-medium);
}

.helper-text {
  font-size: var(--font-size-xs);
  color: var(--color-text-tertiary);
  margin-top: var(--spacing-1);
}
```

#### API Reference

**`<Textarea>`** - Textarea component

Props:
- `value?: string` - Controlled value
- `defaultValue?: string` - Default value for uncontrolled mode
- `placeholder?: string` - Placeholder text
- `disabled?: boolean` - Disabled state
- `readOnly?: boolean` - Read-only state
- `required?: boolean` - Required field
- `invalid?: boolean` - Invalid state for validation errors
- `autoResize?: boolean` - Auto-resize to fit content (default: false)
- `minRows?: number` - Minimum rows for auto-resize (default: 1)
- `maxRows?: number` - Maximum rows for auto-resize (default: Infinity)
- `rows?: number` - Fixed number of rows (ignored if autoResize is true)
- `cols?: number` - Number of columns
- `name?: string` - Textarea name
- `id?: string` - Textarea ID
- `maxLength?: number` - Maximum character length
- `aria-label?: string` - ARIA label
- `aria-labelledby?: string` - ARIA labelledby
- `aria-describedby?: string` - ARIA describedby
- `onChange?: (value: string) => void` - Change handler
- `onInput?: (value: string) => void` - Input handler
- `onBlur?: (event: FocusEvent) => void` - Blur handler
- `onFocus?: (event: FocusEvent) => void` - Focus handler
- `...HTMLTextAreaAttributes` - Additional HTML textarea attributes

Data attributes:
- `data-textarea` - Always present
- `data-disabled` - Present when disabled
- `data-readonly` - Present when read-only
- `data-invalid` - Present when invalid
- `data-autoresize` - Present when auto-resize is enabled

#### Accessibility Notes

- Always provide a label using `<label>`, `aria-label`, or `aria-labelledby`
- Use `aria-describedby` to associate helper text or error messages
- Set `aria-invalid="true"` when validation fails (automatically handled)
- When using character limits, announce remaining characters to screen readers
- Ensure sufficient color contrast for text and borders
- Minimum touch target size of 44x44px for the overall field
- Consider adding "required" attribute for required fields

#### Best Practices

1. **Always provide labels**: Use semantic `<label>` elements with `for` attribute
2. **Show character limits**: If there's a maxLength, show character count
3. **Auto-resize for better UX**: Use autoResize with min/max constraints for dynamic content
4. **Validate on blur**: Only show errors after user leaves the field
5. **Clear error messages**: Provide actionable feedback
6. **Set appropriate min/max rows**: Balance between initial size and maximum height
7. **Placeholder vs Label**: Never use placeholder as a replacement for label
8. **Consider line height**: Ensure adequate line height (1.5 recommended) for readability
9. **Fixed height for forms**: Use fixed rows for consistent form layouts
10. **Resize handle**: Allow vertical resize unless using autoResize

---

### Avatar

User avatar display with image loading states and fallback support.

#### Features

- Image loading states (idle, loading, loaded, error)
- Fallback content when image fails to load
- Delayed fallback rendering
- Automatic image load/error handling
- Customizable via CSS

#### Basic Usage

```typescript
import { defineComponent } from 'aether';
import { Avatar } from 'aether/primitives';

export const UserAvatar = defineComponent(() => {
  return () => (
    <Avatar class="avatar">
      <Avatar.Image
        src="https://example.com/avatar.jpg"
        alt="John Doe"
      />
      <Avatar.Fallback class="avatar-fallback" delayMs={600}>
        JD
      </Avatar.Fallback>
    </Avatar>
  );
});
```

#### Styling Example

```css
.avatar {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 40px;
  height: 40px;
  border-radius: 50%;
  overflow: hidden;
  background: var(--color-background-secondary);
}

.avatar img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.avatar-fallback {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 100%;
  height: 100%;
  background: var(--color-primary-500);
  color: white;
  font-weight: 600;
  font-size: 14px;
}
```

#### API Reference

**`<Avatar>`** - Avatar container

Props:
- `...HTMLAttributes` - Standard span props

**`<Avatar.Image>`** - Avatar image

Props:
- `src: string` - Image URL
- `alt: string` - Alt text
- `onLoad?: () => void` - Image load callback
- `onError?: () => void` - Image error callback

**`<Avatar.Fallback>`** - Fallback content

Props:
- `delayMs?: number` - Delay before showing fallback (default: 0)
- `...HTMLAttributes` - Standard span props

---

### Badge

Status badge for notifications, counts, and status indicators.

#### Features

- Simple, lightweight component
- ARIA live region for screen readers
- Customizable via CSS
- Works with any content (text, numbers, icons)

#### Basic Usage

```typescript
import { defineComponent } from 'aether';
import { Badge } from 'aether/primitives';

export const NotificationBadge = defineComponent(() => {
  return () => (
    <div class="notification-container">
      <BellIcon />
      <Badge class="badge">3</Badge>
    </div>
  );
});

// Status badges
export const StatusBadges = defineComponent(() => {
  return () => (
    <div class="status-list">
      <Badge class="badge badge-success">Active</Badge>
      <Badge class="badge badge-warning">Pending</Badge>
      <Badge class="badge badge-error">Failed</Badge>
    </div>
  );
});
```

#### Styling Example

```css
.badge {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 2px 8px;
  font-size: 12px;
  font-weight: 600;
  border-radius: 12px;
  background: var(--color-primary-500);
  color: white;
}

.badge-success {
  background: var(--color-success-500);
}

.badge-warning {
  background: var(--color-warning-500);
}

.badge-error {
  background: var(--color-error-500);
}

/* Notification badge */
.notification-container {
  position: relative;
  display: inline-flex;
}

.notification-container .badge {
  position: absolute;
  top: -4px;
  right: -4px;
  min-width: 18px;
  height: 18px;
  padding: 0 4px;
}
```

#### API Reference

**`<Badge>`** - Badge component

Props:
- `...HTMLAttributes` - Standard span props

---

### Progress

Progress bars with determinate and indeterminate states.

#### Features

- Determinate (value 0-100) and indeterminate (loading) modes
- WAI-ARIA progressbar pattern
- Custom value label formatting
- Configurable max value
- Accessible to screen readers

#### Basic Usage

```typescript
import { defineComponent, signal } from 'aether';
import { Progress } from 'aether/primitives';

// Determinate progress
export const FileUpload = defineComponent(() => {
  const uploadProgress = signal(45);

  return () => (
    <div class="upload-container">
      <span>Uploading... {uploadProgress()}%</span>
      <Progress value={uploadProgress()} class="progress">
        <Progress.Indicator class="progress-indicator" />
      </Progress>
    </div>
  );
});

// Indeterminate progress
export const Loading = defineComponent(() => {
  return () => (
    <Progress value={null} class="progress">
      <Progress.Indicator class="progress-indicator" />
    </Progress>
  );
});

// Custom value label
export const CustomProgress = defineComponent(() => {
  const value = signal(75);

  return () => (
    <Progress
      value={value()}
      max={100}
      getValueLabel={(v, max) => `${v} of ${max} items`}
      class="progress"
    >
      <Progress.Indicator class="progress-indicator" />
    </Progress>
  );
});
```

#### Styling Example

```css
.progress {
  position: relative;
  width: 100%;
  height: 8px;
  background: var(--color-background-secondary);
  border-radius: 4px;
  overflow: hidden;
}

.progress-indicator {
  width: 100%;
  height: 100%;
  background: var(--color-primary-500);
  transition: transform 200ms ease;
}

/* Indeterminate animation */
.progress[data-state="indeterminate"] .progress-indicator {
  animation: progress-indeterminate 1.5s ease-in-out infinite;
}

@keyframes progress-indeterminate {
  0% {
    transform: translateX(-100%);
  }
  50% {
    transform: translateX(0);
  }
  100% {
    transform: translateX(100%);
  }
}
```

#### API Reference

**`<Progress>`** - Progress container

Props:
- `value: number | null` - Progress value (0-max) or null for indeterminate
- `max?: number` - Maximum value (default: 100)
- `getValueLabel?: (value: number, max: number) => string` - Custom label formatter
- `...HTMLAttributes` - Standard div props

**`<Progress.Indicator>`** - Progress indicator bar

Props:
- `...HTMLAttributes` - Standard div props

---

### AspectRatio

Maintain consistent aspect ratios for images, videos, and embeds.

#### Features

- Maintains aspect ratio regardless of container size
- Responsive by default
- Supports custom ratios
- Common presets (16/9, 4/3, 1/1, 3/2, 21/9)

#### Basic Usage

```typescript
import { defineComponent } from 'aether';
import { AspectRatio } from 'aether/primitives';

// 16:9 video embed
export const VideoEmbed = defineComponent(() => {
  return () => (
    <AspectRatio ratio={16 / 9}>
      <iframe
        src="https://www.youtube.com/embed/..."
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
        allowFullScreen
      />
    </AspectRatio>
  );
});

// Square image
export const SquareImage = defineComponent(() => {
  return () => (
    <AspectRatio ratio={1}>
      <img
        src="/product.jpg"
        alt="Product"
        style={{ objectFit: 'cover' }}
      />
    </AspectRatio>
  );
});

// Ultra-wide banner
export const Banner = defineComponent(() => {
  return () => (
    <AspectRatio ratio={21 / 9}>
      <img
        src="/banner.jpg"
        alt="Banner"
        style={{ objectFit: 'cover' }}
      />
    </AspectRatio>
  );
});
```

#### Styling Example

```css
/* AspectRatio renders with position: relative by default */
/* Child content is absolutely positioned */

.aspect-ratio-container {
  max-width: 600px;
}

.aspect-ratio-container img,
.aspect-ratio-container iframe,
.aspect-ratio-container video {
  width: 100%;
  height: 100%;
  object-fit: cover;
  border: none;
}
```

#### API Reference

**`<AspectRatio>`** - Aspect ratio container

Props:
- `ratio: number` - Aspect ratio (width / height), e.g., 16/9 = 1.777...
- `...HTMLAttributes` - Standard div props

Common ratios:
- `1` - Square (1:1)
- `4/3` - Standard (1.333...)
- `16/9` - Widescreen (1.777...)
- `3/2` - Classic photo (1.5)
- `21/9` - Ultra-wide (2.333...)

---

### Toast

Toast notifications with auto-dismiss, actions, and multiple toast support.

#### Features

- Auto-dismiss with configurable duration
- Max toasts limit (prevents screen clutter)
- Action buttons
- Different variants (default, success, warning, error)
- Keyboard hotkey support (F8 to close)
- Provider pattern with context
- Portal rendering

#### Basic Usage

```typescript
import { defineComponent } from 'aether';
import { Toast, ToastProvider } from 'aether/primitives';

// Wrap your app with ToastProvider
export const App = defineComponent(() => {
  return () => (
    <ToastProvider duration={5000} maxToasts={3}>
      <YourApp />
      <Toast.Viewport class="toast-viewport" />
    </ToastProvider>
  );
});

// Show toasts from anywhere
export const NotificationButton = defineComponent(() => {
  const toastContext = useContext(ToastContext);

  const showToast = () => {
    toastContext.addToast({
      title: 'Success!',
      description: 'Your changes have been saved.',
      variant: 'success',
      duration: 5000,
    });
  };

  return () => (
    <button on:click={showToast}>
      Show Notification
    </button>
  );
});

// With action
export const UndoToast = defineComponent(() => {
  const toastContext = useContext(ToastContext);

  const deleteWithUndo = () => {
    toastContext.addToast({
      title: 'Item deleted',
      description: 'The item has been removed.',
      variant: 'default',
      action: {
        label: 'Undo',
        onClick: () => {
          // Restore the item
          console.log('Undo delete');
        },
      },
    });
  };

  return () => (
    <button on:click={deleteWithUndo}>
      Delete Item
    </button>
  );
});
```

#### Styling Example

```css
.toast-viewport {
  position: fixed;
  bottom: 0;
  right: 0;
  padding: 24px;
  display: flex;
  flex-direction: column;
  gap: 12px;
  max-width: 400px;
  z-index: var(--z-toast);
}

[data-toast] {
  display: flex;
  flex-direction: column;
  gap: 8px;
  padding: 16px;
  background: white;
  border-radius: 8px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  border-left: 4px solid var(--color-primary-500);
}

[data-toast][data-variant="success"] {
  border-left-color: var(--color-success-500);
}

[data-toast][data-variant="warning"] {
  border-left-color: var(--color-warning-500);
}

[data-toast][data-variant="error"] {
  border-left-color: var(--color-error-500);
}

[data-toast-title] {
  font-weight: 600;
  font-size: 14px;
  color: var(--color-text-primary);
}

[data-toast-description] {
  font-size: 13px;
  color: var(--color-text-secondary);
}

[data-toast-action] {
  align-self: flex-start;
  padding: 4px 12px;
  border-radius: 4px;
  background: var(--color-primary-500);
  color: white;
  font-size: 13px;
  font-weight: 500;
  cursor: pointer;
}

[data-toast-close] {
  position: absolute;
  top: 8px;
  right: 8px;
  width: 24px;
  height: 24px;
  border-radius: 4px;
  background: transparent;
  color: var(--color-text-tertiary);
  cursor: pointer;
  font-size: 18px;
}
```

#### API Reference

**`<ToastProvider>`** - Toast provider (wrap your app)

Props:
- `duration?: number` - Default auto-dismiss duration in ms (default: 5000)
- `maxToasts?: number` - Maximum number of toasts shown at once (default: 3)
- `hotkey?: string[]` - Keyboard hotkey to close toasts (default: ['F8'])
- `children: any` - Your app content

**`<Toast.Viewport>`** - Toast container (render once)

Props:
- `...HTMLAttributes` - Standard ol (ordered list) props

**`<Toast>`** - Individual toast

Props:
- `toast: ToastData` - Toast data object
- `onDismiss?: (id: string) => void` - Dismiss callback

**ToastData** interface:
```typescript
interface ToastData {
  id: string;
  title?: string;
  description?: string;
  variant?: 'default' | 'success' | 'warning' | 'error';
  duration?: number;
  action?: {
    label: string;
    onClick: () => void;
  };
}
```

**Context Methods**:
- `addToast(toast: Omit<ToastData, 'id'>): string` - Add new toast, returns ID
- `removeToast(id: string): void` - Remove specific toast
- `toasts(): ToastData[]` - Get all current toasts

---

### Collapsible

Collapsible content regions (single-item accordion).

#### Features

- Controlled and uncontrolled modes
- Smooth height animations
- Disabled state
- forceMount support for animations
- Keyboard accessible (Space/Enter to toggle)

#### Basic Usage

```typescript
import { defineComponent, signal } from 'aether';
import { Collapsible } from 'aether/primitives';

// Uncontrolled
export const SimpleCollapsible = defineComponent(() => {
  return () => (
    <Collapsible defaultOpen={false} class="collapsible">
      <Collapsible.Trigger class="collapsible-trigger">
        Show More
      </Collapsible.Trigger>
      <Collapsible.Content class="collapsible-content">
        <p>Additional content that can be collapsed...</p>
      </Collapsible.Content>
    </Collapsible>
  );
});

// Controlled
export const ControlledCollapsible = defineComponent(() => {
  const isOpen = signal(false);

  return () => (
    <>
      <button on:click={() => isOpen(!isOpen())}>
        {isOpen() ? 'Hide' : 'Show'} Details
      </button>

      <Collapsible bind:open={isOpen} class="collapsible">
        <Collapsible.Content class="collapsible-content">
          <p>Controlled content...</p>
        </Collapsible.Content>
      </Collapsible>
    </>
  );
});
```

#### Styling Example

```css
.collapsible {
  border: 1px solid var(--color-border);
  border-radius: 8px;
  overflow: hidden;
}

.collapsible-trigger {
  width: 100%;
  padding: 12px 16px;
  background: transparent;
  border: none;
  text-align: left;
  font-weight: 500;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.collapsible-trigger:hover {
  background: var(--color-background-secondary);
}

.collapsible-trigger::after {
  content: '▼';
  transition: transform 200ms ease;
}

.collapsible[data-state="open"] .collapsible-trigger::after {
  transform: rotate(-180deg);
}

.collapsible-content {
  overflow: hidden;
  padding: 0 16px;
  transition: height 200ms ease;
}

.collapsible[data-state="open"] .collapsible-content {
  padding: 16px;
}
```

#### API Reference

**`<Collapsible>`** - Collapsible container

Props:
- `open?: Signal<boolean>` - Controlled open state
- `defaultOpen?: boolean` - Initial state (uncontrolled)
- `onOpenChange?: (open: boolean) => void` - Open change callback
- `disabled?: boolean` - Disable interaction
- `...HTMLAttributes` - Standard div props

**`<Collapsible.Trigger>`** - Toggle button

Props:
- `...HTMLAttributes` - Standard button props

**`<Collapsible.Content>`** - Collapsible content

Props:
- `forceMount?: boolean` - Always mount (for animations)
- `...HTMLAttributes` - Standard div props

---

### Skeleton

Loading placeholders with shimmer animation.

#### Features

- Configurable width, height, border radius
- Optional shimmer animation
- ARIA busy state for screen readers
- Simple and lightweight
- Customizable via CSS

#### Basic Usage

```typescript
import { defineComponent } from 'aether';
import { Skeleton } from 'aether/primitives';

// Text skeleton
export const TextSkeleton = defineComponent(() => {
  return () => (
    <div class="text-skeleton-container">
      <Skeleton width="100%" height="20px" class="skeleton" />
      <Skeleton width="80%" height="20px" class="skeleton" />
      <Skeleton width="60%" height="20px" class="skeleton" />
    </div>
  );
});

// Avatar skeleton
export const AvatarSkeleton = defineComponent(() => {
  return () => (
    <Skeleton width="40px" height="40px" radius="50%" class="skeleton" />
  );
});

// Card skeleton
export const CardSkeleton = defineComponent(() => {
  return () => (
    <div class="card-skeleton">
      <Skeleton width="100%" height="200px" radius="8px" class="skeleton" />
      <Skeleton width="100%" height="24px" class="skeleton" />
      <Skeleton width="100%" height="16px" class="skeleton" />
      <Skeleton width="70%" height="16px" class="skeleton" />
    </div>
  );
});

// Disable animation
export const StaticSkeleton = defineComponent(() => {
  return () => (
    <Skeleton width="100%" height="100px" animate={false} class="skeleton" />
  );
});
```

#### Styling Example

```css
.skeleton {
  background: linear-gradient(
    90deg,
    var(--color-background-secondary) 0%,
    var(--color-background-tertiary) 50%,
    var(--color-background-secondary) 100%
  );
  background-size: 200% 100%;
}

.skeleton[data-animate] {
  animation: skeleton-shimmer 1.5s ease-in-out infinite;
}

@keyframes skeleton-shimmer {
  0% {
    background-position: 200% 0;
  }
  100% {
    background-position: -200% 0;
  }
}

.text-skeleton-container {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.card-skeleton {
  display: flex;
  flex-direction: column;
  gap: 12px;
  padding: 16px;
  border: 1px solid var(--color-border);
  border-radius: 8px;
}
```

#### API Reference

**`<Skeleton>`** - Skeleton loader

Props:
- `width?: string | number` - Width (CSS value or number in px)
- `height?: string | number` - Height (CSS value or number in px)
- `radius?: string | number` - Border radius (CSS value or number in px, default: '4px')
- `animate?: boolean` - Enable shimmer animation (default: true)
- `...HTMLAttributes` - Standard div props

---

### Label

A semantic label component for associating text with form controls, providing proper accessibility and click-to-focus behavior.

#### Features

- Automatic click-to-focus for associated controls
- Proper ARIA associations via `for` attribute
- Works with all form control types (input, textarea, checkbox, radio, switch, etc.)
- Native HTML label behavior
- Full keyboard accessibility
- Seamless integration with Aether primitives
- Customizable via CSS

#### Basic Usage

```typescript
import { defineComponent, signal } from 'aether';
import { Label, Input } from 'aether/primitives';

// Basic label with input
export const BasicLabel = defineComponent(() => {
  const email = signal('');

  return () => (
    <div class="field">
      <Label for="email-input">Email Address</Label>
      <Input
        id="email-input"
        type="email"
        value={email()}
        onChange={email.set}
        placeholder="you@example.com"
      />
    </div>
  );
});

// Label with required indicator
export const RequiredLabel = defineComponent(() => {
  const username = signal('');

  return () => (
    <div class="field">
      <Label for="username" class="label-required">
        Username <span class="required-indicator" aria-label="required">*</span>
      </Label>
      <Input
        id="username"
        type="text"
        value={username()}
        onChange={username.set}
        required
      />
    </div>
  );
});

// Label with disabled state styling
export const DisabledLabel = defineComponent(() => {
  return () => (
    <div class="field">
      <Label for="disabled-input" class="label-disabled">
        Disabled Field
      </Label>
      <Input
        id="disabled-input"
        type="text"
        defaultValue="Cannot edit"
        disabled
      />
    </div>
  );
});
```

#### With Checkbox

```typescript
import { defineComponent, signal } from 'aether';
import { Label, Checkbox } from 'aether/primitives';

export const CheckboxWithLabel = defineComponent(() => {
  const agreed = signal(false);

  return () => (
    <div class="checkbox-field">
      <div class="checkbox-wrapper">
        <Checkbox
          id="terms"
          checked={agreed}
          onCheckedChange={agreed.set}
          class="checkbox"
        >
          <Checkbox.Indicator class="checkbox-indicator">
            <CheckIcon />
          </Checkbox.Indicator>
        </Checkbox>
        <Label for="terms" class="checkbox-label">
          I agree to the terms and conditions
        </Label>
      </div>
    </div>
  );
});

// Checkbox with required label
export const RequiredCheckbox = defineComponent(() => {
  const consent = signal(false);

  return () => (
    <div class="checkbox-field">
      <div class="checkbox-wrapper">
        <Checkbox
          id="consent"
          checked={consent}
          onCheckedChange={consent.set}
          required
          class="checkbox"
        >
          <Checkbox.Indicator class="checkbox-indicator">
            <CheckIcon />
          </Checkbox.Indicator>
        </Checkbox>
        <Label for="consent" class="checkbox-label">
          I consent to data processing
          <span class="required-indicator" aria-label="required">*</span>
        </Label>
      </div>
    </div>
  );
});
```

#### With Radio Group

```typescript
import { defineComponent, signal } from 'aether';
import { Label, RadioGroup } from 'aether/primitives';

export const RadioGroupWithLabel = defineComponent(() => {
  const selectedPlan = signal('basic');

  return () => (
    <div class="field">
      <Label for="plan-group" class="field-label">
        Choose Your Plan
      </Label>
      <RadioGroup
        id="plan-group"
        value={selectedPlan()}
        onValueChange={selectedPlan.set}
        class="radio-group"
      >
        <div class="radio-item">
          <RadioGroup.Item value="basic" id="plan-basic" class="radio">
            <RadioGroup.Indicator class="radio-indicator" />
          </RadioGroup.Item>
          <Label for="plan-basic" class="radio-label">
            Basic Plan - $9/month
          </Label>
        </div>

        <div class="radio-item">
          <RadioGroup.Item value="pro" id="plan-pro" class="radio">
            <RadioGroup.Indicator class="radio-indicator" />
          </RadioGroup.Item>
          <Label for="plan-pro" class="radio-label">
            Pro Plan - $29/month
          </Label>
        </div>

        <div class="radio-item">
          <RadioGroup.Item value="enterprise" id="plan-enterprise" class="radio">
            <RadioGroup.Indicator class="radio-indicator" />
          </RadioGroup.Item>
          <Label for="plan-enterprise" class="radio-label">
            Enterprise Plan - Custom pricing
          </Label>
        </div>
      </RadioGroup>
    </div>
  );
});
```

#### With Switch

```typescript
import { defineComponent, signal } from 'aether';
import { Label, Switch } from 'aether/primitives';

export const SwitchWithLabel = defineComponent(() => {
  const notifications = signal(true);
  const marketing = signal(false);

  return () => (
    <div class="settings">
      <div class="switch-field">
        <Label for="notifications" class="switch-label">
          Enable Notifications
        </Label>
        <Switch
          id="notifications"
          checked={notifications}
          onCheckedChange={notifications.set}
          class="switch"
        >
          <Switch.Thumb class="switch-thumb" />
        </Switch>
      </div>

      <div class="switch-field">
        <Label for="marketing" class="switch-label">
          Marketing Emails
        </Label>
        <Switch
          id="marketing"
          checked={marketing}
          onCheckedChange={marketing.set}
          class="switch"
        >
          <Switch.Thumb class="switch-thumb" />
        </Switch>
      </div>
    </div>
  );
});

// Inline switch layout
export const InlineSwitch = defineComponent(() => {
  const darkMode = signal(false);

  return () => (
    <div class="inline-switch-field">
      <Switch
        id="dark-mode"
        checked={darkMode}
        onCheckedChange={darkMode.set}
        class="switch"
      >
        <Switch.Thumb class="switch-thumb" />
      </Switch>
      <Label for="dark-mode" class="inline-switch-label">
        Dark Mode
      </Label>
    </div>
  );
});
```

#### With Textarea

```typescript
import { defineComponent, signal } from 'aether';
import { Label, Textarea } from 'aether/primitives';

export const TextareaWithLabel = defineComponent(() => {
  const comment = signal('');
  const maxLength = 500;

  return () => (
    <div class="field">
      <div class="label-row">
        <Label for="comment" class="field-label">
          Additional Comments
        </Label>
        <span class="char-count">
          {comment().length} / {maxLength}
        </span>
      </div>
      <Textarea
        id="comment"
        value={comment()}
        onChange={comment.set}
        placeholder="Enter your comments here..."
        maxLength={maxLength}
        rows={4}
        class="textarea"
      />
    </div>
  );
});

// Required textarea with help text
export const RequiredTextarea = defineComponent(() => {
  const description = signal('');

  return () => (
    <div class="field">
      <Label for="description" class="field-label">
        Description
        <span class="required-indicator" aria-label="required">*</span>
      </Label>
      <p id="description-help" class="help-text">
        Please provide a detailed description (minimum 50 characters)
      </p>
      <Textarea
        id="description"
        value={description()}
        onChange={description.set}
        required
        aria-describedby="description-help"
        class="textarea"
      />
    </div>
  );
});
```

#### With Select and Combobox

```typescript
import { defineComponent, signal } from 'aether';
import { Label, Select, Combobox } from 'aether/primitives';

export const SelectWithLabel = defineComponent(() => {
  const country = signal('');

  return () => (
    <div class="field">
      <Label for="country-select" class="field-label">
        Country
      </Label>
      <Select value={country()} onValueChange={country.set}>
        <Select.Trigger id="country-select" class="select-trigger">
          <Select.Value placeholder="Select a country" />
        </Select.Trigger>
        <Select.Content class="select-content">
          <Select.Item value="us">United States</Select.Item>
          <Select.Item value="uk">United Kingdom</Select.Item>
          <Select.Item value="ca">Canada</Select.Item>
          <Select.Item value="au">Australia</Select.Item>
        </Select.Content>
      </Select>
    </div>
  );
});

export const ComboboxWithLabel = defineComponent(() => {
  const city = signal('');
  const cities = ['New York', 'Los Angeles', 'Chicago', 'Houston', 'Phoenix'];

  return () => (
    <div class="field">
      <Label for="city-combobox" class="field-label">
        City
      </Label>
      <Combobox value={city()} onValueChange={city.set}>
        <Combobox.Trigger id="city-combobox" class="combobox-trigger">
          <Combobox.Input placeholder="Search cities..." class="combobox-input" />
        </Combobox.Trigger>
        <Combobox.Content class="combobox-content">
          {cities.map(c => (
            <Combobox.Item value={c} key={c}>
              {c}
            </Combobox.Item>
          ))}
        </Combobox.Content>
      </Combobox>
    </div>
  );
});
```

#### Integration with Form Primitives

```typescript
import { defineComponent, signal } from 'aether';
import { FormField, FormLabel, FormControl, FormDescription, FormMessage } from 'aether/primitives';
import { Label, Input } from 'aether/primitives';

export const FormIntegration = defineComponent(() => {
  const email = signal('');
  const error = signal<string | null>(null);

  const validateEmail = (value: string) => {
    if (!value) {
      error.set('Email is required');
    } else if (!value.includes('@')) {
      error.set('Please enter a valid email address');
    } else {
      error.set(null);
    }
  };

  const handleBlur = () => {
    validateEmail(email());
  };

  return () => (
    <FormField name="email">
      <FormLabel>Email Address</FormLabel>
      <FormDescription>
        We'll never share your email with anyone else.
      </FormDescription>
      <FormControl>
        <Input
          type="email"
          value={email()}
          onChange={email.set}
          onBlur={handleBlur}
          invalid={!!error()}
          placeholder="you@example.com"
          class="input"
        />
      </FormControl>
      {error() && <FormMessage>{error()}</FormMessage>}
    </FormField>
  );
});

// Custom label with FormField
export const CustomFormLabel = defineComponent(() => {
  const username = signal('');

  return () => (
    <FormField name="username">
      <Label for="username-input" class="custom-label">
        Username
        <span class="badge">Premium</span>
      </Label>
      <FormControl>
        <Input
          id="username-input"
          type="text"
          value={username()}
          onChange={username.set}
          class="input"
        />
      </FormControl>
    </FormField>
  );
});
```

#### Custom Styling Examples

```css
/* Basic label styling */
[data-label] {
  display: inline-block;
  font-size: var(--font-size-sm);
  font-weight: var(--font-weight-medium);
  color: var(--color-text-primary);
  margin-bottom: var(--spacing-1);
  cursor: pointer;
  user-select: none;
}

/* Field label (block-level) */
.field-label {
  display: block;
  font-size: var(--font-size-sm);
  font-weight: var(--font-weight-semibold);
  color: var(--color-text-primary);
  margin-bottom: var(--spacing-2);
  line-height: 1.5;
}

/* Required indicator */
.label-required .required-indicator,
.required-indicator {
  color: var(--color-error);
  margin-left: var(--spacing-1);
  font-weight: var(--font-weight-semibold);
}

/* Disabled label styling */
.label-disabled {
  opacity: 0.5;
  cursor: not-allowed;
  color: var(--color-text-tertiary);
}

/* Checkbox/Radio label */
.checkbox-label,
.radio-label {
  display: inline-block;
  font-size: var(--font-size-sm);
  color: var(--color-text-primary);
  cursor: pointer;
  user-select: none;
  line-height: 1.5;
}

.checkbox-label:hover,
.radio-label:hover {
  color: var(--color-text-secondary);
}

/* Switch label */
.switch-label {
  flex: 1;
  font-size: var(--font-size-sm);
  font-weight: var(--font-weight-medium);
  color: var(--color-text-primary);
  cursor: pointer;
}

.inline-switch-label {
  margin-left: var(--spacing-2);
  font-size: var(--font-size-sm);
  color: var(--color-text-primary);
  cursor: pointer;
}

/* Label with character count */
.label-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: var(--spacing-2);
}

.char-count {
  font-size: var(--font-size-xs);
  color: var(--color-text-tertiary);
  font-variant-numeric: tabular-nums;
}

/* Label with badge */
.custom-label {
  display: flex;
  align-items: center;
  gap: var(--spacing-2);
}

.custom-label .badge {
  padding: var(--spacing-0-5) var(--spacing-2);
  font-size: var(--font-size-xs);
  font-weight: var(--font-weight-semibold);
  color: var(--color-primary-foreground);
  background: var(--color-primary-500);
  border-radius: var(--radius-full);
}

/* Help text below label */
.help-text {
  margin-top: var(--spacing-1);
  margin-bottom: var(--spacing-2);
  font-size: var(--font-size-xs);
  color: var(--color-text-tertiary);
  line-height: 1.4;
}

/* Focus-within state for field containers */
.field:focus-within .field-label {
  color: var(--color-primary-500);
}

/* Checkbox/Switch field layouts */
.checkbox-field,
.switch-field {
  display: flex;
  align-items: center;
  gap: var(--spacing-2);
  padding: var(--spacing-2) 0;
}

.checkbox-wrapper {
  display: flex;
  align-items: center;
  gap: var(--spacing-2);
}

.inline-switch-field {
  display: inline-flex;
  align-items: center;
  gap: var(--spacing-2);
}

/* Radio item layout */
.radio-item {
  display: flex;
  align-items: center;
  gap: var(--spacing-2);
  padding: var(--spacing-2);
  border-radius: var(--radius-md);
  cursor: pointer;
  transition: background-color var(--transition-fast);
}

.radio-item:hover {
  background: var(--color-background-secondary);
}

/* Responsive label sizing */
@media (max-width: 640px) {
  .field-label,
  [data-label] {
    font-size: var(--font-size-xs);
  }

  .checkbox-label,
  .radio-label,
  .switch-label {
    font-size: var(--font-size-xs);
  }
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  [data-label],
  .field-label {
    font-weight: var(--font-weight-bold);
  }

  .required-indicator {
    font-weight: var(--font-weight-bold);
    text-decoration: underline;
  }
}

/* Dark mode adjustments */
@media (prefers-color-scheme: dark) {
  .help-text {
    color: var(--color-text-secondary);
  }

  .radio-item:hover {
    background: var(--color-background-tertiary);
  }
}
```

#### API Reference

**`<Label>`** - Label component

Props:
- `for?: string` - The ID of the form control this label is associated with (maps to `htmlFor` attribute)
- `children?: any` - Label text or content
- `...HTMLLabelAttributes` - All standard HTML label attributes supported

Data attributes:
- `data-label` - Always present, used for styling

Events:
- Native label events (onClick, onMouseEnter, etc.)

#### Accessibility Notes

##### 1. Use of htmlFor

The `for` prop creates a programmatic association between the label and its control:

```typescript
// ✅ Correct - Label explicitly associated
<Label for="email">Email</Label>
<Input id="email" type="email" />

// ❌ Incorrect - No association
<span>Email</span>
<Input type="email" />
```

**Benefits:**
- Screen readers announce the label when the control receives focus
- Clicking the label focuses/activates the associated control
- Better form navigation with assistive technologies

##### 2. Required vs aria-required

When marking fields as required, use both visual indicators and ARIA attributes:

```typescript
// ✅ Best practice - Visual + ARIA
<Label for="name">
  Name
  <span class="required-indicator" aria-label="required">*</span>
</Label>
<Input id="name" required aria-required="true" />

// ⚠️ Visual only - Not accessible
<Label for="name">Name *</Label>
<Input id="name" />

// ⚠️ ARIA only - Not visible to sighted users
<Label for="name">Name</Label>
<Input id="name" aria-required="true" />
```

**Guidelines:**
- Always provide visual indication (asterisk, "required" text, styling)
- Ensure the input has `required` or `aria-required="true"`
- Use `aria-label` on the indicator for screen reader clarity
- Consider using `aria-describedby` to point to requirement instructions

##### 3. Click Behavior

Labels provide automatic click-to-focus/activate behavior:

**Text inputs:** Clicking label focuses the input
```typescript
<Label for="search">Search</Label>
<Input id="search" type="text" /> {/* Clicking label focuses this */}
```

**Checkboxes/Radio:** Clicking label toggles the control
```typescript
<Checkbox id="terms" />
<Label for="terms">I agree</Label> {/* Clicking toggles checkbox */}
```

**Switch:** Clicking label toggles the switch
```typescript
<Switch id="notifications" />
<Label for="notifications">Enable notifications</Label> {/* Clicking toggles */}
```

**Important:** Ensure the `for` prop matches the control's `id` exactly.

##### 4. Screen Reader Announcements

Proper label usage ensures correct announcements:

```typescript
// ✅ Good - Clear announcement
<Label for="email">Email Address</Label>
<Input id="email" type="email" />
// Announces: "Email Address, edit text"

// ✅ Good - With required indicator
<Label for="name">
  Name
  <span class="required-indicator" aria-label="required">*</span>
</Label>
<Input id="name" required />
// Announces: "Name, required, edit text"

// ✅ Good - With help text
<Label for="password">Password</Label>
<p id="password-help">Must be at least 8 characters</p>
<Input
  id="password"
  type="password"
  aria-describedby="password-help"
/>
// Announces: "Password, edit text, Must be at least 8 characters"

// ❌ Bad - No label
<Input placeholder="Email" />
// Announces: Only placeholder (insufficient)
```

##### 5. Label Nesting vs Explicit Association

Both patterns are valid, but explicit association is recommended:

```typescript
// ✅ Recommended - Explicit association (more flexible)
<Label for="username">Username</Label>
<Input id="username" type="text" />

// ✅ Also valid - Implicit association via nesting
<Label>
  Username
  <Input type="text" />
</Label>
```

**Why explicit is better:**
- More flexible layouts (label and control can be separated)
- Clearer component structure
- Easier to style independently
- Works better with complex form layouts

##### 6. Multiple Controls

Don't associate one label with multiple controls:

```typescript
// ❌ Wrong - One label, multiple controls
<Label for="dates">Start and End Date</Label>
<Input id="dates" type="date" />
<Input type="date" />

// ✅ Correct - Each control has its own label
<Label for="start-date">Start Date</Label>
<Input id="start-date" type="date" />

<Label for="end-date">End Date</Label>
<Input id="end-date" type="date" />
```

#### Integration Patterns

##### 1. With Basic Inputs

```typescript
// Standard text input
<Label for="first-name">First Name</Label>
<Input id="first-name" type="text" />

// Email with validation
<Label for="email">Email</Label>
<Input
  id="email"
  type="email"
  aria-invalid={hasError()}
  aria-describedby={hasError() ? 'email-error' : undefined}
/>
{hasError() && (
  <span id="email-error" role="alert">Invalid email</span>
)}
```

##### 2. With Checkboxes and Radio Groups

```typescript
// Individual checkbox
<div class="checkbox-wrapper">
  <Checkbox id="agree" />
  <Label for="agree">I agree to terms</Label>
</div>

// Radio group
<Label id="color-group-label">Choose Color</Label>
<RadioGroup aria-labelledby="color-group-label">
  <div>
    <RadioGroup.Item value="red" id="color-red" />
    <Label for="color-red">Red</Label>
  </div>
  <div>
    <RadioGroup.Item value="blue" id="color-blue" />
    <Label for="color-blue">Blue</Label>
  </div>
</RadioGroup>
```

##### 3. With Switch Controls

```typescript
// Standard switch with label
<div class="switch-field">
  <Label for="dark-mode">Dark Mode</Label>
  <Switch id="dark-mode" />
</div>

// Inline layout
<div class="inline-switch">
  <Switch id="marketing" />
  <Label for="marketing">Marketing emails</Label>
</div>
```

##### 4. With Select and Combobox

```typescript
// Select dropdown
<Label for="country">Country</Label>
<Select>
  <Select.Trigger id="country">
    <Select.Value />
  </Select.Trigger>
  <Select.Content>
    {/* options */}
  </Select.Content>
</Select>

// Searchable combobox
<Label for="city">City</Label>
<Combobox>
  <Combobox.Trigger id="city">
    <Combobox.Input />
  </Combobox.Trigger>
  <Combobox.Content>
    {/* options */}
  </Combobox.Content>
</Combobox>
```

##### 5. With Form Validation

```typescript
const Example = defineComponent(() => {
  const value = signal('');
  const error = signal<string | null>(null);

  return () => (
    <div class="field">
      <Label for="input" class={error() ? 'label-error' : ''}>
        Username
        <span class="required-indicator" aria-label="required">*</span>
      </Label>
      <Input
        id="input"
        value={value()}
        onChange={value.set}
        invalid={!!error()}
        aria-invalid={!!error()}
        aria-describedby={error() ? 'input-error' : undefined}
      />
      {error() && (
        <span id="input-error" class="error-message" role="alert">
          {error()}
        </span>
      )}
    </div>
  );
});
```

#### Best Practices

1. **Always Provide Labels**
   - Every form control must have an associated label
   - Use `Label` with `for` attribute or `aria-label` on the control
   - Never rely solely on placeholders as labels

2. **Use Semantic HTML**
   - Use `<Label>` for actual form labels
   - Use `aria-label` or `aria-labelledby` only when visual labels aren't suitable
   - Maintain the semantic relationship between labels and controls

3. **Required Field Indicators**
   - Show visual indicator (asterisk, badge, text)
   - Add `aria-label="required"` to the indicator
   - Set `required` or `aria-required="true"` on the control
   - Consider indicating optional fields instead if most are required

4. **Disabled State Handling**
   - Apply disabled styling to both label and control
   - Ensure the visual relationship is clear
   - Consider using opacity or color changes
   - Maintain sufficient contrast even when disabled

5. **Click Target Size**
   - Ensure labels have adequate click area
   - Minimum 44×44px touch target for mobile
   - Add padding to increase clickable area if needed
   - Consider the entire field row as interactive

6. **Help Text and Descriptions**
   - Place help text near the label or below the input
   - Use `aria-describedby` to associate help text with the control
   - Keep help text concise and actionable
   - Show help text before the user makes an error

7. **Error Messages**
   - Associate errors using `aria-describedby`
   - Use `role="alert"` for dynamic error messages
   - Place errors near the field they describe
   - Ensure errors are visible and meet contrast requirements

8. **Label Positioning**
   - Top-aligned labels are generally most accessible
   - Left-aligned labels work for short forms with predictable input
   - Inline labels (for checkboxes/switches) should be properly associated
   - Maintain consistent alignment throughout the form

9. **Multi-Language Support**
   - Design for text expansion (labels can grow 30-50% when translated)
   - Avoid fixed widths on labels
   - Test with longer text strings
   - Ensure required indicators work in RTL languages

10. **Group Labels**
    - Use fieldset/legend for related controls
    - Provide both group label and individual labels
    - Use `aria-labelledby` to reference group labels when needed
    - Ensure screen readers announce both group and individual context

---

### Table

A data table with sorting, filtering, pagination, and selection.

#### Features

- Column sorting
- Row selection (single/multi)
- Pagination
- Filtering
- Virtual scrolling (large datasets)
- Expandable rows
- Column resizing
- Column visibility toggle
- Sticky headers
- Responsive

#### Basic Usage

```typescript
import { defineComponent, signal } from 'aether';
import { Table } from 'aether/primitives';

const Example793 = defineComponent(() => {
  interface User {
    id: string;
    name: string;
    email: string;
    role: string;
    status: 'active' | 'inactive';
  }
  const users: User[] = [
    { id: '1', name: 'Alice', email: 'alice@example.com', role: 'Admin', status: 'active' },
    { id: '2', name: 'Bob', email: 'bob@example.com', role: 'User', status: 'active' },
    { id: '3', name: 'Charlie', email: 'charlie@example.com', role: 'User', status: 'inactive' }
  ];
  const columns = [
    { key: 'name', header: 'Name', sortable: true },
    { key: 'email', header: 'Email', sortable: true },
    { key: 'role', header: 'Role', sortable: true },
    { key: 'status', header: 'Status', sortable: true }
  ];
  const selectedRows = signal<string[]>([]);

  return () => (
    <Table data={users} columns={columns} rowKey="id">
      {#let table}
        <div class="table-container">
          <table class="table">
            <Table.Header class="table-header">
              <Table.Row class="table-row">
                <Table.Head class="table-head-checkbox">
                  <Checkbox
                    checked={table.isAllSelected()}
                    indeterminate={table.isSomeSelected()}
                    onCheckedChange={table.toggleAllRows}
                  />
                </Table.Head>
                {#each columns as column}
                  <Table.Head
                    key={column.key}
                    sortable={column.sortable}
                    class="table-head"
                  >
                    {column.header}
                    {#if column.sortable}
                      <Table.SortIndicator column={column.key} />
                    {/if}
                  </Table.Head>
                {/each}
                <Table.Head class="table-head-actions">
                  Actions
                </Table.Head>
              </Table.Row>
            </Table.Header>
            <Table.Body class="table-body">
              {#each table.rows() as row}
                <Table.Row
                  key={row.id}
                  selected={table.isRowSelected(row.id)}
                  class="table-row"
                >
                  <Table.Cell class="table-cell-checkbox">
                    <Checkbox
                      checked={table.isRowSelected(row.id)}
                      onCheckedChange={() => table.toggleRow(row.id)}
                    />
                  </Table.Cell>
                  <Table.Cell class="table-cell">
                    {row.name}
                  </Table.Cell>
                  <Table.Cell class="table-cell">
                    {row.email}
                  </Table.Cell>
                  <Table.Cell class="table-cell">
                    <span class="badge badge-{row.role.toLowerCase()}">
                      {row.role}
                    </span>
                  </Table.Cell>
                  <Table.Cell class="table-cell">
                    <span class="status status-{row.status}">
                      {row.status}
                    </span>
                  </Table.Cell>
                  <Table.Cell class="table-cell-actions">
                    <DropdownMenu>
                      <DropdownMenu.Trigger class="btn-icon">
                        <MoreVerticalIcon />
                      </DropdownMenu.Trigger>
                      <DropdownMenu.Content>
                        <DropdownMenu.Item>Edit</DropdownMenu.Item>
                        <DropdownMenu.Item>Delete</DropdownMenu.Item>
                      </DropdownMenu.Content>
                    </DropdownMenu>
                  </Table.Cell>
                </Table.Row>
              {/each}
            </Table.Body>
          </table>
          <!-- Pagination -->
          <Table.Pagination class="table-pagination">
            <Table.PageInfo>
              Showing {table.pageStart()} to {table.pageEnd()} of {table.totalRows()}
            </Table.PageInfo>
            <div class="pagination-controls">
              <button
                on:click={table.previousPage}
                disabled={!table.canPreviousPage()}
                class="btn-icon"
              >
                <ChevronLeftIcon />
              </button>
              <span>
                Page {table.currentPage()} of {table.totalPages()}
              </span>
              <button
                on:click={table.nextPage}
                disabled={!table.canNextPage()}
                class="btn-icon"
              >
                <ChevronRightIcon />
              </button>
            </div>
          </Table.Pagination>
        </div>
      {/let}
    </Table>
  );
});
```

#### With Filtering

```typescript
import { defineComponent, signal, computed } from 'aether';
const Example573 = defineComponent(() => {
  const searchQuery = signal('');
  const statusFilter = signal<'all' | 'active' | 'inactive'>('all');
  const filteredUsers = computed(() => {
    return users.filter(user => {
      const matchesSearch =
        user.name.toLowerCase().includes(searchQuery().toLowerCase()) ||
        user.email.toLowerCase().includes(searchQuery().toLowerCase());
      const matchesStatus =
        statusFilter() === 'all' || user.status === statusFilter();
      return matchesSearch && matchesStatus;
    });
  });

  return () => (
    <div class="table-filters">
      <input
        type="search"
        placeholder="Search users..."
        bind:value={searchQuery}
        class="search-input"
      />
      <Select bind:value={statusFilter}>
        <Select.Trigger>
          <Select.Value />
        </Select.Trigger>
        <Select.Content>
          <Select.Item value="all">All Status</Select.Item>
          <Select.Item value="active">Active</Select.Item>
          <Select.Item value="inactive">Inactive</Select.Item>
        </Select.Content>
      </Select>
    </div>
    <Table data={filteredUsers()} columns={columns} rowKey="id">
      <!-- ... -->
    </Table>
  );
});
```

#### Styling Example

```css
.table-container {
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  overflow: hidden;
}

.table {
  width: 100%;
  border-collapse: collapse;
}

.table-header {
  background: var(--color-background-secondary);
}

.table-row {
  border-bottom: 1px solid var(--color-border);
  transition: background-color var(--transition-fast);
}

.table-row:hover {
  background: var(--color-background-secondary);
}

.table-row[data-selected="true"] {
  background: var(--color-primary-50);
}

.table-head {
  padding: var(--spacing-3) var(--spacing-4);

  text-align: left;
  font-size: var(--font-size-xs);
  font-weight: var(--font-weight-semibold);
  color: var(--color-text-secondary);
  text-transform: uppercase;
  letter-spacing: 0.05em;

  white-space: nowrap;
}

.table-head[data-sortable="true"] {
  cursor: pointer;
  user-select: none;
}

.table-head[data-sortable="true"]:hover {
  color: var(--color-text-primary);
}

.table-cell {
  padding: var(--spacing-3) var(--spacing-4);

  font-size: var(--font-size-sm);
  color: var(--color-text-primary);
}

.table-head-checkbox,
.table-cell-checkbox {
  width: 40px;
  padding-right: 0;
}

.table-head-actions,
.table-cell-actions {
  width: 60px;
  text-align: right;
}

.table-pagination {
  display: flex;
  align-items: center;
  justify-content: space-between;

  padding: var(--spacing-3) var(--spacing-4);
  background: var(--color-background-secondary);
  border-top: 1px solid var(--color-border);
}

.pagination-controls {
  display: flex;
  align-items: center;
  gap: var(--spacing-2);

  font-size: var(--font-size-sm);
}

.badge {
  display: inline-block;
  padding: var(--spacing-1) var(--spacing-2);

  background: var(--color-background-tertiary);
  border-radius: var(--radius-full);

  font-size: var(--font-size-xs);
  font-weight: var(--font-weight-medium);
}

.status {
  display: inline-flex;
  align-items: center;
  gap: var(--spacing-1);

  font-size: var(--font-size-sm);
}

.status::before {
  content: '';
  width: 6px;
  height: 6px;
  border-radius: 50%;
}

.status-active::before {
  background: var(--color-success);
}

.status-inactive::before {
  background: var(--color-error);
}
```

#### API Reference

**`<Table>`** - Table component

Props:
- `data: T[]` - Table data
- `columns: Column[]` - Column definitions
- `rowKey: keyof T` - Unique row identifier
- `pageSize?: number` - Rows per page (default: 10)
- `sortable?: boolean` - Enable sorting (default: false)
- `selectable?: boolean` - Enable row selection (default: false)
- `onRowClick?: (row: T) => void` - Row click handler

Exposes:
- `table.rows: Signal<T[]>` - Current page rows
- `table.selectedRows: Signal<string[]>` - Selected row IDs
- `table.isAllSelected: () => boolean` - All rows selected
- `table.isSomeSelected: () => boolean` - Some rows selected
- `table.toggleAllRows: () => void` - Toggle all selection
- `table.toggleRow: (id) => void` - Toggle row selection
- `table.isRowSelected: (id) => boolean` - Check if row selected
- `table.currentPage: Signal<number>` - Current page number
- `table.totalPages: () => number` - Total page count
- `table.pageStart: () => number` - First row index
- `table.pageEnd: () => number` - Last row index
- `table.totalRows: () => number` - Total row count
- `table.nextPage: () => void` - Next page
- `table.previousPage: () => void` - Previous page
- `table.canNextPage: () => boolean` - Has next page
- `table.canPreviousPage: () => boolean` - Has previous page
- `table.sortBy: (column, direction) => void` - Sort table

**`<Table.Header>`** - Table header

**`<Table.Body>`** - Table body

**`<Table.Row>`** - Table row

Props:
- `key: string` - Row identifier
- `selected?: boolean` - Selected state

**`<Table.Head>`** - Header cell

Props:
- `key?: string` - Column identifier
- `sortable?: boolean` - Enable sorting

**`<Table.Cell>`** - Data cell

**`<Table.SortIndicator>`** - Sort direction indicator

Props:
- `column: string` - Column to indicate

**`<Table.Pagination>`** - Pagination controls

**`<Table.PageInfo>`** - Page info display

---

### NavigationMenu

A complex navigation menu component with support for nested sub-menus, keyboard navigation, and flexible positioning.

#### Features

- Horizontal and vertical orientation
- Nested sub-menu support
- Keyboard navigation (arrows, Enter, Escape)
- Controlled and uncontrolled modes
- Active item tracking
- ARIA navigation pattern
- Collision detection for positioning
- Viewport-aware rendering

#### Basic Usage

```typescript
import { defineComponent, signal } from 'aether';
import { NavigationMenu } from 'aether/primitives';

const Example = defineComponent(() => {
  const activeItem = signal('home');

  return () => (
    <NavigationMenu value={activeItem()} onValueChange={activeItem}>
      <NavigationMenu.List class="nav-list">
        <NavigationMenu.Item value="home">
          <NavigationMenu.Link href="/" class="nav-link">
            Home
          </NavigationMenu.Link>
        </NavigationMenu.Item>

        <NavigationMenu.Item value="products">
          <NavigationMenu.Trigger class="nav-trigger">
            Products
          </NavigationMenu.Trigger>
          <NavigationMenu.Content class="nav-content">
            <NavigationMenu.Link href="/products/software" class="nav-link">
              Software
            </NavigationMenu.Link>
            <NavigationMenu.Link href="/products/hardware" class="nav-link">
              Hardware
            </NavigationMenu.Link>
          </NavigationMenu.Content>
        </NavigationMenu.Item>

        <NavigationMenu.Item value="about">
          <NavigationMenu.Link href="/about" class="nav-link">
            About
          </NavigationMenu.Link>
        </NavigationMenu.Item>
      </NavigationMenu.List>

      <NavigationMenu.Viewport class="nav-viewport" />
      <NavigationMenu.Indicator class="nav-indicator" />
    </NavigationMenu>
  );
});
```

#### With Nested Menus

```typescript
const Example = defineComponent(() => {
  return () => (
    <NavigationMenu orientation="vertical">
      <NavigationMenu.List>
        <NavigationMenu.Item value="dashboard">
          <NavigationMenu.Trigger>Dashboard</NavigationMenu.Trigger>
          <NavigationMenu.Content>
            <NavigationMenu.Link href="/dashboard/analytics">
              Analytics
            </NavigationMenu.Link>
            <NavigationMenu.Link href="/dashboard/reports">
              Reports
            </NavigationMenu.Link>
          </NavigationMenu.Content>
        </NavigationMenu.Item>

        <NavigationMenu.Item value="settings">
          <NavigationMenu.Trigger>Settings</NavigationMenu.Trigger>
          <NavigationMenu.Content>
            <NavigationMenu.Link href="/settings/profile">
              Profile
            </NavigationMenu.Link>
            <NavigationMenu.Link href="/settings/security">
              Security
            </NavigationMenu.Link>
          </NavigationMenu.Content>
        </NavigationMenu.Item>
      </NavigationMenu.List>
    </NavigationMenu>
  );
});
```

#### API

**`<NavigationMenu>`** - Root component
- `value?: string` - Controlled active value
- `onValueChange?: (value: string) => void` - Value change callback
- `defaultValue?: string` - Default active value (uncontrolled)
- `orientation?: 'horizontal' | 'vertical'` - Orientation (default: 'horizontal')

**`<NavigationMenu.List>`** - List container for navigation items

**`<NavigationMenu.Item>`** - Individual navigation item
- `value: string` - Unique identifier for the item

**`<NavigationMenu.Trigger>`** - Trigger button for sub-menu content

**`<NavigationMenu.Content>`** - Content panel for sub-menu items

**`<NavigationMenu.Link>`** - Navigation link
- `href?: string` - Link destination
- `active?: boolean` - Active state

**`<NavigationMenu.Indicator>`** - Active item indicator (animated)

**`<NavigationMenu.Viewport>`** - Viewport for rendering sub-menu content

---

### Breadcrumb

A navigation breadcrumb component that shows the user's current location within the site hierarchy. Breadcrumbs provide a trail of links back to the root page, helping users understand where they are and navigate back through parent pages.

#### Features

- Semantic navigation structure
- ARIA breadcrumb pattern
- Current page indication
- Customizable separators
- Collapsible/truncated breadcrumbs
- Link and text items
- Disabled state support
- Accessible navigation landmark

#### Basic Usage

```typescript
import { defineComponent } from 'aether';
import { Breadcrumb } from 'aether/primitives';

const Example = defineComponent(() => {
  return () => (
    <Breadcrumb>
      <Breadcrumb.List>
        <Breadcrumb.Item>
          <Breadcrumb.Link href="/">Home</Breadcrumb.Link>
        </Breadcrumb.Item>
        <Breadcrumb.Separator />
        <Breadcrumb.Item>
          <Breadcrumb.Link href="/products">Products</Breadcrumb.Link>
        </Breadcrumb.Item>
        <Breadcrumb.Separator />
        <Breadcrumb.Item currentPage>
          <Breadcrumb.Page>Laptop</Breadcrumb.Page>
        </Breadcrumb.Item>
      </Breadcrumb.List>
    </Breadcrumb>
  );
});
```

#### With Custom Separator

```typescript
const Example = defineComponent(() => {
  return () => (
    <Breadcrumb>
      <Breadcrumb.List>
        <Breadcrumb.Item>
          <Breadcrumb.Link href="/">Home</Breadcrumb.Link>
        </Breadcrumb.Item>
        <Breadcrumb.Separator>→</Breadcrumb.Separator>
        <Breadcrumb.Item>
          <Breadcrumb.Link href="/blog">Blog</Breadcrumb.Link>
        </Breadcrumb.Item>
        <Breadcrumb.Separator>→</Breadcrumb.Separator>
        <Breadcrumb.Item currentPage>
          <Breadcrumb.Page>Article Title</Breadcrumb.Page>
        </Breadcrumb.Item>
      </Breadcrumb.List>
    </Breadcrumb>
  );
});
```

#### With Icons

```typescript
const Example = defineComponent(() => {
  return () => (
    <Breadcrumb>
      <Breadcrumb.List>
        <Breadcrumb.Item>
          <Breadcrumb.Link href="/">
            <HomeIcon />
            Home
          </Breadcrumb.Link>
        </Breadcrumb.Item>
        <Breadcrumb.Separator />
        <Breadcrumb.Item>
          <Breadcrumb.Link href="/docs">
            <BookIcon />
            Documentation
          </Breadcrumb.Link>
        </Breadcrumb.Item>
        <Breadcrumb.Separator />
        <Breadcrumb.Item currentPage>
          <Breadcrumb.Page>
            <FileIcon />
            Getting Started
          </Breadcrumb.Page>
        </Breadcrumb.Item>
      </Breadcrumb.List>
    </Breadcrumb>
  );
});
```

#### Collapsed Breadcrumbs

```typescript
import { defineComponent, signal, For } from 'aether';

const Example = defineComponent(() => {
  const showAll = signal(false);

  const allItems = [
    { href: '/', label: 'Home' },
    { href: '/docs', label: 'Docs' },
    { href: '/docs/guides', label: 'Guides' },
    { href: '/docs/guides/components', label: 'Components' },
    { label: 'Breadcrumb', current: true },
  ];

  return () => {
    const items = showAll() ? allItems : [
      allItems[0],
      { label: '...', collapsed: true },
      allItems[allItems.length - 1],
    ];

    return (
      <Breadcrumb>
        <Breadcrumb.List>
          <For each={items}>
            {(item, index) => (
              <>
                {item.collapsed ? (
                  <Breadcrumb.Item>
                    <button onClick={() => showAll.set(true)}>...</button>
                  </Breadcrumb.Item>
                ) : item.current ? (
                  <Breadcrumb.Item currentPage>
                    <Breadcrumb.Page>{item.label}</Breadcrumb.Page>
                  </Breadcrumb.Item>
                ) : (
                  <Breadcrumb.Item>
                    <Breadcrumb.Link href={item.href}>
                      {item.label}
                    </Breadcrumb.Link>
                  </Breadcrumb.Item>
                )}
                {index() < items.length - 1 && <Breadcrumb.Separator />}
              </>
            )}
          </For>
        </Breadcrumb.List>
      </Breadcrumb>
    );
  };
});
```

#### Responsive Breadcrumbs

```typescript
const Example = defineComponent(() => {
  const isMobile = signal(window.innerWidth < 768);

  // Listen for resize
  window.addEventListener('resize', () => {
    isMobile.set(window.innerWidth < 768);
  });

  const breadcrumbs = [
    { href: '/', label: 'Home' },
    { href: '/category', label: 'Category' },
    { href: '/subcategory', label: 'Subcategory' },
    { label: 'Current Page', current: true },
  ];

  return () => (
    <Breadcrumb>
      <Breadcrumb.List>
        {isMobile() ? (
          // Mobile: Show only back button
          <>
            <Breadcrumb.Item>
              <Breadcrumb.Link href={breadcrumbs[breadcrumbs.length - 2].href}>
                ← Back
              </Breadcrumb.Link>
            </Breadcrumb.Item>
          </>
        ) : (
          // Desktop: Show full breadcrumb trail
          <For each={breadcrumbs}>
            {(item, index) => (
              <>
                {item.current ? (
                  <Breadcrumb.Item currentPage>
                    <Breadcrumb.Page>{item.label}</Breadcrumb.Page>
                  </Breadcrumb.Item>
                ) : (
                  <Breadcrumb.Item>
                    <Breadcrumb.Link href={item.href}>
                      {item.label}
                    </Breadcrumb.Link>
                  </Breadcrumb.Item>
                )}
                {index() < breadcrumbs.length - 1 && <Breadcrumb.Separator />}
              </>
            )}
          </For>
        )}
      </Breadcrumb.List>
    </Breadcrumb>
  );
});
```

#### Styling Example

```css
/* Breadcrumb container */
[data-breadcrumb] {
  padding: var(--spacing-4);
}

/* Breadcrumb list */
[data-breadcrumb-list] {
  display: flex;
  align-items: center;
  gap: var(--spacing-2);
  list-style: none;
  margin: 0;
  padding: 0;
}

/* Breadcrumb item */
[data-breadcrumb-item] {
  display: inline-flex;
  align-items: center;
}

/* Current page item */
[data-breadcrumb-item][data-current] {
  font-weight: 600;
}

/* Breadcrumb link */
[data-breadcrumb-link] {
  color: var(--color-text-secondary);
  text-decoration: none;
  transition: color 0.2s;
}

[data-breadcrumb-link]:hover {
  color: var(--color-primary);
  text-decoration: underline;
}

[data-breadcrumb-link][data-disabled] {
  color: var(--color-text-disabled);
  cursor: not-allowed;
  pointer-events: none;
}

/* Current page text */
[data-breadcrumb-page] {
  color: var(--color-text-primary);
  font-weight: 500;
}

/* Separator */
[data-breadcrumb-separator] {
  color: var(--color-text-tertiary);
  user-select: none;
}
```

#### API Reference

**`<Breadcrumb>`** - Root navigation container

Props:
- `aria-label?: string` - ARIA label for navigation (default: 'Breadcrumb')
- Standard HTML attributes

**`<Breadcrumb.List>`** - Ordered list container for breadcrumb items

Props:
- Standard HTML `<ol>` attributes

**`<Breadcrumb.Item>`** - Individual breadcrumb item

Props:
- `currentPage?: boolean` - Indicates if this is the current page
- Standard HTML `<li>` attributes

Accessibility:
- Sets `aria-current="page"` when `currentPage` is true
- Adds `data-current` attribute for styling

**`<Breadcrumb.Link>`** - Link within a breadcrumb item

Props:
- `href?: string` - Link destination
- `disabled?: boolean` - Disables the link
- `onClick?: (e: Event) => void` - Click handler
- Standard HTML `<a>` attributes

Accessibility:
- Sets `aria-disabled="true"` when disabled
- Prevents navigation when disabled

**`<Breadcrumb.Page>`** - Current page text (not a link)

Props:
- Standard HTML `<span>` attributes

Accessibility:
- Always has `aria-current="page"`

**`<Breadcrumb.Separator>`** - Visual separator between items

Props:
- `children?: any` - Separator content (default: '/')
- Standard HTML `<li>` attributes

Accessibility:
- Has `role="presentation"` and `aria-hidden="true"`
- Not exposed to screen readers

#### Accessibility

The Breadcrumb component follows the ARIA breadcrumb pattern:

- Uses `<nav>` with `aria-label="Breadcrumb"` for the container
- Uses `<ol>` for semantic ordered list
- Current page has `aria-current="page"`
- Separators are hidden from screen readers
- Keyboard navigation works with standard link behavior

#### Best Practices

1. **Always indicate current page**: Use `currentPage` prop and `Breadcrumb.Page` for the last item
2. **Keep breadcrumbs short**: Show only necessary levels, consider collapsing on long paths
3. **Use consistent separators**: Stick to one separator style throughout your application
4. **Make links meaningful**: Link text should clearly indicate the destination
5. **Consider mobile**: On small screens, consider showing only a back button
6. **Don't duplicate**: Don't include breadcrumbs if you have other persistent navigation showing the same path
7. **Start with home**: First breadcrumb should typically link to the root/home page
8. **Order matters**: Breadcrumbs should reflect the actual site hierarchy

---

### Pagination

A pagination component for navigating through pages of content. Provides controls for moving between pages with support for boundaries, sibling pages, and ellipsis for large page counts.

#### Features

- Configurable page display logic
- Boundary pages (first/last)
- Sibling page controls
- Ellipsis for large page ranges
- Previous/Next navigation
- Custom render functions
- Keyboard accessible
- ARIA pagination pattern
- Controlled component
- Flexible item rendering

#### Basic Usage

```typescript
import { defineComponent, signal } from 'aether';
import { Pagination } from 'aether/primitives';

const Example = defineComponent(() => {
  const currentPage = signal(1);
  const totalPages = 10;

  return () => (
    <Pagination
      currentPage={currentPage()}
      totalPages={totalPages}
      onPageChange={(page) => currentPage.set(page)}
    >
      <Pagination.Previous />
      <Pagination.Items />
      <Pagination.Next />
    </Pagination>
  );
});
```

#### With Boundary Controls

```typescript
const Example = defineComponent(() => {
  const currentPage = signal(5);

  return () => (
    <Pagination
      currentPage={currentPage()}
      totalPages={20}
      siblingCount={1}
      showFirstLast={true}
      onPageChange={(page) => currentPage.set(page)}
    >
      <div class="pagination-controls">
        <Pagination.Previous>Previous</Pagination.Previous>
        <Pagination.Items />
        <Pagination.Next>Next</Pagination.Next>
      </div>
    </Pagination>
  );
});
```

#### Compact Pagination

```typescript
const Example = defineComponent(() => {
  const currentPage = signal(1);

  return () => (
    <Pagination
      currentPage={currentPage()}
      totalPages={100}
      siblingCount={0}  // No siblings, just current page
      showFirstLast={true}
      onPageChange={(page) => currentPage.set(page)}
    >
      <div class="compact-pagination">
        <Pagination.Previous>←</Pagination.Previous>
        <Pagination.Items />
        <Pagination.Next>→</Pagination.Next>
      </div>
    </Pagination>
  );
});
```

#### With Custom Item Rendering

```typescript
const Example = defineComponent(() => {
  const currentPage = signal(1);

  const renderItem = (page: number, isCurrent: boolean) => (
    <button
      class={isCurrent ? 'page-btn active' : 'page-btn'}
      aria-current={isCurrent ? 'page' : undefined}
    >
      {page}
    </button>
  );

  const renderEllipsis = () => (
    <span class="page-ellipsis">...</span>
  );

  return () => (
    <Pagination
      currentPage={currentPage()}
      totalPages={50}
      siblingCount={2}
      onPageChange={(page) => currentPage.set(page)}
    >
      <div class="custom-pagination">
        <Pagination.Previous>Previous</Pagination.Previous>
        <Pagination.Items
          renderItem={renderItem}
          renderEllipsis={renderEllipsis}
        />
        <Pagination.Next>Next</Pagination.Next>
      </div>
    </Pagination>
  );
});
```

#### With Page Size Selector

```typescript
const Example = defineComponent(() => {
  const currentPage = signal(1);
  const pageSize = signal(10);
  const totalItems = 500;

  const totalPages = () => Math.ceil(totalItems / pageSize());

  const handlePageSizeChange = (e: Event) => {
    const target = e.target as HTMLSelectElement;
    pageSize.set(parseInt(target.value));
    currentPage.set(1); // Reset to first page
  };

  return () => (
    <div class="pagination-wrapper">
      <Pagination
        currentPage={currentPage()}
        totalPages={totalPages()}
        onPageChange={(page) => currentPage.set(page)}
      >
        <Pagination.Previous />
        <Pagination.Items />
        <Pagination.Next />
      </Pagination>

      <div class="page-size-selector">
        <label for="page-size">Items per page:</label>
        <select
          id="page-size"
          value={pageSize()}
          onChange={handlePageSizeChange}
        >
          <option value="10">10</option>
          <option value="25">25</option>
          <option value="50">50</option>
          <option value="100">100</option>
        </select>
      </div>

      <div class="page-info">
        Showing {(currentPage() - 1) * pageSize() + 1} to{' '}
        {Math.min(currentPage() * pageSize(), totalItems)} of {totalItems} items
      </div>
    </div>
  );
});
```

#### Server-Side Pagination

```typescript
import { defineComponent, signal } from 'aether';
import { Pagination } from 'aether/primitives';

interface PaginatedData {
  items: any[];
  currentPage: number;
  totalPages: number;
  totalItems: number;
}

const Example = defineComponent(() => {
  const data = signal<PaginatedData>({
    items: [],
    currentPage: 1,
    totalPages: 1,
    totalItems: 0,
  });
  const loading = signal(false);

  const fetchPage = async (page: number) => {
    loading.set(true);
    try {
      const response = await fetch(`/api/items?page=${page}&limit=20`);
      const result = await response.json();
      data.set(result);
    } catch (error) {
      console.error('Failed to fetch page:', error);
    } finally {
      loading.set(false);
    }
  };

  // Initial load
  fetchPage(1);

  const handlePageChange = (page: number) => {
    fetchPage(page);
  };

  return () => (
    <div>
      {loading() && <div class="loading-spinner">Loading...</div>}

      <div class="items-grid">
        <For each={data().items}>
          {(item) => <div class="item">{item.name}</div>}
        </For>
      </div>

      <Pagination
        currentPage={data().currentPage}
        totalPages={data().totalPages}
        onPageChange={handlePageChange}
      >
        <Pagination.Previous />
        <Pagination.Items />
        <Pagination.Next />
      </Pagination>
    </div>
  );
});
```

#### Styling Example

```css
/* Pagination container */
[data-pagination] {
  display: flex;
  align-items: center;
  gap: var(--spacing-2);
  padding: var(--spacing-4);
}

/* Pagination items container */
[data-pagination-items] {
  display: flex;
  align-items: center;
  gap: var(--spacing-1);
}

/* Page number button */
[data-pagination-item] {
  min-width: 40px;
  height: 40px;
  padding: var(--spacing-2);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  background: var(--color-background);
  color: var(--color-text-primary);
  cursor: pointer;
  transition: all 0.2s;
}

[data-pagination-item]:hover:not(:disabled) {
  background: var(--color-background-hover);
  border-color: var(--color-primary);
}

[data-pagination-item][data-current] {
  background: var(--color-primary);
  color: white;
  border-color: var(--color-primary);
  font-weight: 600;
  cursor: default;
}

[data-pagination-item]:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

/* Previous/Next buttons */
[data-pagination-previous],
[data-pagination-next] {
  min-width: 80px;
  height: 40px;
  padding: var(--spacing-2) var(--spacing-3);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  background: var(--color-background);
  color: var(--color-text-primary);
  cursor: pointer;
  transition: all 0.2s;
}

[data-pagination-previous]:hover:not(:disabled),
[data-pagination-next]:hover:not(:disabled) {
  background: var(--color-background-hover);
  border-color: var(--color-primary);
}

[data-pagination-previous]:disabled,
[data-pagination-next]:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

/* Ellipsis */
[data-pagination-ellipsis] {
  padding: var(--spacing-2);
  color: var(--color-text-tertiary);
  user-select: none;
}
```

#### API Reference

**`<Pagination>`** - Root pagination container

Props:
- `currentPage: number` - Current active page (1-indexed, required)
- `totalPages: number` - Total number of pages (required)
- `siblingCount?: number` - Number of page buttons to show on each side of current page (default: 1)
- `showFirstLast?: boolean` - Always show first and last page (default: true)
- `showPrevNext?: boolean` - Show previous/next buttons (default: true)
- `onPageChange?: (page: number) => void` - Page change handler
- Standard HTML attributes

Context Provided:
- Current page state
- Total pages
- Navigation functions
- Page number generation

**`<Pagination.Items>`** - Renders page number buttons with ellipsis

Props:
- `renderItem?: (page: number, isCurrent: boolean) => any` - Custom render function for page buttons
- `renderEllipsis?: () => any` - Custom render function for ellipsis
- Standard HTML attributes

Default Behavior:
- Renders clickable page buttons
- Shows ellipsis for gaps
- Highlights current page
- Disables current page button

**`<Pagination.Previous>`** - Previous page button

Props:
- `children?: any` - Button content (default: 'Previous')
- Standard HTML `<button>` attributes

Behavior:
- Automatically disabled when on first page
- Has `aria-label="Go to previous page"`

**`<Pagination.Next>`** - Next page button

Props:
- `children?: any` - Button content (default: 'Next')
- Standard HTML `<button>` attributes

Behavior:
- Automatically disabled when on last page
- Has `aria-label="Go to next page"`

#### Page Number Generation

The component intelligently generates page numbers based on:

1. **Total pages**: If total pages ≤ 7, show all pages
2. **Current position**: Show siblings around current page
3. **Boundaries**: Optionally show first and last pages
4. **Ellipsis**: Fill gaps with ellipsis indicators

Examples:
- 10 pages, page 1, siblings 1: `[1] 2 ... 10`
- 10 pages, page 5, siblings 1: `1 ... 4 [5] 6 ... 10`
- 10 pages, page 10, siblings 1: `1 ... 9 [10]`

#### Accessibility

The Pagination component follows the ARIA pagination pattern:

- Uses `<nav>` with `role="navigation"` and `aria-label="Pagination"`
- Page buttons have `aria-label` describing page numbers
- Current page has `aria-current="page"`
- Disabled buttons have `disabled` attribute
- Ellipsis has `aria-hidden="true"`
- Keyboard navigation works with standard button behavior

#### Best Practices

1. **Always controlled**: Pagination requires `currentPage` and `onPageChange` props
2. **Reset on filters**: When applying filters, reset to page 1
3. **Show page info**: Display "Showing X to Y of Z items" for context
4. **Reasonable page sizes**: Don't show too many or too few items per page
5. **Loading states**: Show loading indicator during page transitions
6. **Preserve scroll**: Consider scrolling to top when changing pages
7. **URL sync**: For public pages, sync current page with URL query params
8. **Mobile friendly**: Use compact pagination on small screens
9. **Sibling count**: Adjust `siblingCount` based on available space
10. **Server-side**: For large datasets, implement server-side pagination

---

### Menubar

A horizontal menu bar component with dropdown menus, similar to desktop application menus (File, Edit, View, etc.). Provides keyboard navigation, nested menu support, and flexible content rendering.

#### Features

- Desktop application style menubar
- Multiple independent menus
- Click to open/close
- Keyboard navigation
- Sub-menu support
- Menu items with actions
- Separators and labels
- Keyboard shortcuts display
- Click outside to close
- Escape key to close
- ARIA menubar pattern
- Portal-based rendering
- Configurable positioning

#### Basic Usage

```typescript
import { defineComponent } from 'aether';
import { Menubar } from 'aether/primitives';

const Example = defineComponent(() => {
  const handleNew = () => console.log('New file');
  const handleOpen = () => console.log('Open file');
  const handleSave = () => console.log('Save file');

  return () => (
    <Menubar>
      <Menubar.Menu>
        <Menubar.Trigger>File</Menubar.Trigger>
        <Menubar.Content>
          <Menubar.Item onSelect={handleNew}>New</Menubar.Item>
          <Menubar.Item onSelect={handleOpen}>Open</Menubar.Item>
          <Menubar.Item onSelect={handleSave}>Save</Menubar.Item>
          <Menubar.Separator />
          <Menubar.Item onSelect={() => window.close()}>Exit</Menubar.Item>
        </Menubar.Content>
      </Menubar.Menu>

      <Menubar.Menu>
        <Menubar.Trigger>Edit</Menubar.Trigger>
        <Menubar.Content>
          <Menubar.Item onSelect={() => document.execCommand('undo')}>
            Undo
          </Menubar.Item>
          <Menubar.Item onSelect={() => document.execCommand('redo')}>
            Redo
          </Menubar.Item>
          <Menubar.Separator />
          <Menubar.Item onSelect={() => document.execCommand('cut')}>
            Cut
          </Menubar.Item>
          <Menubar.Item onSelect={() => document.execCommand('copy')}>
            Copy
          </Menubar.Item>
          <Menubar.Item onSelect={() => document.execCommand('paste')}>
            Paste
          </Menubar.Item>
        </Menubar.Content>
      </Menubar.Menu>

      <Menubar.Menu>
        <Menubar.Trigger>View</Menubar.Trigger>
        <Menubar.Content>
          <Menubar.Item>Zoom In</Menubar.Item>
          <Menubar.Item>Zoom Out</Menubar.Item>
          <Menubar.Item>Reset Zoom</Menubar.Item>
        </Menubar.Content>
      </Menubar.Menu>
    </Menubar>
  );
});
```

#### With Keyboard Shortcuts

```typescript
const Example = defineComponent(() => {
  return () => (
    <Menubar>
      <Menubar.Menu>
        <Menubar.Trigger>File</Menubar.Trigger>
        <Menubar.Content>
          <Menubar.Item onSelect={() => {}}>
            New File
            <Menubar.Shortcut>⌘N</Menubar.Shortcut>
          </Menubar.Item>
          <Menubar.Item onSelect={() => {}}>
            Open File
            <Menubar.Shortcut>⌘O</Menubar.Shortcut>
          </Menubar.Item>
          <Menubar.Item onSelect={() => {}}>
            Save
            <Menubar.Shortcut>⌘S</Menubar.Shortcut>
          </Menubar.Item>
          <Menubar.Item onSelect={() => {}}>
            Save As
            <Menubar.Shortcut>⌘⇧S</Menubar.Shortcut>
          </Menubar.Item>
          <Menubar.Separator />
          <Menubar.Item onSelect={() => {}}>
            Close Window
            <Menubar.Shortcut>⌘W</Menubar.Shortcut>
          </Menubar.Item>
        </Menubar.Content>
      </Menubar.Menu>

      <Menubar.Menu>
        <Menubar.Trigger>Edit</Menubar.Trigger>
        <Menubar.Content>
          <Menubar.Item onSelect={() => {}}>
            Undo
            <Menubar.Shortcut>⌘Z</Menubar.Shortcut>
          </Menubar.Item>
          <Menubar.Item onSelect={() => {}}>
            Redo
            <Menubar.Shortcut>⌘⇧Z</Menubar.Shortcut>
          </Menubar.Item>
          <Menubar.Separator />
          <Menubar.Item onSelect={() => {}}>
            Cut
            <Menubar.Shortcut>⌘X</Menubar.Shortcut>
          </Menubar.Item>
          <Menubar.Item onSelect={() => {}}>
            Copy
            <Menubar.Shortcut>⌘C</Menubar.Shortcut>
          </Menubar.Item>
          <Menubar.Item onSelect={() => {}}>
            Paste
            <Menubar.Shortcut>⌘V</Menubar.Shortcut>
          </Menubar.Item>
        </Menubar.Content>
      </Menubar.Menu>
    </Menubar>
  );
});
```

#### With Disabled Items

```typescript
const Example = defineComponent(() => {
  const hasSelection = signal(false);

  return () => (
    <Menubar>
      <Menubar.Menu>
        <Menubar.Trigger>Edit</Menubar.Trigger>
        <Menubar.Content>
          <Menubar.Item onSelect={() => {}}>Undo</Menubar.Item>
          <Menubar.Item onSelect={() => {}}>Redo</Menubar.Item>
          <Menubar.Separator />
          <Menubar.Item
            disabled={!hasSelection()}
            onSelect={() => {}}
          >
            Cut
          </Menubar.Item>
          <Menubar.Item
            disabled={!hasSelection()}
            onSelect={() => {}}
          >
            Copy
          </Menubar.Item>
          <Menubar.Item onSelect={() => {}}>Paste</Menubar.Item>
          <Menubar.Separator />
          <Menubar.Item
            disabled={!hasSelection()}
            onSelect={() => {}}
          >
            Delete
          </Menubar.Item>
          <Menubar.Item onSelect={() => {}}>Select All</Menubar.Item>
        </Menubar.Content>
      </Menubar.Menu>
    </Menubar>
  );
});
```

#### Desktop Application Style

```typescript
const Example = defineComponent(() => {
  return () => (
    <div class="app-window">
      <Menubar class="app-menubar">
        <Menubar.Menu>
          <Menubar.Trigger>File</Menubar.Trigger>
          <Menubar.Content>
            <Menubar.Item onSelect={() => {}}>New Window</Menubar.Item>
            <Menubar.Item onSelect={() => {}}>New Tab</Menubar.Item>
            <Menubar.Separator />
            <Menubar.Item onSelect={() => {}}>Open File...</Menubar.Item>
            <Menubar.Item onSelect={() => {}}>Open Folder...</Menubar.Item>
            <Menubar.Separator />
            <Menubar.Item onSelect={() => {}}>Save</Menubar.Item>
            <Menubar.Item onSelect={() => {}}>Save As...</Menubar.Item>
            <Menubar.Item onSelect={() => {}}>Save All</Menubar.Item>
            <Menubar.Separator />
            <Menubar.Item onSelect={() => {}}>Close Editor</Menubar.Item>
            <Menubar.Item onSelect={() => {}}>Close Window</Menubar.Item>
            <Menubar.Separator />
            <Menubar.Item onSelect={() => {}}>Exit</Menubar.Item>
          </Menubar.Content>
        </Menubar.Menu>

        <Menubar.Menu>
          <Menubar.Trigger>Edit</Menubar.Trigger>
          <Menubar.Content>
            <Menubar.Item onSelect={() => {}}>Undo</Menubar.Item>
            <Menubar.Item onSelect={() => {}}>Redo</Menubar.Item>
            <Menubar.Separator />
            <Menubar.Item onSelect={() => {}}>Cut</Menubar.Item>
            <Menubar.Item onSelect={() => {}}>Copy</Menubar.Item>
            <Menubar.Item onSelect={() => {}}>Paste</Menubar.Item>
            <Menubar.Separator />
            <Menubar.Item onSelect={() => {}}>Find</Menubar.Item>
            <Menubar.Item onSelect={() => {}}>Replace</Menubar.Item>
          </Menubar.Content>
        </Menubar.Menu>

        <Menubar.Menu>
          <Menubar.Trigger>Selection</Menubar.Trigger>
          <Menubar.Content>
            <Menubar.Item onSelect={() => {}}>Select All</Menubar.Item>
            <Menubar.Item onSelect={() => {}}>Expand Selection</Menubar.Item>
            <Menubar.Item onSelect={() => {}}>Shrink Selection</Menubar.Item>
            <Menubar.Separator />
            <Menubar.Item onSelect={() => {}}>Copy Line Up</Menubar.Item>
            <Menubar.Item onSelect={() => {}}>Copy Line Down</Menubar.Item>
            <Menubar.Item onSelect={() => {}}>Move Line Up</Menubar.Item>
            <Menubar.Item onSelect={() => {}}>Move Line Down</Menubar.Item>
          </Menubar.Content>
        </Menubar.Menu>

        <Menubar.Menu>
          <Menubar.Trigger>View</Menubar.Trigger>
          <Menubar.Content>
            <Menubar.Item onSelect={() => {}}>Command Palette</Menubar.Item>
            <Menubar.Item onSelect={() => {}}>Open View...</Menubar.Item>
            <Menubar.Separator />
            <Menubar.Label>Appearance</Menubar.Label>
            <Menubar.Item onSelect={() => {}}>Full Screen</Menubar.Item>
            <Menubar.Item onSelect={() => {}}>Zen Mode</Menubar.Item>
            <Menubar.Separator />
            <Menubar.Item onSelect={() => {}}>Show Panel</Menubar.Item>
            <Menubar.Item onSelect={() => {}}>Show Sidebar</Menubar.Item>
            <Menubar.Item onSelect={() => {}}>Show Minimap</Menubar.Item>
          </Menubar.Content>
        </Menubar.Menu>

        <Menubar.Menu>
          <Menubar.Trigger>Help</Menubar.Trigger>
          <Menubar.Content>
            <Menubar.Item onSelect={() => {}}>Welcome</Menubar.Item>
            <Menubar.Item onSelect={() => {}}>Documentation</Menubar.Item>
            <Menubar.Item onSelect={() => {}}>Keyboard Shortcuts</Menubar.Item>
            <Menubar.Separator />
            <Menubar.Item onSelect={() => {}}>Check for Updates</Menubar.Item>
            <Menubar.Separator />
            <Menubar.Item onSelect={() => {}}>About</Menubar.Item>
          </Menubar.Content>
        </Menubar.Menu>
      </Menubar>

      <div class="app-content">
        {/* Application content */}
      </div>
    </div>
  );
});
```

#### With Labels and Groups

```typescript
const Example = defineComponent(() => {
  return () => (
    <Menubar>
      <Menubar.Menu>
        <Menubar.Trigger>Preferences</Menubar.Trigger>
        <Menubar.Content>
          <Menubar.Label>Editor Settings</Menubar.Label>
          <Menubar.Item onSelect={() => {}}>Font Size</Menubar.Item>
          <Menubar.Item onSelect={() => {}}>Line Height</Menubar.Item>
          <Menubar.Item onSelect={() => {}}>Tab Size</Menubar.Item>
          <Menubar.Separator />
          <Menubar.Label>Display</Menubar.Label>
          <Menubar.Item onSelect={() => {}}>Theme</Menubar.Item>
          <Menubar.Item onSelect={() => {}}>Color Scheme</Menubar.Item>
          <Menubar.Item onSelect={() => {}}>Icon Theme</Menubar.Item>
          <Menubar.Separator />
          <Menubar.Label>Advanced</Menubar.Label>
          <Menubar.Item onSelect={() => {}}>Settings JSON</Menubar.Item>
          <Menubar.Item onSelect={() => {}}>Keyboard Shortcuts</Menubar.Item>
        </Menubar.Content>
      </Menubar.Menu>
    </Menubar>
  );
});
```

#### Styling Example

```css
/* Menubar container */
[data-menubar] {
  display: flex;
  align-items: center;
  height: 40px;
  background: var(--color-background-secondary);
  border-bottom: 1px solid var(--color-border);
  padding: 0 var(--spacing-2);
  gap: var(--spacing-1);
}

/* Individual menu */
[data-menubar-menu] {
  position: relative;
}

/* Menu trigger */
[data-menubar-trigger] {
  padding: var(--spacing-1) var(--spacing-3);
  border: none;
  background: transparent;
  color: var(--color-text-primary);
  cursor: pointer;
  border-radius: var(--radius-sm);
  font-size: var(--font-size-sm);
  transition: background 0.2s;
}

[data-menubar-trigger]:hover {
  background: var(--color-background-hover);
}

[data-menubar-trigger][data-state="open"] {
  background: var(--color-background-active);
}

/* Menu content */
[data-menubar-content] {
  min-width: 200px;
  padding: var(--spacing-2);
  background: var(--color-background);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  box-shadow: var(--shadow-lg);
  z-index: 1000;
}

/* Menu item */
[data-menubar-item] {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: var(--spacing-2) var(--spacing-3);
  border-radius: var(--radius-sm);
  cursor: pointer;
  font-size: var(--font-size-sm);
  color: var(--color-text-primary);
  transition: background 0.15s;
  outline: none;
}

[data-menubar-item]:hover:not([data-disabled]) {
  background: var(--color-background-hover);
}

[data-menubar-item]:focus-visible {
  background: var(--color-background-hover);
  outline: 2px solid var(--color-focus);
  outline-offset: -2px;
}

[data-menubar-item][data-disabled] {
  opacity: 0.5;
  cursor: not-allowed;
  pointer-events: none;
}

/* Separator */
[data-menubar-separator] {
  height: 1px;
  margin: var(--spacing-2) 0;
  background: var(--color-border);
}

/* Label */
[data-menubar-label] {
  padding: var(--spacing-2) var(--spacing-3);
  font-size: var(--font-size-xs);
  font-weight: 600;
  color: var(--color-text-tertiary);
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

/* Shortcut */
[data-menubar-shortcut] {
  margin-left: auto;
  padding-left: var(--spacing-4);
  font-size: var(--font-size-xs);
  color: var(--color-text-tertiary);
  font-family: var(--font-mono);
}
```

#### API Reference

**`<Menubar>`** - Root menubar container

Props:
- Standard HTML `<div>` attributes

Context Provided:
- Global open menu state
- Single menu open at a time

**`<Menubar.Menu>`** - Individual menu within the menubar

Props:
- Standard HTML `<div>` attributes

Context Provided:
- Menu open/close state
- Menu ID and trigger ID
- Toggle functionality

**`<Menubar.Trigger>`** - Button that opens a menu

Props:
- `children?: any` - Trigger content
- Standard HTML `<button>` attributes

Accessibility:
- Has `aria-haspopup="menu"`
- Has `aria-expanded` reflecting open state
- Has `aria-controls` pointing to content

**`<Menubar.Content>`** - Dropdown content panel

Props:
- `side?: 'top' | 'right' | 'bottom' | 'left'` - Position side (default: 'bottom')
- `align?: 'start' | 'center' | 'end'` - Alignment (default: 'start')
- `sideOffset?: number` - Offset from trigger (default: 4)
- `alignOffset?: number` - Alignment offset (default: 0)
- Standard HTML `<div>` attributes

Behavior:
- Rendered in a Portal
- Positioned relative to trigger
- Only rendered when menu is open
- Closes on click outside
- Closes on Escape key

**`<Menubar.Item>`** - Individual menu item

Props:
- `disabled?: boolean` - Disables the item
- `onSelect?: () => void` - Selection handler
- `children?: any` - Item content
- Standard HTML `<div>` attributes

Behavior:
- Calls `onSelect` on click or Enter/Space
- Closes menu after selection
- Keyboard navigable

**`<Menubar.Separator>`** - Visual separator

Props:
- Standard HTML `<div>` attributes

Accessibility:
- Has `role="separator"`
- Has `aria-orientation="horizontal"`

**`<Menubar.Label>`** - Non-interactive label for grouping

Props:
- `children?: any` - Label content
- Standard HTML `<div>` attributes

**`<Menubar.Shortcut>`** - Keyboard shortcut display

Props:
- `children?: any` - Shortcut text (e.g., "⌘K")
- Standard HTML `<span>` attributes

Accessibility:
- Has `aria-hidden="true"` (visual only)

#### Keyboard Navigation

- **Tab**: Focus next/previous trigger
- **Enter/Space**: Open menu when trigger focused
- **Arrow Down**: Open menu and focus first item
- **Arrow Up/Down**: Navigate between items (when open)
- **Escape**: Close menu and return focus to trigger
- **Enter/Space**: Activate focused item

#### Accessibility

The Menubar component follows the ARIA menubar pattern:

- Root has `role="menubar"`
- Triggers have `aria-haspopup="menu"` and `aria-expanded`
- Content has `role="menu"` and `aria-labelledby`
- Items have `role="menuitem"` and appropriate `tabIndex`
- Disabled items have `aria-disabled="true"`
- Separators have `role="separator"`
- Full keyboard navigation support
- Proper focus management

#### Best Practices

1. **Use for application menus**: Best suited for desktop-style application interfaces
2. **Keep labels short**: Trigger text should be concise (File, Edit, View)
3. **Group related items**: Use separators and labels to organize menu items
4. **Show shortcuts**: Display keyboard shortcuts for discoverability
5. **Indicate state**: Disable items that aren't currently available
6. **Close on action**: Menus automatically close when an item is selected
7. **Single open menu**: Only one menu should be open at a time
8. **Consistent ordering**: Follow platform conventions (File usually first, Help usually last)
9. **Don't nest too deep**: Avoid sub-menus within menubar menus if possible
10. **Consider mobile**: Menubar pattern is desktop-focused; provide alternative navigation for mobile

---

### Carousel

A carousel/slider component for cycling through content with support for autoplay, keyboard navigation, and loop mode.

#### Features

- Horizontal and vertical orientation
- Autoplay with configurable interval
- Loop mode for infinite scrolling
- Keyboard navigation (arrows)
- Previous/Next controls
- Dot indicators
- ARIA carousel pattern
- Slide-based navigation
- Controlled and uncontrolled modes

#### Basic Usage

```typescript
import { defineComponent, signal } from 'aether';
import { Carousel } from 'aether/primitives';

const Example = defineComponent(() => {
  const currentSlide = signal(0);

  return () => (
    <Carousel value={currentSlide()} onValueChange={currentSlide} loop>
      <Carousel.Viewport class="carousel-viewport">
        <Carousel.Slide class="carousel-slide">
          <img src="/images/slide-1.jpg" alt="Slide 1" />
        </Carousel.Slide>
        <Carousel.Slide class="carousel-slide">
          <img src="/images/slide-2.jpg" alt="Slide 2" />
        </Carousel.Slide>
        <Carousel.Slide class="carousel-slide">
          <img src="/images/slide-3.jpg" alt="Slide 3" />
        </Carousel.Slide>
      </Carousel.Viewport>

      <Carousel.Previous class="carousel-btn carousel-prev">
        ←
      </Carousel.Previous>
      <Carousel.Next class="carousel-btn carousel-next">
        →
      </Carousel.Next>

      <Carousel.Indicators class="carousel-indicators" />
    </Carousel>
  );
});
```

#### With Autoplay

```typescript
const Example = defineComponent(() => {
  return () => (
    <Carousel autoplay={3000} loop>
      <Carousel.Viewport>
        <Carousel.Slide>Slide 1</Carousel.Slide>
        <Carousel.Slide>Slide 2</Carousel.Slide>
        <Carousel.Slide>Slide 3</Carousel.Slide>
      </Carousel.Viewport>

      <Carousel.Indicators />
    </Carousel>
  );
});
```

#### API

**`<Carousel>`** - Root component
- `value?: number` - Controlled slide index
- `onValueChange?: (index: number) => void` - Index change callback
- `defaultValue?: number` - Default slide index (uncontrolled)
- `loop?: boolean` - Enable loop mode (default: false)
- `autoplay?: number` - Autoplay interval in ms (0 = disabled)
- `orientation?: 'horizontal' | 'vertical'` - Orientation (default: 'horizontal')

**`<Carousel.Viewport>`** - Container for slides with overflow management

**`<Carousel.Slide>`** - Individual slide content

**`<Carousel.Previous>`** - Previous slide button

**`<Carousel.Next>`** - Next slide button

**`<Carousel.Indicators>`** - Dot indicators for each slide

---

### Rating

A star rating component with support for half-star ratings, hover preview, and keyboard navigation.

#### Features

- Full and half-star rating support
- Hover preview functionality
- Keyboard navigation (arrows, Home, End)
- Controlled and uncontrolled modes
- Read-only mode for display
- Custom max rating
- ARIA radio group pattern
- Fractional values (0.5 increments)

#### Basic Usage

```typescript
import { defineComponent, signal } from 'aether';
import { Rating } from 'aether/primitives';

const Example = defineComponent(() => {
  const rating = signal(3.5);

  return () => (
    <div>
      <Rating value={rating()} onValueChange={rating} max={5} allowHalf>
        <Rating.Item index={1} class="rating-star">★</Rating.Item>
        <Rating.Item index={2} class="rating-star">★</Rating.Item>
        <Rating.Item index={3} class="rating-star">★</Rating.Item>
        <Rating.Item index={4} class="rating-star">★</Rating.Item>
        <Rating.Item index={5} class="rating-star">★</Rating.Item>
      </Rating>

      <p>Rating: {rating()}/5</p>
    </div>
  );
});
```

#### Read-only Display

```typescript
const Example = defineComponent(() => {
  return () => (
    <Rating value={4.5} max={5} allowHalf readonly>
      <Rating.Item index={1}>★</Rating.Item>
      <Rating.Item index={2}>★</Rating.Item>
      <Rating.Item index={3}>★</Rating.Item>
      <Rating.Item index={4}>★</Rating.Item>
      <Rating.Item index={5}>★</Rating.Item>
    </Rating>
  );
});
```

#### API

**`<Rating>`** - Root component
- `value?: number` - Controlled rating value
- `onValueChange?: (value: number) => void` - Value change callback
- `defaultValue?: number` - Default rating value (uncontrolled)
- `max?: number` - Maximum rating (default: 5)
- `allowHalf?: boolean` - Allow half-star ratings (default: false)
- `readonly?: boolean` - Read-only mode (default: false)

**`<Rating.Item>`** - Individual rating item (star)
- `index: number` - Star index (1-based)

---

### Tree

A hierarchical tree view component with expand/collapse functionality, selection support, and keyboard navigation.

#### Features

- Multi-level nesting support
- Expand/collapse functionality
- Single selection support
- Keyboard navigation (arrows, Enter, Space)
- Controlled and uncontrolled modes
- ARIA tree pattern
- Lazy loading support
- Custom icons for expand/collapse

#### Basic Usage

```typescript
import { defineComponent, signal } from 'aether';
import { Tree } from 'aether/primitives';

const Example = defineComponent(() => {
  const expanded = signal(['folder-1']);
  const selected = signal('file-1');

  return () => (
    <Tree
      expanded={expanded()}
      onExpandedChange={expanded}
      selected={selected()}
      onSelectedChange={selected}
    >
      <Tree.Item value="folder-1">
        <Tree.Trigger class="tree-trigger">
          <span class="tree-icon">▶</span>
          <Tree.Label class="tree-label">Documents</Tree.Label>
        </Tree.Trigger>
        <Tree.Content class="tree-content">
          <Tree.Item value="file-1">
            <Tree.Label class="tree-label">Report.pdf</Tree.Label>
          </Tree.Item>
          <Tree.Item value="file-2">
            <Tree.Label class="tree-label">Invoice.docx</Tree.Label>
          </Tree.Item>
        </Tree.Content>
      </Tree.Item>

      <Tree.Item value="folder-2">
        <Tree.Trigger class="tree-trigger">
          <span class="tree-icon">▶</span>
          <Tree.Label class="tree-label">Images</Tree.Label>
        </Tree.Trigger>
        <Tree.Content class="tree-content">
          <Tree.Item value="file-3">
            <Tree.Label class="tree-label">photo.jpg</Tree.Label>
          </Tree.Item>
        </Tree.Content>
      </Tree.Item>
    </Tree>
  );
});
```

#### With File System

```typescript
interface FileNode {
  id: string;
  name: string;
  type: 'file' | 'folder';
  children?: FileNode[];
}

const renderTree = (nodes: FileNode[]) => {
  return nodes.map(node => (
    <Tree.Item key={node.id} value={node.id}>
      {node.type === 'folder' ? (
        <>
          <Tree.Trigger>
            <span class="icon">{node.expanded ? '📂' : '📁'}</span>
            <Tree.Label>{node.name}</Tree.Label>
          </Tree.Trigger>
          <Tree.Content>
            {node.children && renderTree(node.children)}
          </Tree.Content>
        </>
      ) : (
        <>
          <span class="icon">📄</span>
          <Tree.Label>{node.name}</Tree.Label>
        </>
      )}
    </Tree.Item>
  ));
};
```

#### API

**`<Tree>`** - Root component
- `expanded?: string[]` - Controlled expanded items
- `onExpandedChange?: (expanded: string[]) => void` - Expanded change callback
- `defaultExpanded?: string[]` - Default expanded items (uncontrolled)
- `selected?: string` - Controlled selected item
- `onSelectedChange?: (selected: string) => void` - Selected change callback
- `defaultSelected?: string` - Default selected item (uncontrolled)

**`<Tree.Item>`** - Individual tree item
- `value: string` - Unique identifier for the item

**`<Tree.Trigger>`** - Trigger button to expand/collapse children

**`<Tree.Content>`** - Container for child items

**`<Tree.Label>`** - Label for the tree item

---

### Stepper

A multi-step wizard navigation component with support for linear and non-linear navigation modes, step completion tracking, and validation.

#### Features

- Linear and non-linear navigation modes
- Step completion tracking
- Disabled step support
- Keyboard navigation
- Current step indicator
- Step descriptions
- Validation support
- Horizontal and vertical orientation
- ARIA step navigation pattern

#### Basic Usage

```typescript
import { defineComponent, signal } from 'aether';
import { Stepper } from 'aether/primitives';

const Example = defineComponent(() => {
  const currentStep = signal(0);

  return () => (
    <Stepper value={currentStep()} onValueChange={currentStep} linear>
      <Stepper.List class="stepper-list">
        <Stepper.Item value={0} class="stepper-item">
          <Stepper.Trigger class="stepper-trigger">
            <span class="step-number">1</span>
            <span class="step-title">Account</span>
          </Stepper.Trigger>
          <Stepper.Description class="step-description">
            Create your account
          </Stepper.Description>
        </Stepper.Item>

        <Stepper.Separator class="stepper-separator" />

        <Stepper.Item value={1} class="stepper-item">
          <Stepper.Trigger class="stepper-trigger">
            <span class="step-number">2</span>
            <span class="step-title">Profile</span>
          </Stepper.Trigger>
          <Stepper.Description class="step-description">
            Complete your profile
          </Stepper.Description>
        </Stepper.Item>

        <Stepper.Separator class="stepper-separator" />

        <Stepper.Item value={2} class="stepper-item">
          <Stepper.Trigger class="stepper-trigger">
            <span class="step-number">3</span>
            <span class="step-title">Confirm</span>
          </Stepper.Trigger>
          <Stepper.Description class="step-description">
            Review and confirm
          </Stepper.Description>
        </Stepper.Item>
      </Stepper.List>

      <Stepper.Content value={0} class="step-content">
        <h3>Step 1: Account Details</h3>
        <input type="email" placeholder="Email" />
        <input type="password" placeholder="Password" />
      </Stepper.Content>

      <Stepper.Content value={1} class="step-content">
        <h3>Step 2: Profile Information</h3>
        <input type="text" placeholder="Full Name" />
        <input type="tel" placeholder="Phone" />
      </Stepper.Content>

      <Stepper.Content value={2} class="step-content">
        <h3>Step 3: Confirmation</h3>
        <p>Please review your information...</p>
      </Stepper.Content>

      <div class="stepper-actions">
        <button
          onClick={() => currentStep.set(currentStep() - 1)}
          disabled={currentStep() === 0}
        >
          Back
        </button>
        <button
          onClick={() => currentStep.set(currentStep() + 1)}
          disabled={currentStep() === 2}
        >
          Next
        </button>
      </div>
    </Stepper>
  );
});
```

#### With Completion Tracking

```typescript
const Example = defineComponent(() => {
  const currentStep = signal(0);
  const completedSteps = signal<Set<number>>(new Set());

  const markStepCompleted = (step: number) => {
    const newCompleted = new Set(completedSteps());
    newCompleted.add(step);
    completedSteps.set(newCompleted);
  };

  const handleNext = () => {
    markStepCompleted(currentStep());
    currentStep.set(currentStep() + 1);
  };

  return () => (
    <Stepper value={currentStep()} onValueChange={currentStep} linear>
      <Stepper.List>
        <Stepper.Item
          value={0}
          completed={completedSteps().has(0)}
        >
          <Stepper.Trigger>Step 1</Stepper.Trigger>
        </Stepper.Item>

        <Stepper.Item
          value={1}
          completed={completedSteps().has(1)}
        >
          <Stepper.Trigger>Step 2</Stepper.Trigger>
        </Stepper.Item>

        <Stepper.Item
          value={2}
          completed={completedSteps().has(2)}
        >
          <Stepper.Trigger>Step 3</Stepper.Trigger>
        </Stepper.Item>
      </Stepper.List>

      <Stepper.Content value={0}>
        Content for step 1
        <button onClick={handleNext}>Next</button>
      </Stepper.Content>

      <Stepper.Content value={1}>
        Content for step 2
        <button onClick={handleNext}>Next</button>
      </Stepper.Content>

      <Stepper.Content value={2}>
        Content for step 3
        <button onClick={() => console.log('Complete!')}>Finish</button>
      </Stepper.Content>
    </Stepper>
  );
});
```

#### API

**`<Stepper>`** - Root component
- `value?: number` - Controlled current step
- `onValueChange?: (step: number) => void` - Step change callback
- `defaultValue?: number` - Default current step (uncontrolled)
- `orientation?: 'horizontal' | 'vertical'` - Orientation (default: 'horizontal')
- `linear?: boolean` - Linear navigation mode (default: false)

**`<Stepper.List>`** - Container for step items

**`<Stepper.Item>`** - Individual step in the list
- `value: number` - Step index
- `completed?: boolean` - Whether step is completed
- `disabled?: boolean` - Whether step is disabled

**`<Stepper.Trigger>`** - Button to navigate to a step

**`<Stepper.Description>`** - Optional description for a step

**`<Stepper.Content>`** - Content panel for each step
- `value: number` - Step index for this content

**`<Stepper.Separator>`** - Visual separator between steps

---

### ToggleGroup

A group of toggle buttons with single or multiple selection support, perfect for formatting toolbars or filter controls.

#### Features

- Single and multiple selection modes
- Keyboard navigation (arrows, Home, End)
- Horizontal and vertical orientation
- Loop navigation support
- Disabled state handling
- ARIA toolbar/radiogroup pattern
- Controlled and uncontrolled modes

#### Basic Usage

```typescript
import { defineComponent, signal } from 'aether';
import { ToggleGroup } from 'aether/primitives';

const Example = defineComponent(() => {
  const alignment = signal('left');

  return () => (
    <ToggleGroup
      type="single"
      value={alignment()}
      onValueChange={alignment}
      class="toggle-group"
    >
      <ToggleGroup.Item value="left" class="toggle-item">
        Left
      </ToggleGroup.Item>
      <ToggleGroup.Item value="center" class="toggle-item">
        Center
      </ToggleGroup.Item>
      <ToggleGroup.Item value="right" class="toggle-item">
        Right
      </ToggleGroup.Item>
    </ToggleGroup>
  );
});
```

#### With Multiple Selection

```typescript
const Example = defineComponent(() => {
  const styles = signal<string[]>(['bold']);

  return () => (
    <ToggleGroup
      type="multiple"
      value={styles()}
      onValueChange={styles}
    >
      <ToggleGroup.Item value="bold">
        <BoldIcon />
      </ToggleGroup.Item>
      <ToggleGroup.Item value="italic">
        <ItalicIcon />
      </ToggleGroup.Item>
      <ToggleGroup.Item value="underline">
        <UnderlineIcon />
      </ToggleGroup.Item>
    </ToggleGroup>
  );
});
```

#### API

**`<ToggleGroup>`** - Root component
- `value?: string | string[]` - Controlled value (string for single, array for multiple)
- `onValueChange?: (value: string | string[]) => void` - Value change callback
- `defaultValue?: string | string[]` - Default value (uncontrolled)
- `type?: 'single' | 'multiple'` - Selection type (default: 'single')
- `orientation?: 'horizontal' | 'vertical'` - Orientation (default: 'horizontal')
- `disabled?: boolean` - Whether the group is disabled
- `loop?: boolean` - Loop keyboard navigation (default: true)
- `required?: boolean` - Selection required in single mode (default: false)

**`<ToggleGroup.Item>`** - Individual toggle item
- `value: string` - Unique value for this item
- `disabled?: boolean` - Whether this item is disabled

---

### PinInput

PIN/OTP input component with automatic focus management, perfect for two-factor authentication codes.

#### Features

- Automatic focus management between inputs
- Paste support (splits pasted value across inputs)
- Numeric, alphanumeric, or custom patterns
- Masked/password input support
- Keyboard navigation (arrows, backspace, delete)
- Auto-submit on completion
- Controlled and uncontrolled modes

#### Basic Usage

```typescript
import { defineComponent, signal } from 'aether';
import { PinInput } from 'aether/primitives';

const Example = defineComponent(() => {
  const pin = signal('');

  const handleComplete = (value: string) => {
    console.log('PIN complete:', value);
    // Auto-submit or validate
  };

  return () => (
    <PinInput
      length={6}
      type="numeric"
      value={pin()}
      onValueChange={pin}
      onComplete={handleComplete}
    >
      {Array.from({ length: 6 }).map((_, i) => (
        <PinInput.Input key={i} index={i} class="pin-input" />
      ))}
    </PinInput>
  );
});
```

#### With Masking

```typescript
const Example = defineComponent(() => {
  return () => (
    <PinInput
      length={4}
      type="numeric"
      mask
      autoFocus
    >
      {Array.from({ length: 4 }).map((_, i) => (
        <PinInput.Input key={i} index={i} />
      ))}
    </PinInput>
  );
});
```

#### API

**`<PinInput>`** - Root component
- `value?: string` - Controlled value
- `onValueChange?: (value: string) => void` - Value change callback
- `defaultValue?: string` - Default value (uncontrolled)
- `length?: number` - Number of input fields (default: 6)
- `type?: 'numeric' | 'alphanumeric' | 'all'` - Input type (default: 'numeric')
- `mask?: boolean` - Mask the input (default: false)
- `placeholder?: string` - Placeholder character (default: '○')
- `disabled?: boolean` - Whether inputs are disabled
- `autoFocus?: boolean` - Auto-focus first input (default: false)
- `onComplete?: (value: string) => void` - Called when all inputs filled

**`<PinInput.Input>`** - Individual input field
- `index: number` - Index of this input (0-based)

---

### TimePicker

Time selection component with support for hours, minutes, seconds, and 12/24-hour formats.

#### Features

- 12-hour and 24-hour formats
- Hour, minute, and optional second selection
- AM/PM toggle for 12-hour format
- Configurable step values
- Keyboard navigation
- Scroll-based selection
- Controlled and uncontrolled modes
- Integration with Popover for dropdown

#### Basic Usage

```typescript
import { defineComponent, signal } from 'aether';
import { TimePicker } from 'aether/primitives';

const Example = defineComponent(() => {
  const time = signal({ hours: 14, minutes: 30, seconds: 0 });

  return () => (
    <TimePicker
      value={time()}
      onValueChange={time}
      hourFormat={24}
    >
      <TimePicker.Trigger class="time-trigger">
        {/* Display formatted time */}
      </TimePicker.Trigger>

      <TimePicker.Content class="time-content">
        <div class="time-columns">
          <TimePicker.Column type="hours" />
          <TimePicker.Column type="minutes" />
        </div>
      </TimePicker.Content>
    </TimePicker>
  );
});
```

#### With Seconds and 12-hour Format

```typescript
const Example = defineComponent(() => {
  return () => (
    <TimePicker
      hourFormat={12}
      showSeconds
      minuteStep={15}
    >
      <TimePicker.Trigger>Select Time</TimePicker.Trigger>
      <TimePicker.Content>
        <TimePicker.Column type="hours" />
        <TimePicker.Column type="minutes" />
        <TimePicker.Column type="seconds" />
        <TimePicker.Column type="period" />
      </TimePicker.Content>
    </TimePicker>
  );
});
```

#### API

**`<TimePicker>`** - Root component
- `value?: TimeValue` - Controlled time value
- `onValueChange?: (value: TimeValue) => void` - Value change callback
- `defaultValue?: TimeValue` - Default value (uncontrolled)
- `hourFormat?: 12 | 24` - Hour format (default: 24)
- `showSeconds?: boolean` - Show seconds column (default: false)
- `hourStep?: number` - Hour step increment (default: 1)
- `minuteStep?: number` - Minute step increment (default: 1)
- `secondStep?: number` - Second step increment (default: 1)
- `disabled?: boolean` - Whether picker is disabled

**`<TimePicker.Trigger>`** - Trigger button to open picker

**`<TimePicker.Content>`** - Content container for time columns

**`<TimePicker.Column>`** - Time column (hours/minutes/seconds/period)
- `type: 'hours' | 'minutes' | 'seconds' | 'period'` - Column type

---

### DateRangePicker

Date range selection component with visual range highlighting and preset support.

#### Features

- Start and end date selection
- Visual range highlighting
- Hover preview of range
- Preset ranges (Today, Last 7 days, etc.)
- Min/max date constraints
- Multiple months display
- Controlled and uncontrolled modes
- ARIA date picker pattern

#### Basic Usage

```typescript
import { defineComponent, signal } from 'aether';
import { DateRangePicker } from 'aether/primitives';

const Example = defineComponent(() => {
  const range = signal<DateRange>({ start: null, end: null });

  return () => (
    <DateRangePicker
      value={range()}
      onValueChange={range}
      numberOfMonths={2}
    >
      <DateRangePicker.Trigger class="range-trigger">
        {/* Display formatted range */}
      </DateRangePicker.Trigger>

      <DateRangePicker.Content class="range-content">
        <div class="range-presets">
          <DateRangePicker.Preset
            range={{
              start: new Date(),
              end: new Date()
            }}
          >
            Today
          </DateRangePicker.Preset>
          <DateRangePicker.Preset
            range={{
              start: new Date(Date.now() - 7 * 24 * 60 * 60 * 1000),
              end: new Date()
            }}
          >
            Last 7 days
          </DateRangePicker.Preset>
        </div>

        <div class="range-calendars">
          <DateRangePicker.Calendar monthOffset={0} />
          <DateRangePicker.Calendar monthOffset={1} />
        </div>
      </DateRangePicker.Content>
    </DateRangePicker>
  );
});
```

#### With Presets

```typescript
const presets = [
  { label: 'Today', range: { start: new Date(), end: new Date() } },
  { label: 'Yesterday', range: { /* ... */ } },
  { label: 'Last 7 days', range: { /* ... */ } },
  { label: 'Last 30 days', range: { /* ... */ } },
  { label: 'This month', range: { /* ... */ } },
];

const Example = defineComponent(() => {
  return () => (
    <DateRangePicker presets={presets}>
      {/* ... */}
    </DateRangePicker>
  );
});
```

#### API

**`<DateRangePicker>`** - Root component
- `value?: DateRange` - Controlled value
- `onValueChange?: (value: DateRange) => void` - Value change callback
- `defaultValue?: DateRange` - Default value (uncontrolled)
- `min?: Date` - Minimum selectable date
- `max?: Date` - Maximum selectable date
- `numberOfMonths?: number` - Months to display (default: 2)
- `disabled?: boolean` - Whether picker is disabled
- `closeOnSelect?: boolean` - Close on range selection (default: true)

**`<DateRangePicker.Trigger>`** - Trigger button to open picker

**`<DateRangePicker.Content>`** - Content container for calendars

**`<DateRangePicker.Calendar>`** - Calendar display
- `monthOffset?: number` - Month offset (0 for first, 1 for second, etc.)

**`<DateRangePicker.Preset>`** - Preset range button
- `range: DateRange` - Preset date range

---

### FileUpload

File upload component with drag & drop support, file validation, and preview capabilities.

#### Features

- Drag and drop file upload
- Click to browse file selection
- Multiple file upload support
- File type restrictions (accept attribute)
- File size validation
- File count limits
- Image preview support
- Upload progress tracking
- Controlled and uncontrolled modes

#### Basic Usage

```typescript
import { defineComponent, signal } from 'aether';
import { FileUpload } from 'aether/primitives';

const Example = defineComponent(() => {
  const files = signal<File[]>([]);

  const handleFilesAdded = (newFiles: File[]) => {
    console.log('Files added:', newFiles);
  };

  const handleFilesRejected = (rejections: FileRejection[]) => {
    console.error('Files rejected:', rejections);
  };

  return () => (
    <FileUpload
      value={files()}
      onValueChange={files}
      accept="image/*"
      multiple
      maxSize={5 * 1024 * 1024} // 5MB
      maxFiles={3}
      onFilesAdded={handleFilesAdded}
      onFilesRejected={handleFilesRejected}
    >
      <FileUpload.Dropzone class="dropzone">
        <div class="dropzone-content">
          <p>Drag and drop files here, or click to browse</p>
          <FileUpload.Trigger class="browse-button">
            Browse Files
          </FileUpload.Trigger>
        </div>
      </FileUpload.Dropzone>

      <div class="file-list">
        {files().map(file => (
          <FileUpload.Item key={file.name} file={file}>
            <span>{file.name}</span>
            <span>{(file.size / 1024).toFixed(2)} KB</span>
            <FileUpload.ItemRemove file={file}>
              Remove
            </FileUpload.ItemRemove>
          </FileUpload.Item>
        ))}
      </div>
    </FileUpload>
  );
});
```

#### With Image Previews

```typescript
const Example = defineComponent(() => {
  return () => (
    <FileUpload accept="image/*" multiple>
      <FileUpload.Dropzone>
        Drop images here
      </FileUpload.Dropzone>

      <div class="preview-grid">
        {files().map(file => (
          <FileUpload.Item key={file.name} file={file}>
            {file.preview && (
              <img src={file.preview} alt={file.name} />
            )}
            <FileUpload.ItemRemove file={file} />
          </FileUpload.Item>
        ))}
      </div>
    </FileUpload>
  );
});
```

#### API

**`<FileUpload>`** - Root component
- `value?: File[]` - Controlled files value
- `onValueChange?: (files: File[]) => void` - Value change callback
- `defaultValue?: File[]` - Default value (uncontrolled)
- `accept?: string` - Accepted file types (e.g., "image/*", ".pdf,.doc")
- `multiple?: boolean` - Allow multiple files (default: false)
- `maxSize?: number` - Maximum file size in bytes
- `maxFiles?: number` - Maximum number of files
- `disabled?: boolean` - Whether upload is disabled
- `onFilesAdded?: (files: File[]) => void` - Called when files added
- `onFilesRejected?: (rejections: FileRejection[]) => void` - Called when files rejected
- `validator?: (file: File) => string | null` - Custom file validator

**`<FileUpload.Trigger>`** - Button to open file browser

**`<FileUpload.Dropzone>`** - Drag and drop zone (also opens file browser on click)

**`<FileUpload.Item>`** - File item display
- `file: File` - File to display

**`<FileUpload.ItemRemove>`** - Button to remove a file
- `file: File` - File to remove

---

### RangeSlider

**Slider component with two thumbs for selecting a value range.**

**Features:**
- Dual thumb slider for min/max range selection
- Keyboard navigation (arrows, Page Up/Down, Home, End)
- Min/max value constraints and minimum distance between thumbs
- Step increments with automatic value snapping
- Vertical and horizontal orientation
- Disabled state support
- Controlled and uncontrolled modes
- ARIA support with proper role and value announcements

**Basic Usage:**

```tsx
<RangeSlider
  defaultValue={{ min: 20, max: 80 }}
  min={0}
  max={100}
  step={5}
  onValueChange={(value) => console.log(value)}
>
  <RangeSlider.Track>
    <RangeSlider.Range />
    <RangeSlider.Thumb position="min" />
    <RangeSlider.Thumb position="max" />
  </RangeSlider.Track>
</RangeSlider>
```

**Advanced Usage:**

```tsx
// Price range filter with minimum distance
<RangeSlider
  value={priceRange()}
  onValueChange={setPriceRange}
  min={0}
  max={1000}
  step={10}
  minDistance={50}
  orientation="horizontal"
>
  <div class="range-slider-container">
    <RangeSlider.Track class="track">
      <RangeSlider.Range class="range" />
      <RangeSlider.Thumb position="min" class="thumb">
        <div class="thumb-label">${priceRange().min}</div>
      </RangeSlider.Thumb>
      <RangeSlider.Thumb position="max" class="thumb">
        <div class="thumb-label">${priceRange().max}</div>
      </RangeSlider.Thumb>
    </RangeSlider.Track>
    <div class="range-values">
      <span>Min: ${priceRange().min}</span>
      <span>Max: ${priceRange().max}</span>
    </div>
  </div>
</RangeSlider>
```

**API:**

**`<RangeSlider>`** - Root container
- `value?: { min: number, max: number }` - Controlled value
- `onValueChange?: (value: RangeValue) => void` - Value change callback
- `defaultValue?: { min: number, max: number }` - Default value (uncontrolled)
- `min?: number` - Minimum allowed value (default: 0)
- `max?: number` - Maximum allowed value (default: 100)
- `step?: number` - Step increment (default: 1)
- `orientation?: 'horizontal' | 'vertical'` - Orientation (default: 'horizontal')
- `disabled?: boolean` - Disabled state
- `minDistance?: number` - Minimum distance between thumbs (default: 0)

**`<RangeSlider.Track>`** - Slider track container

**`<RangeSlider.Range>`** - Visual range indicator (automatically positioned between thumbs)

**`<RangeSlider.Thumb>`** - Draggable thumb
- `position: 'min' | 'max'` - Which thumb (required)

---

### MultiSelect

**Select component that allows multiple value selection with search and filtering.**

**Features:**
- Multiple value selection with checkboxes
- Search/filter options in real-time
- Select all / Clear all actions
- Maximum selections limit
- Keyboard navigation for accessibility
- Item indicators for selected state
- Controlled and uncontrolled modes
- ARIA multi-select support

**Basic Usage:**

```tsx
<MultiSelect
  defaultValue={['option1', 'option3']}
  onValueChange={(values) => console.log(values)}
>
  <MultiSelect.Trigger>
    <MultiSelect.Value placeholder="Select items..." />
  </MultiSelect.Trigger>

  <MultiSelect.Content>
    <MultiSelect.Search placeholder="Search..." />
    <MultiSelect.Actions />

    <MultiSelect.Item value="option1">
      <MultiSelect.ItemIndicator />
      Option 1
    </MultiSelect.Item>
    <MultiSelect.Item value="option2">
      <MultiSelect.ItemIndicator />
      Option 2
    </MultiSelect.Item>
    <MultiSelect.Item value="option3">
      <MultiSelect.ItemIndicator />
      Option 3
    </MultiSelect.Item>
  </MultiSelect.Content>
</MultiSelect>
```

**Advanced Usage:**

```tsx
// User permissions multi-select with max limit
<MultiSelect
  value={selectedPermissions()}
  onValueChange={setSelectedPermissions}
  maxSelections={5}
  searchable={true}
  searchPlaceholder="Search permissions..."
>
  <MultiSelect.Trigger class="permissions-trigger">
    <MultiSelect.Value placeholder="Select up to 5 permissions">
      {selectedPermissions().length} permissions selected
    </MultiSelect.Value>
  </MultiSelect.Trigger>

  <MultiSelect.Content class="permissions-dropdown">
    <MultiSelect.Search />
    <MultiSelect.Actions>
      <button onClick={() => context.selectAll()}>Select Max</button>
      <button onClick={() => context.clearAll()}>Clear</button>
    </MultiSelect.Actions>

    <For each={permissions}>
      {(permission) => (
        <MultiSelect.Item
          value={permission.id}
          disabled={permission.restricted}
        >
          <MultiSelect.ItemIndicator>✓</MultiSelect.ItemIndicator>
          <div>
            <div class="permission-name">{permission.name}</div>
            <div class="permission-desc">{permission.description}</div>
          </div>
        </MultiSelect.Item>
      )}
    </For>
  </MultiSelect.Content>
</MultiSelect>
```

**API:**

**`<MultiSelect>`** - Root container
- `value?: string[]` - Controlled selected values
- `onValueChange?: (value: string[]) => void` - Value change callback
- `defaultValue?: string[]` - Default value (uncontrolled)
- `placeholder?: string` - Placeholder text
- `disabled?: boolean` - Disabled state
- `maxSelections?: number` - Maximum selections (0 = unlimited)
- `searchable?: boolean` - Whether to show search input
- `searchPlaceholder?: string` - Search placeholder text

**`<MultiSelect.Trigger>`** - Trigger button to open dropdown

**`<MultiSelect.Value>`** - Display selected values
- `placeholder?: string` - Placeholder when no items selected

**`<MultiSelect.Content>`** - Dropdown content

**`<MultiSelect.Search>`** - Search input (only shown if searchable=true)
- `placeholder?: string` - Search placeholder

**`<MultiSelect.Item>`** - Selectable item
- `value: string` - Item value (required)
- `disabled?: boolean` - Disabled state

**`<MultiSelect.ItemIndicator>`** - Checkbox indicator for selected state

**`<MultiSelect.Actions>`** - Select all/Clear all action buttons

---

### TagsInput

**Input component for creating multiple tags/chips with keyboard support.**

**Features:**
- Create tags by typing and pressing Enter or comma
- Delete tags with Backspace key
- Paste support (automatically splits by delimiter)
- Max tags limit with validation
- Duplicate prevention
- Custom tag validation
- Keyboard navigation
- Controlled and uncontrolled modes
- ARIA support for tag list

**Basic Usage:**

```tsx
<TagsInput
  defaultValue={['tag1', 'tag2']}
  onValueChange={(tags) => console.log(tags)}
>
  <div class="tags-container">
    <For each={context.tags()}>
      {(tag) => (
        <TagsInput.Tag value={tag}>
          {tag}
          <TagsInput.TagRemove value={tag} />
        </TagsInput.Tag>
      )}
    </For>
    <TagsInput.Field placeholder="Add tag..." />
  </div>
</TagsInput>
```

**Advanced Usage:**

```tsx
// Email tags input with validation
<TagsInput
  value={emails()}
  onValueChange={setEmails}
  maxTags={10}
  allowDuplicates={false}
  delimiter={[',', ';', 'Enter']}
  validator={(tag) => {
    if (!/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/.test(tag)) {
      return 'Invalid email format';
    }
    return null;
  }}
  onValidationError={(tag, error) => {
    showToast({ title: 'Invalid Email', description: error });
  }}
  onTagAdd={(tag) => console.log('Added:', tag)}
  onTagRemove={(tag) => console.log('Removed:', tag)}
>
  <div class="email-tags-input">
    <div class="tags-list">
      <For each={emails()}>
        {(email) => (
          <TagsInput.Tag value={email} class="email-tag">
            <span class="email-icon">📧</span>
            {email}
            <TagsInput.TagRemove value={email} class="remove-btn">
              ×
            </TagsInput.TagRemove>
          </TagsInput.Tag>
        )}
      </For>
    </div>
    <TagsInput.Field
      placeholder={
        context.canAddMore()
          ? 'Enter email address...'
          : `Max ${maxTags} emails`
      }
      class="email-input"
    />
    <div class="tag-counter">
      {emails().length} / {maxTags} emails
    </div>
  </div>
</TagsInput>
```

**API:**

**`<TagsInput>`** - Root container
- `value?: string[]` - Controlled tags array
- `onValueChange?: (value: string[]) => void` - Value change callback
- `defaultValue?: string[]` - Default value (uncontrolled)
- `placeholder?: string` - Input placeholder text
- `delimiter?: string | string[]` - Tag delimiter (default: Enter and comma)
- `maxTags?: number` - Maximum number of tags (0 = unlimited)
- `allowDuplicates?: boolean` - Allow duplicate tags (default: false)
- `disabled?: boolean` - Disabled state
- `validator?: (tag: string) => string | null` - Custom validator
- `onTagAdd?: (tag: string) => void` - Called when tag is added
- `onTagRemove?: (tag: string) => void` - Called when tag is removed
- `onValidationError?: (tag: string, error: string) => void` - Validation error callback

**`<TagsInput.Field>`** - Input field for creating new tags
- `placeholder?: string` - Placeholder text

**`<TagsInput.Tag>`** - Tag/chip display
- `value: string` - Tag value (required)

**`<TagsInput.TagRemove>`** - Button to remove a tag
- `value: string` - Tag to remove (required)

---

### ColorPicker

**Color selection component with visual picker and multiple format support.**

**Features:**
- Visual color picker with saturation/brightness area
- Hue slider for color selection
- Optional alpha/opacity slider
- HEX, RGB, HSL input formats
- Preset colors support
- Full HSL color space with conversion utilities
- Eyedropper tool support (where available)
- Controlled and uncontrolled modes
- ARIA support for sliders

**Basic Usage:**

```tsx
<ColorPicker
  defaultValue={{ h: 210, s: 100, l: 50, a: 1 }}
  onValueChange={(color) => console.log(color)}
>
  <ColorPicker.Trigger />

  <ColorPicker.Content>
    <ColorPicker.Area />
    <ColorPicker.HueSlider />
    <ColorPicker.AlphaSlider />
  </ColorPicker.Content>
</ColorPicker>
```

**Advanced Usage:**

```tsx
// Theme color picker with presets
<ColorPicker
  value={themeColor()}
  onValueChange={setThemeColor}
  showAlpha={true}
  format="hex"
>
  <ColorPicker.Trigger class="color-trigger">
    <div
      class="color-preview"
      style={{ background: context.toHex() }}
    />
    <span>{context.toHex()}</span>
  </ColorPicker.Trigger>

  <ColorPicker.Content class="color-picker-panel">
    <div class="picker-area">
      <ColorPicker.Area class="saturation-brightness" />
    </div>

    <div class="sliders">
      <div class="slider-row">
        <label>Hue</label>
        <ColorPicker.HueSlider class="hue-slider" />
      </div>

      <div class="slider-row">
        <label>Alpha</label>
        <ColorPicker.AlphaSlider class="alpha-slider" />
      </div>
    </div>

    <div class="color-values">
      <div class="value-group">
        <label>HEX</label>
        <input value={context.toHex()} readOnly />
      </div>
      <div class="value-group">
        <label>RGB</label>
        <input value={context.toRgb()} readOnly />
      </div>
      <div class="value-group">
        <label>HSL</label>
        <input value={context.toHsl()} readOnly />
      </div>
    </div>

    <div class="presets">
      <h4>Presets</h4>
      <div class="preset-grid">
        <For each={colorPresets}>
          {(preset) => (
            <ColorPicker.Preset color={preset.value}>
              <div
                class="preset-swatch"
                style={{ background: preset.value }}
                title={preset.name}
              />
            </ColorPicker.Preset>
          )}
        </For>
      </div>
    </div>
  </ColorPicker.Content>
</ColorPicker>
```

**API:**

**`<ColorPicker>`** - Root container
- `value?: ColorValue` - Controlled value ({ h, s, l, a })
- `onValueChange?: (value: ColorValue) => void` - Value change callback
- `defaultValue?: ColorValue` - Default value (uncontrolled)
- `showAlpha?: boolean` - Whether to show alpha slider (default: false)
- `format?: 'hex' | 'rgb' | 'hsl'` - Display format (default: 'hex')
- `presets?: string[]` - Preset color values
- `disabled?: boolean` - Disabled state

**`<ColorPicker.Trigger>`** - Trigger button to open picker

**`<ColorPicker.Content>`** - Picker content panel

**`<ColorPicker.Area>`** - Saturation/brightness picker area (draggable)

**`<ColorPicker.HueSlider>`** - Hue selection slider

**`<ColorPicker.AlphaSlider>`** - Alpha/opacity slider (only shown if showAlpha=true)

**`<ColorPicker.Preset>`** - Preset color swatch
- `color: string` - Preset color value (hex, rgb, or hsl)

---

### Drawer

**Overlay panel that slides in from the edge of the screen, optimized for mobile.**

**Features:**
- Slides from top, right, bottom, or left edges
- Modal and non-modal modes
- Focus trap and restoration
- Scroll locking when open
- Swipe to close support on touch devices
- Keyboard support (Escape to close)
- Close on outside click option
- Controlled and uncontrolled modes
- ARIA dialog support

**Basic Usage:**

```tsx
<Drawer defaultOpen={false}>
  <Drawer.Trigger>Open Drawer</Drawer.Trigger>

  <Drawer.Overlay />

  <Drawer.Content>
    <Drawer.Title>Drawer Title</Drawer.Title>
    <Drawer.Description>
      This is a drawer that slides from the side
    </Drawer.Description>

    <p>Drawer content goes here...</p>

    <Drawer.Close>Close</Drawer.Close>
  </Drawer.Content>
</Drawer>
```

**Advanced Usage:**

```tsx
// Mobile menu drawer with navigation
<Drawer
  open={isMenuOpen()}
  onOpenChange={setMenuOpen}
  side="left"
  modal={true}
  closeOnOutsideClick={true}
  closeOnEscape={true}
>
  <Drawer.Trigger class="menu-button">
    <MenuIcon />
  </Drawer.Trigger>

  <Drawer.Overlay class="drawer-overlay" />

  <Drawer.Content class="mobile-menu">
    <div class="menu-header">
      <Drawer.Title class="menu-title">Menu</Drawer.Title>
      <Drawer.Close class="close-button">×</Drawer.Close>
    </div>

    <nav class="menu-nav">
      <For each={menuItems}>
        {(item) => (
          <a
            href={item.href}
            onClick={() => {
              navigate(item.href);
              setMenuOpen(false);
            }}
          >
            {item.icon}
            {item.label}
          </a>
        )}
      </For>
    </nav>

    <div class="menu-footer">
      <button onClick={handleLogout}>Logout</button>
    </div>
  </Drawer.Content>
</Drawer>
```

**API:**

**`<Drawer>`** - Root container
- `open?: boolean` - Controlled open state
- `onOpenChange?: (open: boolean) => void` - Open state change callback
- `defaultOpen?: boolean` - Default open state (uncontrolled)
- `side?: 'top' | 'right' | 'bottom' | 'left'` - Slide direction (default: 'right')
- `modal?: boolean` - Modal mode blocks interaction behind (default: true)
- `closeOnOutsideClick?: boolean` - Close when clicking outside (default: true)
- `closeOnEscape?: boolean` - Close on Escape key (default: true)

**`<Drawer.Trigger>`** - Button to open the drawer

**`<Drawer.Overlay>`** - Backdrop overlay (only shown in modal mode)

**`<Drawer.Content>`** - Drawer content panel (slides in from specified side)

**`<Drawer.Title>`** - Drawer title (required for accessibility)

**`<Drawer.Description>`** - Drawer description

**`<Drawer.Close>`** - Button to close the drawer

---

### Editable

**Inline text editing component with click-to-edit pattern.**

**Features:**
- Click to edit pattern for inline editing
- Enter to submit, Escape to cancel
- Auto-focus on edit mode with text selection
- Submit on blur option
- Custom validation support
- Preview and edit states
- Controlled and uncontrolled modes
- ARIA support for editable content

**Basic Usage:**

```tsx
<Editable defaultValue="Click to edit">
  <Editable.Preview />
  <Editable.Input />
  <Editable.Controls>
    <Editable.Submit />
    <Editable.Cancel />
  </Editable.Controls>
</Editable>
```

**Advanced Usage:**

```tsx
// Inline title editor with validation
<Editable
  value={title()}
  onValueChange={setTitle}
  placeholder="Enter title..."
  submitOnBlur={false}
  selectOnFocus={true}
  validator={(value) => {
    if (value.length < 3) return false;
    if (value.length > 100) return false;
    return true;
  }}
  onEdit={() => console.log('Started editing')}
  onSubmit={(value) => {
    saveTitle(value);
    showToast({ title: 'Title saved!' });
  }}
  onCancel={() => console.log('Cancelled editing')}
>
  <div class="editable-container">
    <Editable.Preview class="title-preview">
      {title() || 'No title set'}
    </Editable.Preview>

    <Editable.Input
      class="title-input"
      placeholder="Enter title..."
    />

    <Editable.Controls class="edit-controls">
      <Editable.Submit class="btn-submit">
        <CheckIcon /> Save
      </Editable.Submit>
      <Editable.Cancel class="btn-cancel">
        <XIcon /> Cancel
      </Editable.Cancel>
    </Editable.Controls>
  </div>

  <Show when={title().length > 0}>
    <div class="character-count">
      {title().length} / 100 characters
    </div>
  </Show>
</Editable>
```

**API:**

**`<Editable>`** - Root container
- `value?: string` - Controlled value
- `onValueChange?: (value: string) => void` - Value change callback
- `defaultValue?: string` - Default value (uncontrolled)
- `placeholder?: string` - Placeholder text
- `disabled?: boolean` - Disabled state
- `startWithEditView?: boolean` - Start in edit mode (default: false)
- `submitOnBlur?: boolean` - Submit when input loses focus (default: true)
- `selectOnFocus?: boolean` - Select text on focus (default: true)
- `validator?: (value: string) => boolean` - Custom validator
- `onEdit?: () => void` - Called when editing starts
- `onSubmit?: (value: string) => void` - Called on submit
- `onCancel?: () => void` - Called on cancel

**`<Editable.Preview>`** - Preview state (shown when not editing)

**`<Editable.Input>`** - Input field (shown when editing)

**`<Editable.Controls>`** - Edit controls container

**`<Editable.Submit>`** - Submit button

**`<Editable.Cancel>`** - Cancel button

---

### NumberInput

**Numeric input with increment/decrement controls and keyboard support.**

**Features:**
- Increment and decrement buttons
- Keyboard support (arrows, Page Up/Down, Home/End)
- Min/max value constraints
- Step increments with precision control
- Format options (decimal, currency, percentage)
- Mouse wheel support (optional)
- Clamp value on blur
- Controlled and uncontrolled modes
- ARIA spinbutton support

**Basic Usage:**

```tsx
<NumberInput
  defaultValue={0}
  min={0}
  max={100}
  step={1}
  onValueChange={(value) => console.log(value)}
>
  <NumberInput.Field />
  <NumberInput.Increment />
  <NumberInput.Decrement />
</NumberInput>
```

**Advanced Usage:**

```tsx
// Price input with currency formatting
<NumberInput
  value={price()}
  onValueChange={setPrice}
  min={0}
  max={9999.99}
  step={0.01}
  precision={2}
  format="currency"
  allowMouseWheel={true}
  clampValueOnBlur={true}
  keepWithinRange={true}
>
  <div class="price-input-container">
    <label>Product Price</label>

    <div class="number-input-group">
      <NumberInput.Field
        class="price-field"
        aria-label="Product price"
      />

      <div class="stepper-buttons">
        <NumberInput.Increment class="btn-increment">
          ▲
        </NumberInput.Increment>
        <NumberInput.Decrement class="btn-decrement">
          ▼
        </NumberInput.Decrement>
      </div>
    </div>

    <div class="price-info">
      <span>Range: $0.00 - $9,999.99</span>
      <span>Step: $0.01</span>
    </div>
  </div>
</NumberInput>

// Quantity selector for cart
<NumberInput
  value={quantity()}
  onValueChange={setQuantity}
  min={1}
  max={stock()}
  step={1}
  precision={0}
  readonly={outOfStock()}
>
  <div class="quantity-selector">
    <NumberInput.Decrement class="qty-btn">-</NumberInput.Decrement>
    <NumberInput.Field class="qty-field" />
    <NumberInput.Increment class="qty-btn">+</NumberInput.Increment>
  </div>
  <span class="stock-info">{stock()} in stock</span>
</NumberInput>
```

**API:**

**`<NumberInput>`** - Root container
- `value?: number` - Controlled value
- `onValueChange?: (value: number) => void` - Value change callback
- `defaultValue?: number` - Default value (uncontrolled)
- `min?: number` - Minimum value (default: -Infinity)
- `max?: number` - Maximum value (default: Infinity)
- `step?: number` - Step increment (default: 1)
- `precision?: number` - Decimal places (default: 0)
- `disabled?: boolean` - Disabled state
- `readonly?: boolean` - Readonly state
- `allowMouseWheel?: boolean` - Enable mouse wheel (default: false)
- `clampValueOnBlur?: boolean` - Clamp to min/max on blur (default: true)
- `keepWithinRange?: boolean` - Keep value within bounds (default: true)
- `format?: 'decimal' | 'currency' | 'percentage'` - Display format (default: 'decimal')

**`<NumberInput.Field>`** - Number input field

**`<NumberInput.Increment>`** - Increment button (adds step to value)

**`<NumberInput.Decrement>`** - Decrement button (subtracts step from value)

---

### Empty

**Empty state component for displaying no-data scenarios.**

**Features:**
- Icon support for visual context
- Title and description text
- Action buttons support
- Customizable layout
- Pre-built variants (no-data, no-results, error, custom)
- ARIA live region for status updates

**Basic Usage:**

```tsx
<Empty variant="no-data">
  <Empty.Icon>📭</Empty.Icon>
  <Empty.Title>No data available</Empty.Title>
  <Empty.Description>
    There is no data to display at this time.
  </Empty.Description>
  <Empty.Actions>
    <button onClick={loadData}>Load Data</button>
  </Empty.Actions>
</Empty>
```

**Advanced Usage:**

```tsx
// Search results empty state
<Show
  when={searchResults().length > 0}
  fallback={
    <Empty variant="no-results" class="search-empty">
      <Empty.Icon class="empty-icon">
        <SearchIcon size={64} />
      </Empty.Icon>

      <Empty.Title class="empty-title">
        No results found for "{searchQuery()}"
      </Empty.Title>

      <Empty.Description class="empty-description">
        We couldn't find any results matching your search.
        Try adjusting your search terms or filters.
      </Empty.Description>

      <Empty.Actions class="empty-actions">
        <button onClick={clearSearch} class="btn-secondary">
          Clear Search
        </button>
        <button onClick={showFilters} class="btn-primary">
          Adjust Filters
        </button>
      </Empty.Actions>
    </Empty>
  }
>
  {/* Results content */}
</Show>

// Error state with retry
<Empty variant="error" class="error-state">
  <Empty.Icon>⚠️</Empty.Icon>
  <Empty.Title>Failed to load data</Empty.Title>
  <Empty.Description>
    {errorMessage()}
  </Empty.Description>
  <Empty.Actions>
    <button onClick={retryLoad}>Retry</button>
    <button onClick={goBack}>Go Back</button>
  </Empty.Actions>
</Empty>
```

**API:**

**`<Empty>`** - Root container
- `variant?: 'no-data' | 'no-results' | 'error' | 'custom'` - Visual variant (default: 'no-data')

**`<Empty.Icon>`** - Icon container (typically emoji or SVG)

**`<Empty.Title>`** - Title text (h3 element)

**`<Empty.Description>`** - Description text (p element)

**`<Empty.Actions>`** - Action buttons container

---

### Spinner

**Loading spinner component with multiple variants and sizes.**

**Features:**
- Multiple sizes (xs, sm, md, lg, xl)
- Multiple visual variants (circular, dots, bars)
- Animation speed control (slow, normal, fast)
- Label support for screen readers
- Optional visible label
- Color variants support
- ARIA live region for loading state

**Basic Usage:**

```tsx
<Spinner size="md" variant="circular" label="Loading..." />
```

**Advanced Usage:**

```tsx
// Full-page loading overlay
<Show when={isLoading()}>
  <div class="loading-overlay">
    <div class="loading-content">
      <Spinner
        size="xl"
        variant="circular"
        speed="normal"
        label="Loading application..."
        showLabel={true}
      />
    </div>
  </div>
</Show>

// Inline button loading state
<button disabled={isSaving()}>
  <Show
    when={isSaving()}
    fallback={<>Save Changes</>}
  >
    <Spinner size="sm" variant="dots" label="Saving..." />
    <span>Saving...</span>
  </Show>
</button>

// Data loading indicator
<div class="data-section">
  <Show
    when={!isLoadingData()}
    fallback={
      <div class="data-loading">
        <Spinner
          size="lg"
          variant="bars"
          label="Loading data..."
          showLabel={true}
        />
      </div>
    }
  >
    {/* Data content */}
  </Show>
</div>
```

**API:**

**`<Spinner>`** - Loading spinner
- `size?: 'xs' | 'sm' | 'md' | 'lg' | 'xl'` - Spinner size (default: 'md')
- `variant?: 'circular' | 'dots' | 'bars'` - Visual style (default: 'circular')
- `label?: string` - Accessibility label (default: 'Loading...')
- `speed?: 'slow' | 'normal' | 'fast'` - Animation speed (default: 'normal')
- `showLabel?: boolean` - Show label visibly (default: false)

---

### Timeline

**Timeline/activity feed component for displaying chronological events.**

**Features:**
- Vertical and horizontal orientations
- Item markers (dots, icons, or custom content)
- Connecting lines between timeline items
- Item status states (pending, active, completed, error)
- Timestamps and descriptions support
- Custom content for each item
- ARIA list structure

**Basic Usage:**

```tsx
<Timeline orientation="vertical">
  <Timeline.Item status="completed">
    <Timeline.Marker />
    <Timeline.Connector />
    <Timeline.Content>
      <Timeline.Title>Event 1</Timeline.Title>
      <Timeline.Description>Event description</Timeline.Description>
      <Timeline.Timestamp>2 hours ago</Timeline.Timestamp>
    </Timeline.Content>
  </Timeline.Item>

  <Timeline.Item status="active">
    <Timeline.Marker />
    <Timeline.Connector />
    <Timeline.Content>
      <Timeline.Title>Event 2</Timeline.Title>
      <Timeline.Description>Current event</Timeline.Description>
      <Timeline.Timestamp>Just now</Timeline.Timestamp>
    </Timeline.Content>
  </Timeline.Item>

  <Timeline.Item status="pending">
    <Timeline.Marker />
    <Timeline.Content>
      <Timeline.Title>Event 3</Timeline.Title>
      <Timeline.Description>Upcoming event</Timeline.Description>
      <Timeline.Timestamp>In 1 hour</Timeline.Timestamp>
    </Timeline.Content>
  </Timeline.Item>
</Timeline>
```

**Advanced Usage:**

```tsx
// Order tracking timeline with custom icons
<Timeline orientation="vertical" class="order-timeline">
  <For each={orderEvents()}>
    {(event, index) => (
      <Timeline.Item status={event.status} class="order-event">
        <Timeline.Marker class="event-marker">
          <Show when={event.icon} fallback={<div class="marker-dot" />}>
            <img src={event.icon} alt={event.title} />
          </Show>
        </Timeline.Marker>

        <Show when={index() < orderEvents().length - 1}>
          <Timeline.Connector class="event-connector" />
        </Show>

        <Timeline.Content class="event-content">
          <div class="event-header">
            <Timeline.Title class="event-title">
              {event.title}
            </Timeline.Title>
            <Timeline.Timestamp class="event-time">
              {formatDate(event.timestamp)}
            </Timeline.Timestamp>
          </div>

          <Timeline.Description class="event-description">
            {event.description}
          </Timeline.Description>

          <Show when={event.details}>
            <div class="event-details">
              <For each={event.details}>
                {(detail) => (
                  <div class="detail-item">
                    <span class="detail-label">{detail.label}:</span>
                    <span class="detail-value">{detail.value}</span>
                  </div>
                )}
              </For>
            </div>
          </Show>
        </Timeline.Content>
      </Timeline.Item>
    )}
  </For>
</Timeline>

// Activity feed with user avatars
<Timeline orientation="vertical" class="activity-feed">
  <For each={activities()}>
    {(activity) => (
      <Timeline.Item status={getActivityStatus(activity)}>
        <Timeline.Marker class="activity-marker">
          <Avatar>
            <Avatar.Image src={activity.user.avatar} />
            <Avatar.Fallback>{activity.user.initials}</Avatar.Fallback>
          </Avatar>
        </Timeline.Marker>

        <Timeline.Connector />

        <Timeline.Content class="activity-content">
          <Timeline.Title>
            <strong>{activity.user.name}</strong> {activity.action}
          </Timeline.Title>

          <Timeline.Description>
            {activity.description}
          </Timeline.Description>

          <Timeline.Timestamp>
            {formatRelativeTime(activity.timestamp)}
          </Timeline.Timestamp>

          <Show when={activity.attachment}>
            <div class="activity-attachment">
              {renderAttachment(activity.attachment)}
            </div>
          </Show>
        </Timeline.Content>
      </Timeline.Item>
    )}
  </For>
</Timeline>
```

**API:**

**`<Timeline>`** - Root container
- `orientation?: 'vertical' | 'horizontal'` - Timeline direction (default: 'vertical')

**`<Timeline.Item>`** - Timeline item
- `status?: 'pending' | 'active' | 'completed' | 'error'` - Item status (default: 'pending')

**`<Timeline.Marker>`** - Item marker (dot, icon, or custom content)

**`<Timeline.Connector>`** - Line connecting items

**`<Timeline.Content>`** - Item content container

**`<Timeline.Title>`** - Item title (h4 element)

**`<Timeline.Description>`** - Item description (p element)

**`<Timeline.Timestamp>`** - Item timestamp (time element)

---

### Resizable

Split panes with draggable resize handles for flexible layouts.

#### Features

- Horizontal and vertical split layouts
- Draggable resize handles
- Min/max size constraints
- Controlled and uncontrolled modes
- Multiple panels support
- Keyboard accessible
- Touch-friendly

#### Basic Usage

```typescript
import { defineComponent } from 'aether';
import { Resizable } from 'aether/primitives';

const Example222 = defineComponent(() => {
  return () => (
    <Resizable orientation="horizontal" defaultSizes={[50, 50]}>
      <Resizable.Panel minSize={20} maxSize={80}>
        <div class="panel-content">Left Panel</div>
      </Resizable.Panel>

      <Resizable.Handle />

      <Resizable.Panel>
        <div class="panel-content">Right Panel</div>
      </Resizable.Panel>
    </Resizable>
  );
});
```

#### Advanced Usage

```typescript
// Controlled mode with size persistence
const Example223 = defineComponent(() => {
  const sizes = signal([30, 70]);

  const handleSizesChange = (newSizes: number[]) => {
    sizes.set(newSizes);
    localStorage.setItem('panel-sizes', JSON.stringify(newSizes));
  };

  return () => (
    <Resizable
      orientation="vertical"
      sizes={sizes()}
      onSizesChange={handleSizesChange}
    >
      <Resizable.Panel id="header" minSize={10}>
        <header>Header Content</header>
      </Resizable.Panel>

      <Resizable.Handle />

      <Resizable.Panel id="main">
        <main>Main Content</main>
      </Resizable.Panel>

      <Resizable.Handle />

      <Resizable.Panel id="footer" minSize={10} maxSize={30}>
        <footer>Footer Content</footer>
      </Resizable.Panel>
    </Resizable>
  );
});
```

**API:**

**`<Resizable>`** - Root container
- `sizes?: number[]` - Controlled panel sizes (percentages)
- `onSizesChange?: (sizes: number[]) => void` - Size change callback
- `defaultSizes?: number[]` - Initial sizes (uncontrolled)
- `orientation?: 'horizontal' | 'vertical'` - Layout direction (default: 'horizontal')

**`<Resizable.Panel>`** - Resizable panel
- `id?: string` - Panel identifier
- `minSize?: number` - Minimum size percentage
- `maxSize?: number` - Maximum size percentage

**`<Resizable.Handle>`** - Draggable resize handle
- `disabled?: boolean` - Disable resizing

---

### VirtualList

Virtualized list for efficiently rendering large datasets by only rendering visible items.

#### Features

- Window/scroll virtualization for performance
- Dynamic item heights support
- Overscan for smooth scrolling
- Horizontal and vertical scrolling
- Scroll to index/offset
- Infinite scroll support
- Item measurement and caching
- ARIA support

#### Basic Usage

```typescript
import { defineComponent, signal } from 'aether';
import { VirtualList } from 'aether/primitives';

const Example224 = defineComponent(() => {
  const items = signal(Array.from({ length: 10000 }, (_, i) => ({
    id: i,
    title: `Item ${i}`,
    description: `Description for item ${i}`
  })));

  return () => (
    <VirtualList
      count={items().length}
      height={600}
      itemSize={80}
      overscan={5}
    >
      {(index) => {
        const item = items()[index];
        return (
          <div class="virtual-item">
            <h3>{item.title}</h3>
            <p>{item.description}</p>
          </div>
        );
      }}
    </VirtualList>
  );
});
```

#### Advanced Usage - Dynamic Heights

```typescript
// Variable height items
const Example225 = defineComponent(() => {
  const items = signal(generateLargeDataset(10000));

  const getItemSize = (index: number) => {
    const item = items()[index];
    // Estimate height based on content
    return item.description.length > 100 ? 120 : 80;
  };

  return () => (
    <VirtualList
      count={items().length}
      height="100vh"
      itemSize={getItemSize}
      overscan={3}
      direction="vertical"
    >
      {(index) => {
        const item = items()[index];
        return (
          <div class="dynamic-item">
            <h3>{item.title}</h3>
            <p>{item.description}</p>
            <Show when={item.tags}>
              <div class="tags">
                <For each={item.tags}>
                  {(tag) => <span class="tag">{tag}</span>}
                </For>
              </div>
            </Show>
          </div>
        );
      }}
    </VirtualList>
  );
});
```

**API:**

**`<VirtualList>`** - Virtual list container
- `count: number` - Total number of items
- `children: (index: number) => any` - Item renderer function
- `height?: number | string` - Container height (required for vertical)
- `width?: number | string` - Container width (required for horizontal)
- `itemSize: number | ((index: number) => number)` - Fixed size or estimator function
- `overscan?: number` - Items to render outside viewport (default: 3)
- `direction?: 'vertical' | 'horizontal'` - Scroll direction (default: 'vertical')
- `scrollToIndex?: number` - Scroll to specific index
- `scrollBehavior?: ScrollBehavior` - Scroll behavior
- `onScroll?: (scrollOffset: number) => void` - Scroll callback

---

### Image

Advanced image component with lazy loading, fallback support, and loading states.

#### Features

- Lazy loading with Intersection Observer
- Loading states (idle, loading, loaded, error)
- Fallback image support
- Object-fit modes (cover, contain, fill, etc.)
- Custom placeholder while loading
- Error handling with retry
- ARIA support for accessibility

#### Basic Usage

```typescript
import { defineComponent } from 'aether';
import { Image } from 'aether/primitives';

const Example226 = defineComponent(() => {
  return () => (
    <Image
      src="/images/hero.jpg"
      alt="Hero image"
      fallbackSrc="/images/placeholder.jpg"
      fit="cover"
      lazy={true}
      class="hero-image"
    />
  );
});
```

#### Advanced Usage

```typescript
// With loading states and error handling
const Example227 = defineComponent(() => {
  const handleLoad = () => {
    console.log('Image loaded successfully');
  };

  const handleError = (error: Event) => {
    console.error('Failed to load image:', error);
  };

  return () => (
    <Image
      src="/images/large-photo.jpg"
      alt="Large photo"
      fallbackSrc="/images/error-placeholder.jpg"
      fit="contain"
      lazy={true}
      onLoad={handleLoad}
      onError={handleError}
      style={{
        width: '100%',
        height: 'auto',
        borderRadius: '8px'
      }}
    />
  );
});

// Gallery with lazy loading
const Example228 = defineComponent(() => {
  const images = signal([
    { id: 1, src: '/gallery/1.jpg', alt: 'Photo 1' },
    { id: 2, src: '/gallery/2.jpg', alt: 'Photo 2' },
    { id: 3, src: '/gallery/3.jpg', alt: 'Photo 3' },
    // ... more images
  ]);

  return () => (
    <div class="gallery-grid">
      <For each={images()}>
        {(image) => (
          <Image
            src={image.src}
            alt={image.alt}
            fallbackSrc="/placeholder.jpg"
            fit="cover"
            lazy={true}
            class="gallery-item"
          />
        )}
      </For>
    </div>
  );
});
```

**API:**

**`<Image>`** - Image component
- `src: string` - Image source URL
- `alt: string` - Alternative text
- `fallbackSrc?: string` - Fallback image on error
- `fit?: 'fill' | 'contain' | 'cover' | 'none' | 'scale-down'` - Object-fit mode (default: 'cover')
- `lazy?: boolean` - Enable lazy loading (default: true)
- `onLoad?: () => void` - Load success callback
- `onError?: (error: Event) => void` - Load error callback

---

### Mentions

@mentions autocomplete component for text inputs with search and keyboard navigation.

#### Features

- Autocomplete with search
- Keyboard navigation
- Custom trigger characters (@, #, etc.)
- Position-aware popup
- Mention selection handling
- Custom mention rendering
- Filtering support
- ARIA support

#### Basic Usage

```typescript
import { defineComponent, signal } from 'aether';
import { Mentions } from 'aether/primitives';

const Example229 = defineComponent(() => {
  const value = signal('');
  const mentions = [
    { id: '1', display: 'John Doe', value: '@johndoe' },
    { id: '2', display: 'Jane Smith', value: '@janesmith' },
    { id: '3', display: 'Bob Johnson', value: '@bobjohnson' },
  ];

  return () => (
    <Mentions
      value={value()}
      onValueChange={(newValue) => value.set(newValue)}
      data={mentions}
      trigger="@"
      placeholder="Type @ to mention someone..."
    />
  );
});
```

#### Advanced Usage

```typescript
// Multiple triggers with custom filtering
const Example230 = defineComponent(() => {
  const value = signal('');

  const users = [
    { id: '1', display: 'John Doe', avatar: '/avatars/john.jpg' },
    { id: '2', display: 'Jane Smith', avatar: '/avatars/jane.jpg' },
  ];

  const tags = [
    { id: 't1', display: 'javascript', count: 1234 },
    { id: 't2', display: 'typescript', count: 890 },
  ];

  const handleMentionSelect = (mention) => {
    console.log('Selected:', mention);
  };

  return () => (
    <>
      <Mentions
        value={value()}
        onValueChange={(newValue) => value.set(newValue)}
        data={users}
        trigger="@"
        onMentionSelect={handleMentionSelect}
        placeholder="Type @ for users or # for tags..."
      >
        <Mentions.Trigger />
        <Mentions.List>
          <For each={users}>
            {(user) => (
              <Mentions.Item value={user}>
                <div class="mention-item">
                  <img src={user.avatar} alt={user.display} />
                  <span>{user.display}</span>
                </div>
              </Mentions.Item>
            )}
          </For>
        </Mentions.List>
      </Mentions>
    </>
  );
});
```

**API:**

**`<Mentions>`** - Root container
- `value?: string` - Controlled value
- `onValueChange?: (value: string) => void` - Value change callback
- `defaultValue?: string` - Initial value (uncontrolled)
- `data: Mention[]` - Array of mention options
- `trigger?: string` - Trigger character (default: '@')
- `onMentionSelect?: (mention: Mention) => void` - Selection callback
- `placeholder?: string` - Input placeholder

**`<Mentions.Trigger>`** - Trigger input field

**`<Mentions.List>`** - Mentions dropdown list

**`<Mentions.Item>`** - Individual mention item
- `value: Mention` - Mention data

---

### Transfer

Transfer items between two lists with selection, search, and bi-directional transfer.

#### Features

- Dual list box pattern
- Item selection and transfer
- Search/filter support
- Bi-directional transfer
- Custom item rendering
- Batch transfer
- Keyboard navigation
- ARIA support

#### Basic Usage

```typescript
import { defineComponent, signal } from 'aether';
import { Transfer } from 'aether/primitives';

const Example231 = defineComponent(() => {
  const dataSource = [
    { key: '1', title: 'Item 1', description: 'Description 1' },
    { key: '2', title: 'Item 2', description: 'Description 2' },
    { key: '3', title: 'Item 3', description: 'Description 3' },
    { key: '4', title: 'Item 4', description: 'Description 4' },
  ];

  const targetKeys = signal(['2']);

  return () => (
    <Transfer
      dataSource={dataSource}
      targetKeys={targetKeys()}
      onTargetKeysChange={(keys) => targetKeys.set(keys)}
      render={(item) => item.title}
    />
  );
});
```

#### Advanced Usage

```typescript
// With search and custom rendering
const Example232 = defineComponent(() => {
  const allItems = signal([
    { key: '1', title: 'Document.pdf', size: '2.4 MB', type: 'pdf' },
    { key: '2', title: 'Image.png', size: '1.2 MB', type: 'image' },
    { key: '3', title: 'Video.mp4', size: '15.8 MB', type: 'video' },
  ]);

  const selectedKeys = signal([]);

  const renderItem = (item) => (
    <div class="transfer-item">
      <div class="item-icon">{getFileIcon(item.type)}</div>
      <div class="item-details">
        <div class="item-title">{item.title}</div>
        <div class="item-meta">{item.size}</div>
      </div>
    </div>
  );

  const handleChange = (newTargetKeys) => {
    selectedKeys.set(newTargetKeys);
    console.log('Selected items:', newTargetKeys);
  };

  return () => (
    <Transfer
      dataSource={allItems()}
      targetKeys={selectedKeys()}
      onTargetKeysChange={handleChange}
      render={renderItem}
      showSearch={true}
      filterOption={(inputValue, item) =>
        item.title.toLowerCase().includes(inputValue.toLowerCase())
      }
      titles={['Available Files', 'Selected Files']}
    />
  );
});
```

**API:**

**`<Transfer>`** - Root container
- `dataSource: TransferItem[]` - All available items
- `targetKeys?: string[]` - Controlled selected keys
- `onTargetKeysChange?: (keys: string[]) => void` - Selection callback
- `defaultTargetKeys?: string[]` - Initial selection (uncontrolled)
- `render: (item: TransferItem) => any` - Item renderer
- `showSearch?: boolean` - Show search inputs
- `filterOption?: (inputValue: string, item: TransferItem) => boolean` - Custom filter
- `titles?: [string, string]` - List titles

**`<Transfer.Source>`** - Source list container

**`<Transfer.Target>`** - Target list container

**`<Transfer.Controls>`** - Transfer control buttons

---

### Affix

Sticky/fixed positioning component that affixes an element when scrolling.

#### Features

- Auto-affix on scroll
- Configurable offset (top/bottom)
- Scroll event handling
- Position change callbacks
- Smooth transitions
- Window and container scrolling support

#### Basic Usage

```typescript
import { defineComponent } from 'aether';
import { Affix } from 'aether/primitives';

const Example233 = defineComponent(() => {
  return () => (
    <Affix offsetTop={20}>
      <div class="sticky-header">
        <h2>Sticky Header</h2>
        <nav>
          <a href="#section1">Section 1</a>
          <a href="#section2">Section 2</a>
          <a href="#section3">Section 3</a>
        </nav>
      </div>
    </Affix>
  );
});
```

#### Advanced Usage

```typescript
// Affix with state change callback
const Example234 = defineComponent(() => {
  const isAffixed = signal(false);

  const handleChange = (affixed: boolean) => {
    isAffixed.set(affixed);
    console.log('Affix state changed:', affixed);
  };

  return () => (
    <>
      <Affix offsetTop={0} onChange={handleChange}>
        <div class={`toolbar ${isAffixed() ? 'affixed' : ''}`}>
          <button>Action 1</button>
          <button>Action 2</button>
          <button>Action 3</button>
        </div>
      </Affix>

      <div class="content">
        {/* Long content that scrolls */}
      </div>
    </>
  );
});
```

**API:**

**`<Affix>`** - Affix container
- `offsetTop?: number` - Offset from top when affixed
- `offsetBottom?: number` - Offset from bottom when affixed
- `onChange?: (affixed: boolean) => void` - Affix state change callback

---

### Popconfirm

Confirmation dialog displayed in a popover, lightweight alternative to AlertDialog.

#### Features

- Lightweight confirmation pattern
- Popover-based UI
- Confirm/cancel callbacks
- Icon and description support
- Keyboard accessible
- Auto-positioning
- Cancel on outside click

#### Basic Usage

```typescript
import { defineComponent } from 'aether';
import { Popconfirm } from 'aether/primitives';

const Example235 = defineComponent(() => {
  const handleConfirm = async () => {
    await deleteItem();
    notify.success('Item deleted');
  };

  return () => (
    <Popconfirm
      title="Delete this item?"
      description="This action cannot be undone."
      onConfirm={handleConfirm}
    >
      <button class="btn-danger">Delete</button>
    </Popconfirm>
  );
});
```

#### Advanced Usage

```typescript
// Custom confirmation with async handling
const Example236 = defineComponent(() => {
  const loading = signal(false);

  const handleConfirm = async () => {
    loading.set(true);
    try {
      await api.deleteUser(userId);
      notify.success('User deleted successfully');
    } catch (error) {
      notify.error('Failed to delete user');
    } finally {
      loading.set(false);
    }
  };

  const handleCancel = () => {
    console.log('Deletion cancelled');
  };

  return () => (
    <Popconfirm
      title="Delete user account?"
      description="This will permanently delete the user and all associated data."
      onConfirm={handleConfirm}
      onCancel={handleCancel}
      confirmText={loading() ? 'Deleting...' : 'Delete'}
      cancelText="Cancel"
      icon={<WarningIcon />}
    >
      <button class="btn-danger" disabled={loading()}>
        Delete User
      </button>
    </Popconfirm>
  );
});
```

**API:**

**`<Popconfirm>`** - Root container
- `title: string` - Confirmation title
- `description?: string` - Additional description
- `onConfirm?: () => void | Promise<void>` - Confirm callback
- `onCancel?: () => void` - Cancel callback
- `confirmText?: string` - Confirm button text (default: 'Confirm')
- `cancelText?: string` - Cancel button text (default: 'Cancel')
- `icon?: any` - Custom icon

**`<Popconfirm.Trigger>`** - Trigger element

**`<Popconfirm.Title>`** - Confirmation title

**`<Popconfirm.Actions>`** - Action buttons container

---

### Notification

Global notification system for displaying messages with auto-dismiss and stacking.

#### Features

- Global notification API
- Auto-dismiss with duration
- Stacked notifications
- Multiple placements (top-left, top-right, bottom-left, bottom-right)
- Close on click
- Max notification limit
- Custom icons and actions
- ARIA announcements

#### Basic Usage

```typescript
import { notify } from 'aether/primitives';

// Simple notification
notify({
  message: 'Operation completed successfully',
  type: 'success',
  duration: 3000
});

// With title and description
notify({
  title: 'Update Available',
  message: 'A new version of the app is available.',
  type: 'info',
  duration: 5000
});

// Error notification (no auto-dismiss)
notify({
  title: 'Error',
  message: 'Failed to save changes. Please try again.',
  type: 'error',
  duration: 0 // Won't auto-dismiss
});
```

#### Advanced Usage

```typescript
// Notification with custom actions
const Example237 = defineComponent(() => {
  const showUpdateNotification = () => {
    const id = notify({
      title: 'Update Available',
      message: 'Version 2.0 is now available. Would you like to update?',
      type: 'info',
      duration: 0,
      actions: [
        {
          label: 'Update Now',
          onClick: () => {
            window.location.reload();
          }
        },
        {
          label: 'Later',
          onClick: () => {
            closeNotification(id);
          }
        }
      ]
    });
  };

  return () => (
    <button onClick={showUpdateNotification}>
      Check for Updates
    </button>
  );
});

// Notification container with custom placement
const Example238 = defineComponent(() => {
  return () => (
    <Notification placement="top-right" maxCount={3} duration={4000} />
  );
});
```

**API:**

**`notify(options)`** - Show notification
- `message: string` - Notification message
- `title?: string` - Notification title
- `type?: 'success' | 'info' | 'warning' | 'error'` - Notification type
- `duration?: number` - Auto-dismiss duration in ms (0 = no auto-dismiss, default: 4500)
- `icon?: any` - Custom icon
- `actions?: Action[]` - Action buttons

**`closeNotification(id: string)`** - Close specific notification

**`<Notification>`** - Notification container
- `placement?: 'top-left' | 'top-right' | 'bottom-left' | 'bottom-right'` - Position (default: 'top-right')
- `maxCount?: number` - Maximum visible notifications
- `duration?: number` - Default duration

---

### Masonry

Pinterest-style masonry grid layout for displaying items of varying heights.

#### Features

- Multi-column layout
- Auto-positioned items
- Configurable columns and gap
- Responsive column count
- Auto-height calculation
- Resize observer integration
- Smooth animations

#### Basic Usage

```typescript
import { defineComponent, signal } from 'aether';
import { Masonry } from 'aether/primitives';

const Example239 = defineComponent(() => {
  const items = signal([
    { id: 1, content: 'Short item', height: 200 },
    { id: 2, content: 'Medium item', height: 300 },
    { id: 3, content: 'Tall item', height: 400 },
    { id: 4, content: 'Short item', height: 180 },
    // ... more items
  ]);

  return () => (
    <Masonry columns={3} gap={16}>
      <For each={items()}>
        {(item) => (
          <div class="masonry-item" style={{ height: `${item.height}px` }}>
            {item.content}
          </div>
        )}
      </For>
    </Masonry>
  );
});
```

#### Advanced Usage

```typescript
// Responsive masonry grid
const Example240 = defineComponent(() => {
  const photos = signal([
    { id: 1, src: '/photos/1.jpg', caption: 'Beautiful sunset' },
    { id: 2, src: '/photos/2.jpg', caption: 'Mountain view' },
    { id: 3, src: '/photos/3.jpg', caption: 'City lights' },
    // ... more photos
  ]);

  const columns = createMediaQuery({
    '(max-width: 640px)': 1,
    '(max-width: 1024px)': 2,
    '(min-width: 1024px)': 3
  });

  return () => (
    <Masonry columns={columns()} gap={20} class="photo-grid">
      <For each={photos()}>
        {(photo) => (
          <div class="photo-card">
            <img src={photo.src} alt={photo.caption} />
            <div class="photo-caption">{photo.caption}</div>
          </div>
        )}
      </For>
    </Masonry>
  );
});
```

**API:**

**`<Masonry>`** - Masonry grid container
- `columns: number` - Number of columns
- `gap?: number` - Gap between items in pixels (default: 16)

---

### Flex

A flexible layout container that provides flexbox functionality with convenient props.

#### Features

- Flexbox layout with shorthand props
- Direction control (row, column, reverse variants)
- Flexible alignment (justify, align, alignContent)
- Gap/spacing support with row and column gaps
- Wrapping control
- Flex grow, shrink, and basis support
- Inline flex option
- Responsive values support
- Auto pixel conversion for numeric values

#### Basic Usage

```typescript
import { defineComponent } from 'aether';
import { Flex } from 'aether/primitives';

const Example241 = defineComponent(() => {
  return () => (
    <Flex gap={16}>
      <div>Item 1</div>
      <div>Item 2</div>
      <div>Item 3</div>
    </Flex>
  );
});
```

#### Alignment Examples

```typescript
// Centered column layout
const Example242 = defineComponent(() => {
  return () => (
    <Flex direction="column" align="center" justify="center">
      <h1>Centered Content</h1>
      <p>Both horizontally and vertically centered</p>
    </Flex>
  );
});

// Space between with wrapping
const Example243 = defineComponent(() => {
  return () => (
    <Flex justify="space-between" wrap="wrap" gap="1rem">
      <div>Item 1</div>
      <div>Item 2</div>
      <div>Item 3</div>
      <div>Item 4</div>
    </Flex>
  );
});

// Reverse direction
const Example244 = defineComponent(() => {
  return () => (
    <Flex direction="row-reverse" gap={8}>
      <button>Cancel</button>
      <button>Submit</button>
    </Flex>
  );
});
```

#### Advanced Usage

```typescript
// Complex flex layout with custom flex values
const Example245 = defineComponent(() => {
  return () => (
    <Flex gap={16}>
      <div style={{ flex: '0 0 200px' }}>
        Sidebar (fixed width)
      </div>
      <Flex direction="column" grow={1} gap={12}>
        <div>Main content area (grows to fill space)</div>
        <div>More content</div>
      </Flex>
      <div style={{ flex: '0 0 250px' }}>
        Right panel (fixed width)
      </div>
    </Flex>
  );
});

// Responsive flex layout with separate row/column gaps
const Example246 = defineComponent(() => {
  return () => (
    <Flex
      direction="column"
      rowGap={24}
      columnGap={16}
      wrap="wrap"
      style={{ maxHeight: '600px' }}
    >
      <div>Item 1</div>
      <div>Item 2</div>
      <div>Item 3</div>
      <div>Item 4</div>
    </Flex>
  );
});

// Inline flex for inline layouts
const Example247 = defineComponent(() => {
  return () => (
    <div>
      Some text followed by
      <Flex inline gap={8} align="center">
        <span>inline</span>
        <span>flex</span>
        <span>items</span>
      </Flex>
      and more text
    </div>
  );
});
```

#### Styling Example

```css
/* Flex container with custom styling */
.flex-container {
  background: var(--color-background-secondary);
  border-radius: var(--radius-md);
  padding: var(--spacing-4);
}

/* Flex items */
.flex-item {
  background: var(--color-background-primary);
  padding: var(--spacing-3);
  border-radius: var(--radius-sm);
  transition: transform var(--transition-fast);
}

.flex-item:hover {
  transform: translateY(-2px);
}

/* Responsive flex layout */
@media (max-width: 768px) {
  .responsive-flex {
    flex-direction: column;
  }
}
```

#### API Reference

**`<Flex>`** - Flex container component

Props:
- `as?: string` - Element to render as (default: 'div')
- `direction?: 'row' | 'row-reverse' | 'column' | 'column-reverse'` - Flex direction (default: 'row')
- `justify?: 'flex-start' | 'flex-end' | 'center' | 'space-between' | 'space-around' | 'space-evenly'` - Justify content on main axis
- `align?: 'flex-start' | 'flex-end' | 'center' | 'baseline' | 'stretch'` - Align items on cross axis
- `alignContent?: 'flex-start' | 'flex-end' | 'center' | 'space-between' | 'space-around' | 'stretch'` - Align content when wrapping
- `wrap?: 'nowrap' | 'wrap' | 'wrap-reverse'` - Flex wrap behavior
- `gap?: number | string` - Gap between items (number converts to pixels)
- `rowGap?: number | string` - Gap between rows (number converts to pixels)
- `columnGap?: number | string` - Gap between columns (number converts to pixels)
- `grow?: number` - Flex grow factor
- `shrink?: number` - Flex shrink factor
- `basis?: number | string` - Flex basis (number converts to pixels)
- `inline?: boolean` - Use inline-flex display (default: false)
- `children?: any` - Child elements
- `class?: string` - Additional CSS class
- `style?: Record<string, any>` - Inline styles (merged with flex styles)

#### Accessibility Notes

- Use semantic HTML elements with the `as` prop when appropriate (e.g., `as="nav"`, `as="header"`)
- Ensure proper heading hierarchy within flex layouts
- Consider using landmark roles for major layout sections
- Flex direction changes can affect screen reader order - ensure logical reading order
- Avoid using flex for data tables - use proper table markup instead

#### Best Practices

1. **Use shorthand props**: Flex provides convenient shorthand props for common flexbox patterns
2. **Numeric values auto-convert to pixels**: `gap={16}` becomes `gap: 16px`
3. **Combine with Grid for complex layouts**: Use Flex for 1D layouts, Grid for 2D layouts
4. **Responsive design**: Control direction and wrapping for mobile-first layouts
5. **Performance**: Flex is lightweight with minimal runtime overhead

---

### Grid

A layout container that provides CSS Grid functionality with convenient props.

#### Features

- CSS Grid layout with shorthand props
- Template columns, rows, and areas support
- Auto-flow control (row, column, dense)
- Auto-columns and auto-rows for implicit grids
- Gap/spacing support with row and column gaps
- Flexible alignment (justify/align items and content)
- Inline grid option
- GridItem sub-component for precise placement
- Responsive grid templates
- Named grid areas support

#### Basic Usage

```typescript
import { defineComponent } from 'aether';
import { Grid } from 'aether/primitives';

// Basic 3-column grid
const Example248 = defineComponent(() => {
  return () => (
    <Grid templateColumns="repeat(3, 1fr)" gap={16}>
      <div>Item 1</div>
      <div>Item 2</div>
      <div>Item 3</div>
      <div>Item 4</div>
      <div>Item 5</div>
      <div>Item 6</div>
    </Grid>
  );
});
```

#### Responsive Grid Examples

```typescript
// Responsive grid with auto-fit
const Example249 = defineComponent(() => {
  return () => (
    <Grid templateColumns="repeat(auto-fit, minmax(200px, 1fr))" gap="1rem">
      <div class="card">Card 1</div>
      <div class="card">Card 2</div>
      <div class="card">Card 3</div>
      <div class="card">Card 4</div>
    </Grid>
  );
});

// Grid with auto-flow
const Example250 = defineComponent(() => {
  return () => (
    <Grid
      templateColumns="repeat(3, 1fr)"
      autoFlow="dense"
      gap={16}
    >
      <div style={{ gridColumn: 'span 2' }}>Wide item</div>
      <div>Item</div>
      <div>Item</div>
      <div style={{ gridColumn: 'span 2' }}>Another wide item</div>
    </Grid>
  );
});
```

#### Named Grid Areas

```typescript
// Dashboard layout with named areas
const Example251 = defineComponent(() => {
  return () => (
    <Grid
      templateAreas={`
        "header header header"
        "sidebar main main"
        "sidebar footer footer"
      `}
      templateColumns="200px 1fr 1fr"
      templateRows="auto 1fr auto"
      gap={16}
      style={{ minHeight: '100vh' }}
    >
      <div style={{ gridArea: 'header' }} class="header">
        Header
      </div>
      <div style={{ gridArea: 'sidebar' }} class="sidebar">
        Sidebar
      </div>
      <div style={{ gridArea: 'main' }} class="main">
        Main Content
      </div>
      <div style={{ gridArea: 'footer' }} class="footer">
        Footer
      </div>
    </Grid>
  );
});
```

#### GridItem Usage

```typescript
import { defineComponent } from 'aether';
import { Grid, GridItem } from 'aether/primitives';

// Precise grid placement with GridItem
const Example252 = defineComponent(() => {
  return () => (
    <Grid templateColumns="repeat(4, 1fr)" templateRows="repeat(3, 100px)" gap={16}>
      <GridItem column="1 / 3" row="1 / 2">
        Spans 2 columns, 1 row
      </GridItem>
      <GridItem column="3 / 5" row="1 / 3">
        Spans 2 columns, 2 rows
      </GridItem>
      <GridItem column="1 / 2" row="2 / 4">
        Spans 1 column, 2 rows
      </GridItem>
      <GridItem column="span 2" row="3">
        Spans 2 columns using span notation
      </GridItem>
    </Grid>
  );
});

// GridItem with named area
const Example253 = defineComponent(() => {
  return () => (
    <Grid
      templateAreas={`
        "header header"
        "sidebar main"
        "footer footer"
      `}
      templateColumns="200px 1fr"
      gap={16}
    >
      <GridItem area="header">Header</GridItem>
      <GridItem area="sidebar">Sidebar</GridItem>
      <GridItem area="main">Main</GridItem>
      <GridItem area="footer">Footer</GridItem>
    </Grid>
  );
});
```

#### Advanced Usage

```typescript
// Complex grid with alignment
const Example254 = defineComponent(() => {
  return () => (
    <Grid
      templateColumns="repeat(auto-fill, minmax(150px, 1fr))"
      autoRows="100px"
      gap={20}
      justifyItems="center"
      alignItems="center"
      justifyContent="space-evenly"
    >
      <div>Centered item 1</div>
      <div>Centered item 2</div>
      <div>Centered item 3</div>
      <div>Centered item 4</div>
    </Grid>
  );
});

// Magazine-style layout
const Example255 = defineComponent(() => {
  return () => (
    <Grid
      templateColumns="repeat(6, 1fr)"
      templateRows="repeat(4, 150px)"
      gap={12}
    >
      <GridItem column="1 / 4" row="1 / 3">
        <article class="featured-article">Featured Article</article>
      </GridItem>
      <GridItem column="4 / 7" row="1 / 2">
        <article class="secondary-article">Secondary</article>
      </GridItem>
      <GridItem column="4 / 7" row="2 / 3">
        <article class="secondary-article">Secondary</article>
      </GridItem>
      <GridItem column="1 / 3" row="3 / 5">
        <article class="small-article">Small</article>
      </GridItem>
      <GridItem column="3 / 5" row="3 / 5">
        <article class="small-article">Small</article>
      </GridItem>
      <GridItem column="5 / 7" row="3 / 5">
        <article class="small-article">Small</article>
      </GridItem>
    </Grid>
  );
});
```

#### Styling Example

```css
/* Grid container */
.grid-container {
  background: var(--color-background-secondary);
  border-radius: var(--radius-lg);
  padding: var(--spacing-4);
}

/* Grid items */
.grid-item {
  background: var(--color-background-primary);
  border-radius: var(--radius-md);
  padding: var(--spacing-4);
  box-shadow: var(--shadow-sm);
}

/* Responsive grid */
@media (max-width: 768px) {
  .responsive-grid {
    grid-template-columns: 1fr !important;
    grid-template-areas:
      "header"
      "main"
      "sidebar"
      "footer" !important;
  }
}

/* Grid gap responsive */
@media (max-width: 640px) {
  .grid-container {
    gap: 8px;
  }
}
```

#### API Reference

**`<Grid>`** - Grid container component

Props:
- `as?: string` - Element to render as (default: 'div')
- `templateColumns?: string` - Grid template columns (e.g., "1fr 2fr", "repeat(3, 1fr)")
- `templateRows?: string` - Grid template rows
- `templateAreas?: string` - Grid template areas (multiline string with area names)
- `autoFlow?: 'row' | 'column' | 'dense' | 'row dense' | 'column dense'` - Grid auto-flow behavior
- `autoColumns?: string` - Grid auto-columns size for implicit columns
- `autoRows?: string` - Grid auto-rows size for implicit rows
- `gap?: number | string` - Gap between items (number converts to pixels)
- `rowGap?: number | string` - Gap between rows (number converts to pixels)
- `columnGap?: number | string` - Gap between columns (number converts to pixels)
- `justifyItems?: 'start' | 'end' | 'center' | 'stretch'` - Horizontal alignment within grid cell
- `alignItems?: 'start' | 'end' | 'center' | 'stretch' | 'baseline'` - Vertical alignment within grid cell
- `justifyContent?: 'start' | 'end' | 'center' | 'stretch' | 'space-around' | 'space-between' | 'space-evenly'` - Grid track alignment horizontal
- `alignContent?: 'start' | 'end' | 'center' | 'stretch' | 'space-around' | 'space-between' | 'space-evenly'` - Grid track alignment vertical
- `inline?: boolean` - Use inline-grid display (default: false)
- `children?: any` - Child elements
- `class?: string` - Additional CSS class
- `style?: Record<string, any>` - Inline styles (merged with grid styles)

**`<GridItem>`** - Grid item component for precise placement

Props:
- `as?: string` - Element to render as (default: 'div')
- `column?: string` - Grid column start/end (e.g., "1 / 3", "span 2")
- `columnStart?: number | string` - Grid column start line
- `columnEnd?: number | string` - Grid column end line
- `row?: string` - Grid row start/end (e.g., "1 / 3", "span 2")
- `rowStart?: number | string` - Grid row start line
- `rowEnd?: number | string` - Grid row end line
- `area?: string` - Grid area name (must match parent's templateAreas)
- `children?: any` - Child elements
- `class?: string` - Additional CSS class
- `style?: Record<string, any>` - Inline styles (merged with grid item styles)

#### Accessibility Notes

- Use semantic HTML elements with the `as` prop when appropriate (e.g., `as="main"`, `as="aside"`)
- Grid source order should match visual order for screen readers when possible
- Use proper heading hierarchy within grid layouts
- Consider providing skip links for complex grid layouts
- Grid areas should have semantic meaning
- Test with keyboard navigation to ensure logical tab order

#### Best Practices

1. **Use Grid for 2D layouts**: Grid excels at two-dimensional layouts (rows AND columns)
2. **Combine auto-fit/auto-fill with minmax**: Creates responsive grids without media queries
3. **Named areas for clarity**: Use grid areas for complex layouts to improve readability
4. **GridItem for precise control**: Use GridItem component when you need explicit placement
5. **Performance**: Grid is highly optimized by browsers and has minimal overhead
6. **Mobile-first**: Design for mobile grid first, then enhance for larger screens
7. **Gap over margin**: Use gap property instead of margins for consistent spacing

---

### Stack

A layout component for stacking elements vertically or horizontally with consistent spacing.

#### Features

- Vertical and horizontal stacking
- Consistent spacing between items
- Alignment control on cross axis
- Justification control on main axis
- Wrapping support
- Divider support (automatic placement between items)
- VStack and HStack convenience wrappers
- Responsive spacing
- Auto pixel conversion for numeric values

#### Basic Usage

```typescript
import { defineComponent } from 'aether';
import { Stack } from 'aether/primitives';

// Vertical stack (default)
const Example256 = defineComponent(() => {
  return () => (
    <Stack spacing={16}>
      <div>Item 1</div>
      <div>Item 2</div>
      <div>Item 3</div>
    </Stack>
  );
});

// Horizontal stack
const Example257 = defineComponent(() => {
  return () => (
    <Stack direction="horizontal" spacing={24}>
      <button>Button 1</button>
      <button>Button 2</button>
      <button>Button 3</button>
    </Stack>
  );
});
```

#### VStack and HStack

```typescript
import { defineComponent } from 'aether';
import { VStack, HStack } from 'aether/primitives';

// VStack - Vertical stack shorthand
const Example258 = defineComponent(() => {
  return () => (
    <VStack spacing={16} align="center">
      <h1>Title</h1>
      <p>Subtitle</p>
      <button>Action</button>
    </VStack>
  );
});

// HStack - Horizontal stack shorthand
const Example259 = defineComponent(() => {
  return () => (
    <HStack spacing={8} align="center">
      <img src="/avatar.jpg" alt="Avatar" />
      <div>
        <h3>John Doe</h3>
        <p>Software Engineer</p>
      </div>
    </HStack>
  );
});
```

#### Alignment Examples

```typescript
// Centered vertical stack
const Example260 = defineComponent(() => {
  return () => (
    <VStack spacing={20} align="center" justify="center" style={{ minHeight: '400px' }}>
      <h1>Welcome</h1>
      <p>Get started by creating your account</p>
      <button>Sign Up</button>
    </VStack>
  );
});

// Horizontal stack with space-between
const Example261 = defineComponent(() => {
  return () => (
    <HStack spacing={16} justify="space-between" align="center">
      <div>Logo</div>
      <nav>Navigation</nav>
      <button>Login</button>
    </HStack>
  );
});

// Stack with end alignment
const Example262 = defineComponent(() => {
  return () => (
    <VStack spacing={12} align="end">
      <p>Amount:</p>
      <p class="price">$99.99</p>
      <p class="tax">Tax: $10.00</p>
      <p class="total">Total: $109.99</p>
    </VStack>
  );
});
```

#### Stack with Divider

```typescript
import { defineComponent } from 'aether';
import { VStack, HStack } from 'aether/primitives';

// Vertical stack with dividers
const Example263 = defineComponent(() => {
  return () => (
    <VStack
      spacing={16}
      divider={<hr style={{ width: '100%', border: 'none', borderTop: '1px solid #e5e7eb' }} />}
    >
      <div>Section 1</div>
      <div>Section 2</div>
      <div>Section 3</div>
    </VStack>
  );
});

// Horizontal stack with dividers
const Example264 = defineComponent(() => {
  return () => (
    <HStack
      spacing={12}
      align="center"
      divider={<span style={{ color: '#ccc' }}>|</span>}
    >
      <a href="/home">Home</a>
      <a href="/about">About</a>
      <a href="/contact">Contact</a>
    </HStack>
  );
});
```

#### Advanced Usage

```typescript
// Responsive stack with wrapping
const Example265 = defineComponent(() => {
  return () => (
    <HStack spacing={16} wrap align="center">
      <div class="chip">Tag 1</div>
      <div class="chip">Tag 2</div>
      <div class="chip">Tag 3</div>
      <div class="chip">Tag 4</div>
      <div class="chip">Tag 5</div>
    </HStack>
  );
});

// Card with vertical stack
const Example266 = defineComponent(() => {
  return () => (
    <div class="card">
      <VStack spacing={12}>
        <h3>Card Title</h3>
        <p>Card description text goes here</p>
        <HStack spacing={8} justify="end">
          <button>Cancel</button>
          <button class="primary">Confirm</button>
        </HStack>
      </VStack>
    </div>
  );
});

// Form layout with stacks
const Example267 = defineComponent(() => {
  return () => (
    <form>
      <VStack spacing={20}>
        <VStack spacing={8}>
          <label for="name">Name</label>
          <input id="name" type="text" />
        </VStack>

        <VStack spacing={8}>
          <label for="email">Email</label>
          <input id="email" type="email" />
        </VStack>

        <HStack spacing={12} justify="end">
          <button type="button">Cancel</button>
          <button type="submit">Submit</button>
        </HStack>
      </VStack>
    </form>
  );
});
```

#### Styling Example

```css
/* Stack container */
.stack-container {
  background: var(--color-background-secondary);
  border-radius: var(--radius-md);
  padding: var(--spacing-4);
}

/* Stack items */
.stack-item {
  padding: var(--spacing-3);
  background: var(--color-background-primary);
  border-radius: var(--radius-sm);
}

/* Responsive spacing */
@media (max-width: 768px) {
  .responsive-stack {
    gap: 8px !important;
  }
}

/* Divider styling */
.stack-divider {
  width: 100%;
  height: 1px;
  background: var(--color-border);
  margin: 0;
}
```

#### API Reference

**`<Stack>`** - Stack container component

Props:
- `direction?: 'vertical' | 'horizontal'` - Stack direction (default: 'vertical')
- `spacing?: number | string` - Spacing between items (number converts to pixels, default: 0)
- `align?: 'start' | 'center' | 'end' | 'stretch' | 'baseline'` - Alignment on cross axis
- `justify?: 'start' | 'center' | 'end' | 'space-between' | 'space-around' | 'space-evenly'` - Justification on main axis
- `wrap?: boolean` - Allow items to wrap (default: false)
- `divider?: any` - Element to place between stack items (automatically positioned)
- `children?: any` - Child elements
- `class?: string` - Additional CSS class
- `style?: Record<string, any>` - Inline styles (merged with stack styles)

**`<VStack>`** - Vertical stack convenience wrapper

Props: Same as Stack, except `direction` is always 'vertical'

**`<HStack>`** - Horizontal stack convenience wrapper

Props: Same as Stack, except `direction` is always 'horizontal'

#### Accessibility Notes

- Stack uses flexbox internally with `display: flex`
- Use semantic HTML elements when appropriate (e.g., `<nav>`, `<article>`)
- Ensure proper heading hierarchy within stacks
- Dividers should have appropriate aria attributes if they convey semantic meaning
- Consider using `<hr>` for dividers in vertical stacks for semantic separation
- Stack order matches visual order for screen readers
- Keyboard navigation follows natural tab order

#### Best Practices

1. **Use VStack and HStack for clarity**: More explicit than Stack with direction prop
2. **Numeric spacing auto-converts**: `spacing={16}` becomes `gap: 16px`
3. **Dividers are automatic**: No need to manually add dividers between items
4. **Prefer Stack over Flex for simple layouts**: Stack is more semantic for 1D item lists
5. **Combine with other layouts**: Use Stack inside Grid or Flex for complex layouts
6. **Responsive design**: Adjust spacing for different screen sizes
7. **Performance**: Stack is lightweight wrapper around flexbox
8. **Wrapping for responsive tags**: Use `wrap` for tag lists, chips, or badges

---

### Box

The foundational layout component that all other layout components build upon. Box is a polymorphic component that can render as any HTML element.

#### Features

- Polymorphic component (can render as any HTML element)
- Base for all layout primitives
- Minimal runtime overhead
- Simple prop forwarding
- Support for custom styling via class and style props
- Semantic HTML element support
- Clean and predictable API
- TypeScript-friendly with proper type inference

#### Basic Usage

```typescript
import { defineComponent } from 'aether';
import { Box } from 'aether/primitives';

// Default div
const Example268 = defineComponent(() => {
  return () => (
    <Box>
      This is a basic box (renders as div)
    </Box>
  );
});

// Semantic HTML elements
const Example269 = defineComponent(() => {
  return () => (
    <>
      <Box as="section" class="page-section">
        <Box as="header">
          <h1>Section Title</h1>
        </Box>
        <Box as="article">
          <p>Article content...</p>
        </Box>
        <Box as="footer">
          <p>Footer content</p>
        </Box>
      </Box>
    </>
  );
});
```

#### Styling Examples

```typescript
// Box with custom styling
const Example270 = defineComponent(() => {
  return () => (
    <Box
      class="card"
      style={{
        padding: '24px',
        background: '#ffffff',
        borderRadius: '8px',
        boxShadow: '0 2px 8px rgba(0,0,0,0.1)'
      }}
    >
      <h3>Card Title</h3>
      <p>Card content goes here</p>
    </Box>
  );
});

// Colored backgrounds
const Example271 = defineComponent(() => {
  return () => (
    <Box
      style={{
        background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',
        padding: '48px',
        color: 'white',
        borderRadius: '12px'
      }}
    >
      <h2>Gradient Background</h2>
      <p>Beautiful gradient box</p>
    </Box>
  );
});

// Box as navigation
const Example272 = defineComponent(() => {
  return () => (
    <Box as="nav" class="main-nav" style={{ display: 'flex', gap: '16px' }}>
      <a href="/">Home</a>
      <a href="/about">About</a>
      <a href="/contact">Contact</a>
    </Box>
  );
});
```

#### Spacing Utilities

```typescript
// Box with padding and margin
const Example273 = defineComponent(() => {
  return () => (
    <Box
      style={{
        padding: '16px 24px',
        margin: '0 auto',
        maxWidth: '800px'
      }}
    >
      Content with spacing
    </Box>
  );
});

// Responsive spacing
const Example274 = defineComponent(() => {
  return () => (
    <Box
      class="responsive-box"
      style={{
        padding: '16px'
      }}
    >
      <p>Responsive content</p>
    </Box>
  );
});
```

#### Advanced Usage

```typescript
// Box as button (although Button primitive is preferred)
const Example275 = defineComponent(() => {
  const handleClick = () => {
    console.log('Box clicked');
  };

  return () => (
    <Box
      as="button"
      type="button"
      onClick={handleClick}
      style={{
        padding: '12px 24px',
        border: 'none',
        borderRadius: '4px',
        background: '#3b82f6',
        color: 'white',
        cursor: 'pointer'
      }}
    >
      Click Me
    </Box>
  );
});

// Box with data attributes
const Example276 = defineComponent(() => {
  return () => (
    <Box
      as="article"
      data-testid="article-box"
      data-category="news"
      role="article"
      aria-label="News Article"
    >
      <h2>Article Title</h2>
      <p>Article content...</p>
    </Box>
  );
});

// Conditional styling
const Example277 = defineComponent(() => {
  const isActive = signal(false);

  return () => (
    <Box
      class={isActive() ? 'box box--active' : 'box'}
      style={{
        padding: '16px',
        background: isActive() ? '#e0f2fe' : '#f3f4f6',
        border: `2px solid ${isActive() ? '#0ea5e9' : '#d1d5db'}`,
        transition: 'all 0.2s'
      }}
      onClick={() => isActive(!isActive())}
    >
      Click to toggle active state
    </Box>
  );
});
```

#### Composition with Other Primitives

```typescript
// Box as container for Flex layout
const Example278 = defineComponent(() => {
  return () => (
    <Box class="page-header" style={{ background: '#1e293b', color: 'white' }}>
      <Flex justify="space-between" align="center" style={{ padding: '16px 24px' }}>
        <Box as="h1" style={{ margin: 0 }}>My App</Box>
        <Box as="nav">
          <HStack spacing={16}>
            <a href="/home">Home</a>
            <a href="/about">About</a>
          </HStack>
        </Box>
      </Flex>
    </Box>
  );
});

// Box with Grid inside
const Example279 = defineComponent(() => {
  return () => (
    <Box class="dashboard" style={{ padding: '24px', background: '#f9fafb' }}>
      <Grid templateColumns="repeat(auto-fit, minmax(250px, 1fr))" gap={24}>
        <Box class="stat-card" style={{ padding: '20px', background: 'white', borderRadius: '8px' }}>
          <h3>Total Users</h3>
          <p class="stat-value">1,234</p>
        </Box>
        <Box class="stat-card" style={{ padding: '20px', background: 'white', borderRadius: '8px' }}>
          <h3>Revenue</h3>
          <p class="stat-value">$45,678</p>
        </Box>
        <Box class="stat-card" style={{ padding: '20px', background: 'white', borderRadius: '8px' }}>
          <h3>Growth</h3>
          <p class="stat-value">+23%</p>
        </Box>
      </Grid>
    </Box>
  );
});
```

#### Styling Example

```css
/* Basic box styles */
.box {
  display: block;
}

/* Card-like box */
.card {
  background: var(--color-background-primary);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  padding: var(--spacing-4);
  box-shadow: var(--shadow-sm);
  transition: box-shadow var(--transition-fast);
}

.card:hover {
  box-shadow: var(--shadow-md);
}

/* Box with responsive padding */
.responsive-box {
  padding: var(--spacing-3);
}

@media (min-width: 768px) {
  .responsive-box {
    padding: var(--spacing-6);
  }
}

/* Box states */
.box--active {
  border-color: var(--color-primary);
  background: var(--color-primary-light);
}

/* Box as section */
.page-section {
  margin-bottom: var(--spacing-8);
}

.page-section:last-child {
  margin-bottom: 0;
}
```

#### API Reference

**`<Box>`** - Foundational layout component

Props:
- `as?: string` - Element to render as (default: 'div')
- `children?: any` - Child elements
- `class?: string` - CSS class name
- `style?: Record<string, any>` - Inline styles
- `[key: string]: any` - All other props are forwarded to the rendered element

#### Accessibility Notes

- Use semantic HTML elements via the `as` prop whenever possible
- Box with `as="button"` should have proper button attributes (type, aria-label, etc.)
- Box with `as="nav"` should contain navigation links
- Box with `as="article"` should contain article content with proper heading structure
- Interactive boxes need proper keyboard support and focus indicators
- Ensure proper heading hierarchy when using Box as semantic elements

#### Best Practices

1. **Use semantic HTML**: Prefer `<Box as="section">` over `<Box>` for major sections
2. **Keep it simple**: Box is meant to be lightweight - use it for basic container needs
3. **Prefer specific primitives**: Use Flex, Grid, Stack for layout instead of styling Box with flexbox/grid
4. **Type forwarding**: Box forwards all props to the underlying element
5. **Composition over configuration**: Build complex components from simple Box primitives
6. **CSS over inline styles**: Use classes for reusable styles, inline styles for dynamic values
7. **Accessibility first**: Always use appropriate semantic elements via the `as` prop
8. **Performance**: Box has near-zero runtime overhead

---

### Container

A responsive content width container that centers content and constrains maximum width for better readability and layout consistency.

#### Features

- Responsive max-width constraints based on size variants
- Automatic content centering with margins
- Configurable horizontal and vertical padding
- Size variants: xs, sm, md, lg, xl, 2xl, full
- Fluid mode for full-width layouts
- Pixel or string-based padding values
- Centered content by default
- Perfect for page layouts and content sections

#### Basic Usage

```typescript
import { defineComponent } from 'aether';
import { Container } from 'aether/primitives';

// Default container (lg size, centered)
const Example280 = defineComponent(() => {
  return () => (
    <Container>
      <h1>Page Title</h1>
      <p>This content is centered and has a max-width of 1024px (lg)</p>
    </Container>
  );
});

// Small container for focused content
const Example281 = defineComponent(() => {
  return () => (
    <Container size="sm">
      <article>
        <h2>Blog Post Title</h2>
        <p>Narrow column for better readability (max-width: 640px)</p>
      </article>
    </Container>
  );
});

// Extra large container for wide layouts
const Example282 = defineComponent(() => {
  return () => (
    <Container size="2xl">
      <h1>Dashboard</h1>
      <p>Wide container for dashboard layouts (max-width: 1536px)</p>
    </Container>
  );
});
```

#### Size Variants

```typescript
// All size variants
const Example283 = defineComponent(() => {
  return () => (
    <>
      <Container size="xs">
        XS Container (480px) - Very narrow
      </Container>

      <Container size="sm">
        SM Container (640px) - Blog posts, articles
      </Container>

      <Container size="md">
        MD Container (768px) - Forms, narrow content
      </Container>

      <Container size="lg">
        LG Container (1024px) - Default, general content
      </Container>

      <Container size="xl">
        XL Container (1280px) - Wide content areas
      </Container>

      <Container size="2xl">
        2XL Container (1536px) - Dashboards, data tables
      </Container>

      <Container size="full">
        Full Container (100%) - Full width, respects padding
      </Container>
    </>
  );
});
```

#### Padding Control

```typescript
// Container with custom padding
const Example284 = defineComponent(() => {
  return () => (
    <Container size="lg" px={32} py={48}>
      <h1>Custom Padded Container</h1>
      <p>32px horizontal padding, 48px vertical padding</p>
    </Container>
  );
});

// Container with string-based padding
const Example285 = defineComponent(() => {
  return () => (
    <Container size="md" px="2rem" py="4rem">
      <h2>String Padding</h2>
      <p>Using rem units for responsive padding</p>
    </Container>
  );
});

// Container with no vertical padding (default)
const Example286 = defineComponent(() => {
  return () => (
    <Container size="lg" px={24}>
      <p>Only horizontal padding, no vertical padding</p>
    </Container>
  );
});
```

#### Fluid Container

```typescript
// Fluid container (full width)
const Example287 = defineComponent(() => {
  return () => (
    <Container fluid px={24}>
      <h1>Full Width Container</h1>
      <p>This container spans the full width with padding</p>
    </Container>
  );
});

// Conditional fluid mode
const Example288 = defineComponent(() => {
  const isWide = signal(false);

  return () => (
    <Container fluid={isWide()} size="lg" px={24}>
      <button onClick={() => isWide(!isWide())}>
        Toggle: {isWide() ? 'Full Width' : 'Constrained'}
      </button>
      <p>Container adapts to fluid mode</p>
    </Container>
  );
});
```

#### Page Layouts

```typescript
// Typical page layout
const Example289 = defineComponent(() => {
  return () => (
    <>
      {/* Full-width header */}
      <Box as="header" style={{ background: '#1e293b', color: 'white' }}>
        <Container size="xl" px={24} py={16}>
          <Flex justify="space-between" align="center">
            <h1>My Website</h1>
            <nav>
              <HStack spacing={16}>
                <a href="/">Home</a>
                <a href="/about">About</a>
                <a href="/contact">Contact</a>
              </HStack>
            </nav>
          </Flex>
        </Container>
      </Box>

      {/* Main content */}
      <Box as="main">
        <Container size="lg" px={24} py={48}>
          <h2>Page Content</h2>
          <p>Main content area with comfortable max-width</p>
        </Container>
      </Box>

      {/* Full-width footer */}
      <Box as="footer" style={{ background: '#f3f4f6', marginTop: '64px' }}>
        <Container size="xl" px={24} py={32}>
          <p>© 2025 My Website. All rights reserved.</p>
        </Container>
      </Box>
    </>
  );
});
```

#### Landing Page Sections

```typescript
// Hero section with large container
const Example290 = defineComponent(() => {
  return () => (
    <Box as="section" style={{ background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)', color: 'white' }}>
      <Container size="xl" px={24} py={96}>
        <VStack spacing={24} align="center">
          <h1 style={{ fontSize: '48px', fontWeight: 'bold' }}>Welcome to Our Product</h1>
          <p style={{ fontSize: '20px', maxWidth: '600px', textAlign: 'center' }}>
            The best solution for your business needs. Get started today.
          </p>
          <HStack spacing={16}>
            <button class="btn-primary">Get Started</button>
            <button class="btn-secondary">Learn More</button>
          </HStack>
        </VStack>
      </Container>
    </Box>
  );
});

// Features section with medium container
const Example291 = defineComponent(() => {
  return () => (
    <Box as="section" style={{ padding: '80px 0' }}>
      <Container size="lg" px={24}>
        <VStack spacing={48} align="center">
          <h2 style={{ fontSize: '36px', textAlign: 'center' }}>Features</h2>
          <Grid templateColumns="repeat(auto-fit, minmax(250px, 1fr))" gap={32}>
            <VStack spacing={12}>
              <h3>Feature 1</h3>
              <p>Description of feature 1</p>
            </VStack>
            <VStack spacing={12}>
              <h3>Feature 2</h3>
              <p>Description of feature 2</p>
            </VStack>
            <VStack spacing={12}>
              <h3>Feature 3</h3>
              <p>Description of feature 3</p>
            </VStack>
          </Grid>
        </VStack>
      </Container>
    </Box>
  );
});

// Testimonials section with small container for narrow text
const Example292 = defineComponent(() => {
  return () => (
    <Box as="section" style={{ background: '#f9fafb', padding: '80px 0' }}>
      <Container size="sm" px={24}>
        <VStack spacing={32} align="center">
          <h2 style={{ fontSize: '36px' }}>What Our Customers Say</h2>
          <VStack spacing={24}>
            <Box class="testimonial-card">
              <p class="quote">"This product changed our business!"</p>
              <p class="author">- John Doe, CEO</p>
            </Box>
            <Box class="testimonial-card">
              <p class="quote">"Best decision we ever made."</p>
              <p class="author">- Jane Smith, CTO</p>
            </Box>
          </VStack>
        </VStack>
      </Container>
    </Box>
  );
});
```

#### Dashboard Layouts

```typescript
// Dashboard with wide container
const Example293 = defineComponent(() => {
  return () => (
    <Container size="2xl" px={24} py={24}>
      <VStack spacing={32}>
        {/* Dashboard header */}
        <Flex justify="space-between" align="center">
          <h1>Analytics Dashboard</h1>
          <HStack spacing={12}>
            <button>Export</button>
            <button>Settings</button>
          </HStack>
        </Flex>

        {/* Stats grid */}
        <Grid templateColumns="repeat(auto-fit, minmax(250px, 1fr))" gap={24}>
          <Box class="stat-card">
            <h3>Total Revenue</h3>
            <p class="stat-value">$123,456</p>
          </Box>
          <Box class="stat-card">
            <h3>Active Users</h3>
            <p class="stat-value">45,678</p>
          </Box>
          <Box class="stat-card">
            <h3>Conversion Rate</h3>
            <p class="stat-value">3.45%</p>
          </Box>
          <Box class="stat-card">
            <h3>Growth</h3>
            <p class="stat-value">+23%</p>
          </Box>
        </Grid>

        {/* Charts section */}
        <Grid templateColumns="2fr 1fr" gap={24}>
          <Box class="chart-card">
            <h3>Revenue Over Time</h3>
            {/* Chart component */}
          </Box>
          <Box class="chart-card">
            <h3>Top Products</h3>
            {/* List component */}
          </Box>
        </Grid>
      </VStack>
    </Container>
  );
});
```

#### Form Layouts

```typescript
// Form with medium container for better readability
const Example294 = defineComponent(() => {
  return () => (
    <Container size="md" px={24} py={48}>
      <VStack spacing={32}>
        <Box>
          <h1>Create Account</h1>
          <p>Fill in your details to get started</p>
        </Box>

        <Box as="form">
          <VStack spacing={20}>
            <VStack spacing={8}>
              <label for="name">Full Name</label>
              <input id="name" type="text" class="form-input" />
            </VStack>

            <VStack spacing={8}>
              <label for="email">Email Address</label>
              <input id="email" type="email" class="form-input" />
            </VStack>

            <VStack spacing={8}>
              <label for="password">Password</label>
              <input id="password" type="password" class="form-input" />
            </VStack>

            <HStack spacing={12} justify="end">
              <button type="button" class="btn-secondary">Cancel</button>
              <button type="submit" class="btn-primary">Create Account</button>
            </HStack>
          </VStack>
        </Box>
      </VStack>
    </Container>
  );
});
```

#### Styling Example

```css
/* Container base styles are applied via inline styles */
/* You typically style the content inside containers */

/* Page sections with containers */
.page-section {
  padding: 64px 0;
}

.page-section:nth-child(even) {
  background: var(--color-background-secondary);
}

/* Cards inside containers */
.stat-card,
.chart-card {
  background: var(--color-background-primary);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-md);
  padding: var(--spacing-6);
  box-shadow: var(--shadow-sm);
}

/* Testimonial styling */
.testimonial-card {
  background: white;
  padding: var(--spacing-6);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-md);
}

.quote {
  font-size: 18px;
  font-style: italic;
  margin-bottom: var(--spacing-4);
}

.author {
  font-weight: 600;
  color: var(--color-text-secondary);
}

/* Form inputs inside containers */
.form-input {
  width: 100%;
  padding: var(--spacing-3);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-sm);
  font-size: 16px;
}

.form-input:focus {
  outline: none;
  border-color: var(--color-primary);
  box-shadow: 0 0 0 3px var(--color-primary-light);
}

/* Responsive container adjustments */
@media (max-width: 768px) {
  .page-section {
    padding: 48px 0;
  }
}
```

#### API Reference

**`<Container>`** - Responsive content width container

Props:
- `size?: 'xs' | 'sm' | 'md' | 'lg' | 'xl' | '2xl' | 'full'` - Container max-width size (default: 'lg')
  - xs: 480px
  - sm: 640px
  - md: 768px
  - lg: 1024px
  - xl: 1280px
  - 2xl: 1536px
  - full: 100%
- `centerContent?: boolean` - Center the container with auto margins (default: true)
- `fluid?: boolean` - Disable max-width constraint for full width (default: false)
- `px?: number | string` - Horizontal padding (left and right). Numbers convert to pixels (default: 16px)
- `py?: number | string` - Vertical padding (top and bottom). Numbers convert to pixels (default: none)
- `children?: any` - Child elements
- `class?: string` - Additional CSS class
- `style?: Record<string, any>` - Inline styles (merged with container styles)

#### Accessibility Notes

- Container is purely presentational and doesn't affect accessibility
- Use semantic HTML elements inside containers (e.g., `<header>`, `<main>`, `<section>`)
- Ensure proper heading hierarchy within containers
- Container max-width improves readability for body text (optimal line length)
- Centered content is easier to scan and read
- Consider responsive font sizes in conjunction with container sizes

#### Best Practices

1. **Choose appropriate sizes**: Use sm/md for text-heavy content (blogs, articles), lg for general pages, xl/2xl for dashboards
2. **Consistent padding**: Use the same horizontal padding across containers for visual consistency
3. **Nested containers**: Avoid nesting containers - use Box or other layout primitives inside
4. **Full-width sections**: Use fluid containers or Box with Container inside for full-width colored sections
5. **Responsive design**: Container sizes adapt to viewport, but consider mobile-specific adjustments
6. **Readability**: For text content, keep line length between 45-75 characters (sm or md sizes)
7. **Dashboard layouts**: Use xl or 2xl sizes for data-heavy interfaces to maximize screen usage
8. **Forms**: Use sm or md sizes for better form readability and user focus
9. **Hero sections**: Use xl or 2xl for landing page hero sections with prominent CTAs
10. **Performance**: Container has minimal runtime overhead with simple style calculations

---

### Space

A layout component that adds consistent spacing between child elements using CSS gap. Space handles both horizontal and vertical spacing with size variants and flexible layout options.

#### Features

- Fixed spacing between inline/block elements
- Horizontal and vertical direction modes
- Size variants: xs (4px), sm (8px), md (16px), lg (24px), xl (32px)
- Custom numeric spacing values
- Alignment control (start, center, end, baseline)
- Wrapping support for responsive layouts
- Split mode for space-between distribution
- Built on flexbox with gap property

#### Basic Usage

```typescript
import { defineComponent } from 'aether';
import { Space } from 'aether/primitives';

// Default horizontal spacing (md = 16px)
const Example295 = defineComponent(() => {
  return () => (
    <Space>
      <button>Button 1</button>
      <button>Button 2</button>
      <button>Button 3</button>
    </Space>
  );
});

// Vertical spacing
const Example296 = defineComponent(() => {
  return () => (
    <Space direction="vertical">
      <div>Item 1</div>
      <div>Item 2</div>
      <div>Item 3</div>
    </Space>
  );
});

// Custom spacing size
const Example297 = defineComponent(() => {
  return () => (
    <Space size="lg">
      <span>Spaced</span>
      <span>with</span>
      <span>large</span>
      <span>gaps</span>
    </Space>
  );
});
```

#### Size Variants

```typescript
// All size variants
const Example298 = defineComponent(() => {
  return () => (
    <>
      <Space size="xs">
        <button>XS</button>
        <button>4px gap</button>
      </Space>

      <Space size="sm">
        <button>SM</button>
        <button>8px gap</button>
      </Space>

      <Space size="md">
        <button>MD</button>
        <button>16px gap</button>
      </Space>

      <Space size="lg">
        <button>LG</button>
        <button>24px gap</button>
      </Space>

      <Space size="xl">
        <button>XL</button>
        <button>32px gap</button>
      </Space>
    </>
  );
});

// Custom numeric spacing
const Example299 = defineComponent(() => {
  return () => (
    <Space spacing={20}>
      <button>Custom</button>
      <button>20px gap</button>
    </Space>
  );
});
```

#### Alignment Control

```typescript
// Align items vertically
const Example300 = defineComponent(() => {
  return () => (
    <Space align="center" size="md">
      <div style={{ height: '40px', background: '#3b82f6' }}>Tall item</div>
      <div style={{ height: '20px', background: '#10b981' }}>Short item</div>
      <div style={{ height: '30px', background: '#f59e0b' }}>Medium item</div>
    </Space>
  );
});

// Align to start (default)
const Example301 = defineComponent(() => {
  return () => (
    <Space align="start" size="md">
      <button style={{ height: '40px' }}>Tall Button</button>
      <button style={{ height: '30px' }}>Medium</button>
      <button style={{ height: '20px' }}>Small</button>
    </Space>
  );
});

// Align to end
const Example302 = defineComponent(() => {
  return () => (
    <Space align="end" size="md">
      <span style={{ fontSize: '24px' }}>Large</span>
      <span style={{ fontSize: '16px' }}>Medium</span>
      <span style={{ fontSize: '12px' }}>Small</span>
    </Space>
  );
});

// Baseline alignment for text
const Example303 = defineComponent(() => {
  return () => (
    <Space align="baseline" size="md">
      <span style={{ fontSize: '32px' }}>Aa</span>
      <span style={{ fontSize: '16px' }}>Baseline</span>
      <span style={{ fontSize: '12px' }}>aligned</span>
    </Space>
  );
});
```

#### Wrapping Support

```typescript
// Wrapping space for responsive layouts
const Example304 = defineComponent(() => {
  return () => (
    <Space wrap size="sm" style={{ maxWidth: '400px' }}>
      <span class="tag">React</span>
      <span class="tag">TypeScript</span>
      <span class="tag">Node.js</span>
      <span class="tag">GraphQL</span>
      <span class="tag">PostgreSQL</span>
      <span class="tag">Docker</span>
      <span class="tag">AWS</span>
      <span class="tag">Redis</span>
    </Space>
  );
});

// Tag list with wrapping
const Example305 = defineComponent(() => {
  const tags = ['JavaScript', 'CSS', 'HTML', 'React', 'Vue', 'Angular', 'Svelte'];

  return () => (
    <Space wrap size="md" style={{ maxWidth: '500px' }}>
      {tags.map(tag => (
        <span class="tag" key={tag}>
          {tag}
        </span>
      ))}
    </Space>
  );
});
```

#### Split Mode (Space-Between)

```typescript
// Split items evenly with space-between
const Example306 = defineComponent(() => {
  return () => (
    <Space split size="md">
      <div>Start</div>
      <div>Middle</div>
      <div>End</div>
    </Space>
  );
});

// Navigation with split layout
const Example307 = defineComponent(() => {
  return () => (
    <Space split align="center" style={{ padding: '16px', background: '#f3f4f6' }}>
      <div class="logo">
        <strong>MyApp</strong>
      </div>
      <nav>
        <Space size="md">
          <a href="/">Home</a>
          <a href="/about">About</a>
          <a href="/contact">Contact</a>
        </Space>
      </nav>
      <div>
        <button class="btn-primary">Login</button>
      </div>
    </Space>
  );
});

// Card footer with split buttons
const Example308 = defineComponent(() => {
  return () => (
    <div class="card">
      <div class="card-body">
        <h3>Card Title</h3>
        <p>Card content goes here</p>
      </div>
      <div class="card-footer">
        <Space split size="md" style={{ width: '100%' }}>
          <button class="btn-secondary">Cancel</button>
          <button class="btn-primary">Confirm</button>
        </Space>
      </div>
    </div>
  );
});
```

#### Button Groups

```typescript
// Horizontal button group
const Example309 = defineComponent(() => {
  return () => (
    <Space size="sm">
      <button class="btn-primary">Save</button>
      <button class="btn-secondary">Cancel</button>
      <button class="btn-tertiary">Delete</button>
    </Space>
  );
});

// Toolbar with multiple button groups
const Example310 = defineComponent(() => {
  return () => (
    <Space size="lg" align="center">
      <Space size="xs">
        <button class="toolbar-btn" title="Bold">B</button>
        <button class="toolbar-btn" title="Italic">I</button>
        <button class="toolbar-btn" title="Underline">U</button>
      </Space>
      <Space size="xs">
        <button class="toolbar-btn" title="Align Left">←</button>
        <button class="toolbar-btn" title="Align Center">↔</button>
        <button class="toolbar-btn" title="Align Right">→</button>
      </Space>
      <Space size="xs">
        <button class="toolbar-btn" title="Link">🔗</button>
        <button class="toolbar-btn" title="Image">🖼</button>
      </Space>
    </Space>
  );
});

// Vertical button stack
const Example311 = defineComponent(() => {
  return () => (
    <Space direction="vertical" size="sm">
      <button class="btn-block">Primary Action</button>
      <button class="btn-block btn-secondary">Secondary Action</button>
      <button class="btn-block btn-tertiary">Tertiary Action</button>
    </Space>
  );
});
```

#### Form Layouts

```typescript
// Form actions with space
const Example312 = defineComponent(() => {
  return () => (
    <form>
      <Space direction="vertical" size="lg">
        <div class="form-field">
          <label for="name">Name</label>
          <input id="name" type="text" />
        </div>
        <div class="form-field">
          <label for="email">Email</label>
          <input id="email" type="email" />
        </div>
        <Space size="md" align="center">
          <button type="submit" class="btn-primary">Submit</button>
          <button type="reset" class="btn-secondary">Reset</button>
        </Space>
      </Space>
    </form>
  );
});

// Inline form fields
const Example313 = defineComponent(() => {
  return () => (
    <Space size="md" align="end" wrap>
      <div class="form-field">
        <label for="search">Search</label>
        <input id="search" type="text" placeholder="Enter search term" />
      </div>
      <div class="form-field">
        <label for="category">Category</label>
        <select id="category">
          <option>All</option>
          <option>Products</option>
          <option>Services</option>
        </select>
      </div>
      <button class="btn-primary">Search</button>
    </Space>
  );
});
```

#### Styling Example

```css
/* Space doesn't need much styling - it uses gap */
/* Style the children instead */

/* Tags inside Space */
.tag {
  display: inline-block;
  padding: 4px 12px;
  background: var(--color-primary-light);
  color: var(--color-primary);
  border-radius: var(--radius-sm);
  font-size: 14px;
  font-weight: 500;
}

/* Toolbar buttons */
.toolbar-btn {
  width: 32px;
  height: 32px;
  padding: 0;
  border: 1px solid var(--color-border);
  background: var(--color-background-primary);
  border-radius: var(--radius-sm);
  cursor: pointer;
  transition: all 0.2s;
}

.toolbar-btn:hover {
  background: var(--color-background-hover);
  border-color: var(--color-primary);
}

.toolbar-btn:active {
  background: var(--color-primary-light);
}

/* Full-width buttons */
.btn-block {
  width: 100%;
  padding: 12px;
  text-align: center;
}

/* Card footer */
.card-footer {
  padding: 16px;
  border-top: 1px solid var(--color-border);
  background: var(--color-background-secondary);
}

/* Inline form fields */
.form-field {
  display: flex;
  flex-direction: column;
  gap: 4px;
  min-width: 200px;
}
```

#### API Reference

**`<Space>`** - Fixed spacing between elements

Props:
- `direction?: 'horizontal' | 'vertical'` - Spacing direction (default: 'horizontal')
- `size?: 'xs' | 'sm' | 'md' | 'lg' | 'xl'` - Spacing size using predefined values (default: 'md')
  - xs: 4px
  - sm: 8px
  - md: 16px
  - lg: 24px
  - xl: 32px
- `spacing?: number` - Custom spacing value in pixels (overrides size)
- `align?: 'start' | 'center' | 'end' | 'baseline'` - Cross-axis alignment
- `wrap?: boolean` - Allow items to wrap to next line (default: false)
- `split?: boolean` - Distribute items evenly with space-between (default: false)
- `children?: any` - Child elements to space
- `class?: string` - Additional CSS class
- `style?: Record<string, any>` - Inline styles

#### Accessibility Notes

- Space is purely presentational and doesn't affect accessibility
- Ensure child elements maintain proper semantic meaning
- When using Space for navigation, wrap links in a semantic `<nav>` element
- Button groups should have proper ARIA labels for screen readers
- Maintain keyboard navigation order with horizontal layouts
- Consider mobile touch targets (minimum 44x44px) for interactive children

#### Best Practices

1. **Use Space for fixed gaps**: Space is perfect for consistent spacing between elements
2. **Direction matters**: Use horizontal for inline elements, vertical for stacked layouts
3. **Choose appropriate sizes**: xs/sm for tight layouts, md for general use, lg/xl for breathing room
4. **Wrapping for responsiveness**: Enable wrap for tag lists or elements that should flow
5. **Split for distribution**: Use split mode for space-between layouts (navbar, card footers)
6. **Don't nest unnecessarily**: Space can handle multiple children - avoid nested Space components
7. **Combine with other layouts**: Use Space inside Flex, Grid, or Container for complex layouts
8. **Custom spacing**: Use the spacing prop for pixel-perfect control when size variants aren't enough
9. **Alignment control**: Use align prop to control cross-axis alignment of varied-height items
10. **Performance**: Space is lightweight - uses CSS gap, no extra DOM elements

#### Space vs Spacer

**Key Difference**: Space adds gaps BETWEEN multiple children, Spacer creates flexible space in flex layouts.

```typescript
// Space - adds gaps between children
<Space size="md">
  <button>A</button>
  <button>B</button>
  <button>C</button>
</Space>
// Result: A [16px] B [16px] C

// Spacer - pushes items apart with flexible space
<Flex>
  <button>A</button>
  <Spacer />
  <button>B</button>
</Flex>
// Result: A [flexible space fills] B
```

Use Space when: You need consistent fixed spacing between all children
Use Spacer when: You need flexible space that grows to push items apart

---

### Spacer

A flexible space component that grows to fill available space in flex layouts, pushing adjacent elements apart. Unlike Space which adds fixed gaps, Spacer creates dynamic space.

#### Features

- Creates flexible space in flex layouts
- Automatically grows to fill available space
- Works in both horizontal and vertical flex containers
- Configurable flex-grow and flex-shrink values
- Optional flex-basis control
- Pushes adjacent elements to edges
- No visual output (aria-hidden by default)
- Minimal runtime overhead

#### Basic Usage

```typescript
import { defineComponent } from 'aether';
import { Spacer, Flex } from 'aether/primitives';

// Push items to edges
const Example314 = defineComponent(() => {
  return () => (
    <Flex>
      <button>Left</button>
      <Spacer />
      <button>Right</button>
    </Flex>
  );
});

// Multiple spacers for equal distribution
const Example315 = defineComponent(() => {
  return () => (
    <Flex>
      <div>Start</div>
      <Spacer />
      <div>Middle</div>
      <Spacer />
      <div>End</div>
    </Flex>
  );
});

// Vertical layout
const Example316 = defineComponent(() => {
  return () => (
    <Flex direction="column" style={{ height: '400px' }}>
      <div>Header</div>
      <Spacer />
      <div>Footer</div>
    </Flex>
  );
});
```

#### Navigation Layouts

```typescript
// Navbar with logo and actions
const Example317 = defineComponent(() => {
  return () => (
    <Flex
      as="nav"
      align="center"
      style={{
        padding: '16px 24px',
        background: '#1e293b',
        color: 'white'
      }}
    >
      <div class="logo">
        <strong>MyApp</strong>
      </div>
      <Spacer />
      <Flex gap={16}>
        <a href="/">Home</a>
        <a href="/about">About</a>
        <a href="/contact">Contact</a>
      </Flex>
      <Spacer />
      <button class="btn-primary">Login</button>
    </Flex>
  );
});

// Header with title and actions
const Example318 = defineComponent(() => {
  return () => (
    <Flex align="center" style={{ padding: '16px', borderBottom: '1px solid #e5e7eb' }}>
      <h1 style={{ margin: 0 }}>Dashboard</h1>
      <Spacer />
      <Flex gap={12}>
        <button class="btn-secondary">Export</button>
        <button class="btn-primary">New Item</button>
      </Flex>
    </Flex>
  );
});

// Mobile menu with back button
const Example319 = defineComponent(() => {
  return () => (
    <Flex
      align="center"
      style={{
        padding: '12px 16px',
        background: '#f9fafb',
        borderBottom: '1px solid #e5e7eb'
      }}
    >
      <button class="icon-btn">←</button>
      <Spacer />
      <h2 style={{ margin: 0, fontSize: '18px' }}>Settings</h2>
      <Spacer />
      <button class="icon-btn">✓</button>
    </Flex>
  );
});
```

#### Footer Layouts

```typescript
// Simple footer with copyright and links
const Example320 = defineComponent(() => {
  return () => (
    <Flex
      as="footer"
      align="center"
      style={{
        padding: '24px',
        background: '#f3f4f6',
        borderTop: '1px solid #e5e7eb'
      }}
    >
      <p style={{ margin: 0 }}>© 2025 MyCompany</p>
      <Spacer />
      <Flex gap={16}>
        <a href="/privacy">Privacy</a>
        <a href="/terms">Terms</a>
        <a href="/contact">Contact</a>
      </Flex>
    </Flex>
  );
});

// Footer with social icons
const Example321 = defineComponent(() => {
  return () => (
    <Flex
      as="footer"
      direction="column"
      gap={16}
      style={{ padding: '32px 24px', background: '#1e293b', color: 'white' }}
    >
      <Flex align="center">
        <div class="logo">MyBrand</div>
        <Spacer />
        <Flex gap={12}>
          <a href="#" class="social-icon">𝕏</a>
          <a href="#" class="social-icon">in</a>
          <a href="#" class="social-icon">f</a>
        </Flex>
      </Flex>
      <div style={{ fontSize: '14px', opacity: 0.7 }}>
        © 2025 MyBrand. All rights reserved.
      </div>
    </Flex>
  );
});
```

#### Card Layouts

```typescript
// Card with header and actions
const Example322 = defineComponent(() => {
  return () => (
    <div class="card">
      <Flex align="center" class="card-header">
        <h3>Card Title</h3>
        <Spacer />
        <button class="icon-btn">⋮</button>
      </Flex>
      <div class="card-body">
        <p>Card content goes here with whatever you need.</p>
      </div>
    </div>
  );
});

// List item with label and value
const Example323 = defineComponent(() => {
  return () => (
    <Flex align="center" style={{ padding: '12px', borderBottom: '1px solid #e5e7eb' }}>
      <span class="label">Total Amount</span>
      <Spacer />
      <strong class="value">$1,234.56</strong>
    </Flex>
  );
});

// Settings row
const Example324 = defineComponent(() => {
  const enabled = signal(true);

  return () => (
    <Flex align="center" style={{ padding: '16px' }}>
      <div>
        <h4 style={{ margin: 0 }}>Notifications</h4>
        <p style={{ margin: 0, fontSize: '14px', color: '#6b7280' }}>
          Receive push notifications
        </p>
      </div>
      <Spacer />
      <Switch bind:checked={enabled}>
        <Switch.Thumb />
      </Switch>
    </Flex>
  );
});
```

#### Custom Grow Values

```typescript
// Proportional spacers
const Example325 = defineComponent(() => {
  return () => (
    <Flex style={{ width: '100%', padding: '16px', background: '#f3f4f6' }}>
      <div class="box">Item 1</div>
      <Spacer grow={2} />
      <div class="box">Item 2</div>
      <Spacer grow={1} />
      <div class="box">Item 3</div>
    </Flex>
  );
});

// Spacer with basis
const Example326 = defineComponent(() => {
  return () => (
    <Flex>
      <div>Start</div>
      <Spacer basis={100} />
      <div>End (100px minimum gap)</div>
    </Flex>
  );
});
```

#### Vertical Layouts

```typescript
// Full-height layout with sticky footer
const Example327 = defineComponent(() => {
  return () => (
    <Flex direction="column" style={{ minHeight: '100vh' }}>
      <header style={{ padding: '16px', background: '#1e293b', color: 'white' }}>
        <h1>My App</h1>
      </header>

      <main style={{ padding: '24px' }}>
        <h2>Main Content</h2>
        <p>This content can be any height, and the footer will stick to the bottom.</p>
      </main>

      <Spacer />

      <footer style={{ padding: '16px', background: '#f3f4f6', borderTop: '1px solid #e5e7eb' }}>
        © 2025 MyApp
      </footer>
    </Flex>
  );
});

// Sidebar with spacer
const Example328 = defineComponent(() => {
  return () => (
    <Flex direction="column" style={{ height: '100vh', width: '240px', background: '#f9fafb' }}>
      <div style={{ padding: '16px' }}>
        <strong>Menu</strong>
      </div>

      <nav>
        <a href="/" class="nav-item">Dashboard</a>
        <a href="/projects" class="nav-item">Projects</a>
        <a href="/team" class="nav-item">Team</a>
        <a href="/settings" class="nav-item">Settings</a>
      </nav>

      <Spacer />

      <div style={{ padding: '16px', borderTop: '1px solid #e5e7eb' }}>
        <button class="btn-block">Logout</button>
      </div>
    </Flex>
  );
});
```

#### Styling Example

```css
/* Spacer doesn't need styling - it's invisible */
/* Style the surrounding layout and items */

/* Navigation links */
nav a {
  color: inherit;
  text-decoration: none;
  padding: 8px 12px;
  border-radius: var(--radius-sm);
  transition: background 0.2s;
}

nav a:hover {
  background: var(--color-background-hover);
}

/* Icon buttons */
.icon-btn {
  width: 40px;
  height: 40px;
  padding: 0;
  border: none;
  background: transparent;
  cursor: pointer;
  border-radius: var(--radius-sm);
  transition: background 0.2s;
}

.icon-btn:hover {
  background: var(--color-background-hover);
}

/* Social icons */
.social-icon {
  width: 36px;
  height: 36px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: rgba(255, 255, 255, 0.1);
  border-radius: 50%;
  color: white;
  text-decoration: none;
  transition: background 0.2s;
}

.social-icon:hover {
  background: rgba(255, 255, 255, 0.2);
}

/* Settings row */
.label {
  font-size: 14px;
  color: var(--color-text-secondary);
}

.value {
  font-size: 16px;
  color: var(--color-text-primary);
}

/* Card components */
.card-header {
  padding: 16px;
  border-bottom: 1px solid var(--color-border);
}

.card-body {
  padding: 16px;
}

/* Navigation items */
.nav-item {
  display: block;
  padding: 12px 16px;
  color: var(--color-text-primary);
  text-decoration: none;
  transition: background 0.2s;
}

.nav-item:hover {
  background: var(--color-background-hover);
}

.nav-item.active {
  background: var(--color-primary-light);
  color: var(--color-primary);
  font-weight: 500;
}
```

#### API Reference

**`<Spacer>`** - Flexible space in flex layouts

Props:
- `grow?: number` - Flex grow value (default: 1) - controls how much space the spacer takes
- `shrink?: number` - Flex shrink value (default: 0) - controls if spacer can shrink
- `basis?: number | string` - Flex basis value - minimum size before growing
- `class?: string` - Additional CSS class
- `style?: Record<string, any>` - Inline styles (merged with spacer styles)
- Has `aria-hidden="true"` by default since it's not interactive

#### Accessibility Notes

- Spacer is purely presentational with `aria-hidden="true"`
- Does not affect screen reader navigation or keyboard focus
- Invisible to assistive technologies
- Use semantic HTML around Spacer (nav, header, footer)
- Ensure keyboard navigation works properly in parent flex container
- Don't use Spacer as a substitute for proper semantic spacing

#### Best Practices

1. **Use in flex containers**: Spacer only works inside flex layouts (Flex component or CSS flexbox)
2. **Push to edges**: Perfect for navbar/header/footer layouts where you want items at edges
3. **Vertical layouts**: Great for sticky footer patterns with full-height layouts
4. **Multiple spacers**: Use multiple spacers for proportional distribution
5. **Combine with gaps**: Use Flex gap for spacing between items, Spacer for pushing apart
6. **Grow control**: Adjust grow values for proportional space distribution
7. **Don't use for vertical spacing**: Use Space or Stack for vertical spacing between elements
8. **Parent must be flex**: Spacer has no effect in non-flex layouts
9. **Invisible element**: Spacer creates no visual output - it just fills space
10. **Performance**: Minimal overhead - just sets flex properties

#### Spacer vs Space

**Critical Distinction**:

**Space** - Adds fixed gaps between ALL children (uses CSS gap)
```typescript
<Space size="md">
  <button>A</button>
  <button>B</button>
  <button>C</button>
</Space>
// Result: A [16px] B [16px] C (fixed gaps)
```

**Spacer** - Creates flexible space that grows (uses flex-grow)
```typescript
<Flex>
  <button>A</button>
  <Spacer />
  <button>B</button>
</Flex>
// Result: A [flexible space that grows] B (pushed to edges)
```

**When to use**:
- Use **Space** when: You want consistent fixed spacing between multiple elements
- Use **Spacer** when: You want to push elements apart with flexible growing space
- Use **Space** for: Button groups, tag lists, form fields, toolbars
- Use **Spacer** for: Navbars, headers, footers, card layouts, list items

---

### ScrollArea

A customizable scrollable area component with styled scrollbars. Provides fine-grained control over scroll behavior and custom scrollbar styling while maintaining native scroll performance.

#### Features

- Custom styled scrollbars (vertical and horizontal)
- Multiple scroll types: auto, always, scroll, hover
- Responsive scrollbar visibility
- Proportional scrollbar thumb sizing
- Native scroll performance
- RTL/LTR direction support
- Reactive scroll position tracking
- Composable sub-components
- Cross-browser compatible
- Touch-friendly

#### Basic Usage

```typescript
import { defineComponent } from 'aether';
import { ScrollArea } from 'aether/primitives';

// Basic scrollable area
const Example329 = defineComponent(() => {
  return () => (
    <ScrollArea class="scroll-container" style={{ height: '300px' }}>
      <ScrollArea.Viewport>
        <div style={{ padding: '16px' }}>
          <h2>Scrollable Content</h2>
          <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
          <p>Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
          <p>Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.</p>
          <p>Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
        </div>
      </ScrollArea.Viewport>
      <ScrollArea.Scrollbar orientation="vertical">
        <ScrollArea.Thumb />
      </ScrollArea.Scrollbar>
      <ScrollArea.Scrollbar orientation="horizontal">
        <ScrollArea.Thumb />
      </ScrollArea.Scrollbar>
    </ScrollArea>
  );
});

// Vertical scroll only
const Example330 = defineComponent(() => {
  return () => (
    <ScrollArea style={{ height: '400px', width: '600px' }}>
      <ScrollArea.Viewport>
        <div style={{ padding: '24px' }}>
          {Array.from({ length: 50 }, (_, i) => (
            <p key={i}>Line {i + 1}: This is some scrollable content</p>
          ))}
        </div>
      </ScrollArea.Viewport>
      <ScrollArea.Scrollbar orientation="vertical">
        <ScrollArea.Thumb />
      </ScrollArea.Scrollbar>
    </ScrollArea>
  );
});
```

#### Scroll Types

```typescript
// Auto - show scrollbars only when needed (default)
const Example331 = defineComponent(() => {
  return () => (
    <ScrollArea type="auto" style={{ height: '300px', width: '500px' }}>
      <ScrollArea.Viewport>
        <div style={{ padding: '16px' }}>
          Content that may or may not overflow
        </div>
      </ScrollArea.Viewport>
      <ScrollArea.Scrollbar orientation="vertical">
        <ScrollArea.Thumb />
      </ScrollArea.Scrollbar>
    </ScrollArea>
  );
});

// Always - always show scrollbars even when not needed
const Example332 = defineComponent(() => {
  return () => (
    <ScrollArea type="always" style={{ height: '300px', width: '500px' }}>
      <ScrollArea.Viewport>
        <div style={{ padding: '16px' }}>
          Scrollbars always visible
        </div>
      </ScrollArea.Viewport>
      <ScrollArea.Scrollbar orientation="vertical" forceMount>
        <ScrollArea.Thumb />
      </ScrollArea.Scrollbar>
    </ScrollArea>
  );
});

// Hover - show scrollbars only on hover
const Example333 = defineComponent(() => {
  return () => (
    <ScrollArea type="hover" style={{ height: '300px', width: '500px' }}>
      <ScrollArea.Viewport>
        <div style={{ padding: '16px' }}>
          Hover to reveal scrollbars
        </div>
      </ScrollArea.Viewport>
      <ScrollArea.Scrollbar orientation="vertical">
        <ScrollArea.Thumb />
      </ScrollArea.Scrollbar>
    </ScrollArea>
  );
});

// Scroll - native scroll behavior with custom styling
const Example334 = defineComponent(() => {
  return () => (
    <ScrollArea type="scroll" style={{ height: '300px', width: '500px' }}>
      <ScrollArea.Viewport>
        <div style={{ padding: '16px' }}>
          Native scroll with custom scrollbars
        </div>
      </ScrollArea.Viewport>
      <ScrollArea.Scrollbar orientation="vertical">
        <ScrollArea.Thumb />
      </ScrollArea.Scrollbar>
    </ScrollArea>
  );
});
```

#### Horizontal Scrolling

```typescript
// Horizontal scroll for wide content
const Example335 = defineComponent(() => {
  return () => (
    <ScrollArea style={{ height: '200px', width: '100%', maxWidth: '600px' }}>
      <ScrollArea.Viewport>
        <div style={{ display: 'flex', gap: '16px', padding: '16px' }}>
          {Array.from({ length: 20 }, (_, i) => (
            <div
              key={i}
              style={{
                minWidth: '150px',
                height: '150px',
                background: '#3b82f6',
                borderRadius: '8px',
                display: 'flex',
                alignItems: 'center',
                justifyContent: 'center',
                color: 'white',
                fontWeight: 'bold'
              }}
            >
              Card {i + 1}
            </div>
          ))}
        </div>
      </ScrollArea.Viewport>
      <ScrollArea.Scrollbar orientation="horizontal">
        <ScrollArea.Thumb />
      </ScrollArea.Scrollbar>
    </ScrollArea>
  );
});

// Both scrollbars
const Example336 = defineComponent(() => {
  return () => (
    <ScrollArea style={{ height: '400px', width: '600px' }}>
      <ScrollArea.Viewport>
        <div style={{ minWidth: '1200px', padding: '16px' }}>
          <h2>Wide and Tall Content</h2>
          {Array.from({ length: 30 }, (_, i) => (
            <p key={i}>
              Line {i + 1}: This content is both wide and tall, requiring both scrollbars
            </p>
          ))}
        </div>
      </ScrollArea.Viewport>
      <ScrollArea.Scrollbar orientation="vertical">
        <ScrollArea.Thumb />
      </ScrollArea.Scrollbar>
      <ScrollArea.Scrollbar orientation="horizontal">
        <ScrollArea.Thumb />
      </ScrollArea.Scrollbar>
    </ScrollArea>
  );
});
```

#### Custom Scrollbar Styling

```typescript
// Styled scrollbars
const Example337 = defineComponent(() => {
  return () => (
    <ScrollArea class="custom-scroll" style={{ height: '400px', width: '600px' }}>
      <ScrollArea.Viewport>
        <div style={{ padding: '24px' }}>
          <h2>Custom Styled Scrollbars</h2>
          {Array.from({ length: 30 }, (_, i) => (
            <p key={i}>Paragraph {i + 1} with custom scrollbar styling</p>
          ))}
        </div>
      </ScrollArea.Viewport>
      <ScrollArea.Scrollbar orientation="vertical" class="custom-scrollbar">
        <ScrollArea.Thumb class="custom-thumb" />
      </ScrollArea.Scrollbar>
    </ScrollArea>
  );
});
```

#### Chat/Message List

```typescript
// Chat messages with scroll
const Example338 = defineComponent(() => {
  const messages = [
    { id: 1, user: 'Alice', text: 'Hey there!' },
    { id: 2, user: 'Bob', text: 'Hi Alice! How are you?' },
    { id: 3, user: 'Alice', text: 'Doing great! Working on the new feature.' },
    { id: 4, user: 'Bob', text: 'Awesome! Need any help?' },
    { id: 5, user: 'Alice', text: 'Sure, could you review my PR?' },
    // ... more messages
  ];

  return () => (
    <div class="chat-container">
      <div class="chat-header">
        <h3>Team Chat</h3>
      </div>
      <ScrollArea style={{ height: '400px' }}>
        <ScrollArea.Viewport>
          <div class="messages">
            {messages.map(msg => (
              <div key={msg.id} class="message">
                <strong class="message-user">{msg.user}</strong>
                <p class="message-text">{msg.text}</p>
              </div>
            ))}
          </div>
        </ScrollArea.Viewport>
        <ScrollArea.Scrollbar orientation="vertical">
          <ScrollArea.Thumb />
        </ScrollArea.Scrollbar>
      </ScrollArea>
      <div class="chat-input">
        <input type="text" placeholder="Type a message..." />
        <button>Send</button>
      </div>
    </div>
  );
});
```

#### Data Table with Scroll

```typescript
// Scrollable data table
const Example339 = defineComponent(() => {
  const data = Array.from({ length: 100 }, (_, i) => ({
    id: i + 1,
    name: `User ${i + 1}`,
    email: `user${i + 1}@example.com`,
    role: ['Admin', 'User', 'Guest'][i % 3],
    status: ['Active', 'Inactive'][i % 2]
  }));

  return () => (
    <div class="table-container">
      <ScrollArea style={{ height: '500px' }}>
        <ScrollArea.Viewport>
          <table class="data-table">
            <thead>
              <tr>
                <th>ID</th>
                <th>Name</th>
                <th>Email</th>
                <th>Role</th>
                <th>Status</th>
              </tr>
            </thead>
            <tbody>
              {data.map(row => (
                <tr key={row.id}>
                  <td>{row.id}</td>
                  <td>{row.name}</td>
                  <td>{row.email}</td>
                  <td>{row.role}</td>
                  <td>
                    <span class={`status status-${row.status.toLowerCase()}`}>
                      {row.status}
                    </span>
                  </td>
                </tr>
              ))}
            </tbody>
          </table>
        </ScrollArea.Viewport>
        <ScrollArea.Scrollbar orientation="vertical">
          <ScrollArea.Thumb />
        </ScrollArea.Scrollbar>
      </ScrollArea>
    </div>
  );
});
```

#### Sidebar with Scroll

```typescript
// Scrollable sidebar navigation
const Example340 = defineComponent(() => {
  const menuItems = [
    { section: 'Dashboard', items: ['Overview', 'Analytics', 'Reports'] },
    { section: 'Projects', items: ['All Projects', 'Active', 'Completed', 'Archived'] },
    { section: 'Team', items: ['Members', 'Roles', 'Permissions', 'Invitations'] },
    { section: 'Settings', items: ['General', 'Account', 'Billing', 'Security', 'Integrations', 'API'] },
  ];

  return () => (
    <aside class="sidebar">
      <div class="sidebar-header">
        <strong>MyApp</strong>
      </div>
      <ScrollArea style={{ height: 'calc(100vh - 120px)' }}>
        <ScrollArea.Viewport>
          <nav class="sidebar-nav">
            {menuItems.map(section => (
              <div key={section.section} class="nav-section">
                <div class="nav-section-title">{section.section}</div>
                {section.items.map(item => (
                  <a key={item} href={`/${section.section.toLowerCase()}/${item.toLowerCase()}`} class="nav-item">
                    {item}
                  </a>
                ))}
              </div>
            ))}
          </nav>
        </ScrollArea.Viewport>
        <ScrollArea.Scrollbar orientation="vertical">
          <ScrollArea.Thumb />
        </ScrollArea.Scrollbar>
      </ScrollArea>
      <div class="sidebar-footer">
        <button class="btn-block">Logout</button>
      </div>
    </aside>
  );
});
```

#### Code Block with Scroll

```typescript
// Scrollable code block
const Example341 = defineComponent(() => {
  const code = `function calculateTotal(items) {
  return items.reduce((sum, item) => {
    return sum + (item.price * item.quantity);
  }, 0);
}

const cart = [
  { id: 1, name: 'Product A', price: 29.99, quantity: 2 },
  { id: 2, name: 'Product B', price: 49.99, quantity: 1 },
  { id: 3, name: 'Product C', price: 19.99, quantity: 3 }
];

const total = calculateTotal(cart);
console.log('Total:', total);`;

  return () => (
    <div class="code-block">
      <div class="code-header">
        <span>example.js</span>
        <button class="btn-copy">Copy</button>
      </div>
      <ScrollArea style={{ maxHeight: '300px' }}>
        <ScrollArea.Viewport>
          <pre><code>{code}</code></pre>
        </ScrollArea.Viewport>
        <ScrollArea.Scrollbar orientation="vertical">
          <ScrollArea.Thumb />
        </ScrollArea.Scrollbar>
        <ScrollArea.Scrollbar orientation="horizontal">
          <ScrollArea.Thumb />
        </ScrollArea.Scrollbar>
      </ScrollArea>
    </div>
  );
});
```

#### Styling Example

```css
/* ScrollArea container */
[data-scroll-area] {
  position: relative;
  overflow: hidden;
}

/* Viewport - the scrollable area */
[data-scroll-area-viewport] {
  width: 100%;
  height: 100%;
  overflow: scroll;
  /* Hide native scrollbars */
  scrollbar-width: none; /* Firefox */
  -ms-overflow-style: none; /* IE/Edge */
}

[data-scroll-area-viewport]::-webkit-scrollbar {
  display: none; /* Chrome/Safari */
}

/* Custom scrollbar track */
[data-scroll-area-scrollbar] {
  position: absolute;
  display: flex;
  user-select: none;
  touch-action: none;
  background: rgba(0, 0, 0, 0.05);
  transition: background 0.2s;
}

[data-scroll-area-scrollbar]:hover {
  background: rgba(0, 0, 0, 0.1);
}

/* Vertical scrollbar positioning */
[data-scroll-area-scrollbar][data-orientation='vertical'] {
  top: 0;
  right: 0;
  width: 10px;
  height: 100%;
}

/* Horizontal scrollbar positioning */
[data-scroll-area-scrollbar][data-orientation='horizontal'] {
  bottom: 0;
  left: 0;
  height: 10px;
  width: 100%;
}

/* Scrollbar thumb */
[data-scroll-area-thumb] {
  background: rgba(0, 0, 0, 0.3);
  border-radius: 4px;
  transition: background 0.2s;
}

[data-scroll-area-thumb]:hover {
  background: rgba(0, 0, 0, 0.5);
}

[data-scroll-area-scrollbar]:hover [data-scroll-area-thumb] {
  background: rgba(0, 0, 0, 0.4);
}

/* Custom styled scrollbars */
.custom-scrollbar {
  width: 12px;
  background: var(--color-background-secondary);
  border-radius: 6px;
}

.custom-thumb {
  background: var(--color-primary);
  border-radius: 6px;
  min-height: 40px;
}

.custom-thumb:hover {
  background: var(--color-primary-dark);
}

/* Hover type - hide scrollbar until hover */
[data-scroll-area][data-type='hover'] [data-scroll-area-scrollbar] {
  opacity: 0;
  transition: opacity 0.2s;
}

[data-scroll-area][data-type='hover']:hover [data-scroll-area-scrollbar] {
  opacity: 1;
}

/* Chat messages styling */
.messages {
  padding: 16px;
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.message {
  background: var(--color-background-secondary);
  padding: 12px;
  border-radius: var(--radius-md);
}

.message-user {
  display: block;
  font-size: 14px;
  color: var(--color-primary);
  margin-bottom: 4px;
}

.message-text {
  margin: 0;
  font-size: 14px;
}

/* Data table styling */
.data-table {
  width: 100%;
  border-collapse: collapse;
}

.data-table th {
  position: sticky;
  top: 0;
  background: var(--color-background-primary);
  padding: 12px;
  text-align: left;
  font-weight: 600;
  border-bottom: 2px solid var(--color-border);
  z-index: 1;
}

.data-table td {
  padding: 12px;
  border-bottom: 1px solid var(--color-border);
}

.data-table tbody tr:hover {
  background: var(--color-background-hover);
}

/* Code block styling */
.code-block {
  background: #1e293b;
  border-radius: var(--radius-md);
  overflow: hidden;
}

.code-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 12px 16px;
  background: #0f172a;
  color: #94a3b8;
  font-size: 14px;
  border-bottom: 1px solid #334155;
}

.code-block pre {
  margin: 0;
  padding: 16px;
  color: #e2e8f0;
  font-family: 'Monaco', 'Courier New', monospace;
  font-size: 14px;
  line-height: 1.5;
}

.code-block code {
  display: block;
  white-space: pre;
}
```

#### API Reference

**`<ScrollArea>`** - Root component

Props:
- `type?: 'auto' | 'always' | 'scroll' | 'hover'` - Scroll behavior type (default: 'hover')
  - auto: Show scrollbars only when content overflows
  - always: Always show scrollbars (use with forceMount on scrollbars)
  - scroll: Native scroll with custom scrollbar styling
  - hover: Show scrollbars on hover
- `dir?: 'ltr' | 'rtl'` - Text direction for scroll behavior (default: 'ltr')
- `children?: any` - Child components (Viewport and Scrollbars)
- `class?: string` - Additional CSS class
- `style?: Record<string, any>` - Inline styles (should include height/maxHeight)

**`<ScrollArea.Viewport>`** - Scrollable content container

Props:
- `children?: any` - Content to scroll
- `class?: string` - Additional CSS class
- `style?: Record<string, any>` - Inline styles

**`<ScrollArea.Scrollbar>`** - Scrollbar track

Props:
- `orientation: 'vertical' | 'horizontal'` - Scrollbar orientation (required)
- `forceMount?: boolean` - Always render scrollbar even when not needed (default: false)
- `children?: any` - Thumb component
- `class?: string` - Additional CSS class
- `style?: Record<string, any>` - Inline styles

**`<ScrollArea.Thumb>`** - Scrollbar thumb (draggable part)

Props:
- `class?: string` - Additional CSS class
- `style?: Record<string, any>` - Inline styles

Data attributes available for styling:
- `[data-scroll-area]` - Root element
- `[data-scroll-area-viewport]` - Viewport element
- `[data-scroll-area-scrollbar]` - Scrollbar track
- `[data-scroll-area-thumb]` - Scrollbar thumb
- `[data-orientation]` - 'vertical' or 'horizontal'
- `[data-state]` - 'visible' or 'hidden'
- `[data-type]` - 'auto', 'always', 'scroll', or 'hover'

#### Accessibility Notes

- ScrollArea maintains native scroll behavior for keyboard navigation
- Scrollable content is accessible via keyboard (arrow keys, Page Up/Down, Home/End)
- Custom scrollbars don't interfere with screen readers
- Native scroll announcements work correctly
- Touch scrolling works on mobile devices
- Focus management is preserved within scroll area
- Consider using native scrollbars for better accessibility if custom styling isn't critical

#### Browser Compatibility

- Works in all modern browsers (Chrome, Firefox, Safari, Edge)
- Uses ResizeObserver for scroll updates (widely supported)
- CSS gap property for scrollbar positioning (IE11 not supported)
- Touch events supported on mobile browsers
- Fallback to native scrollbars if JavaScript fails

#### Best Practices

1. **Always set height**: ScrollArea needs a height constraint to enable scrolling
2. **Use maxHeight for dynamic content**: Better for content that might not need scrolling
3. **Include both scrollbars when needed**: For content that scrolls both ways
4. **Custom styling**: Use data attributes for consistent scrollbar styling
5. **Hover type for clean UI**: Use type="hover" to hide scrollbars until needed
6. **Performance**: ScrollArea uses native scroll - performant for large content
7. **Sticky headers**: Position sticky works inside ScrollArea.Viewport
8. **Mobile considerations**: Ensure touch targets are large enough (min 44x44px)
9. **Contrast**: Ensure scrollbar thumb has sufficient contrast with track
10. **Test keyboard navigation**: Verify arrow keys, Page Up/Down work correctly

#### Common Patterns

**Chat/Messages**: Set height, add padding to viewport, style messages
**Data Tables**: Use sticky headers, set reasonable height, style rows
**Sidebars**: Use calc(100vh - header - footer) for height
**Code Blocks**: Use maxHeight, enable horizontal scroll for long lines
**Modal Content**: Set maxHeight to 70vh to ensure modal doesn't overflow
**Card Lists**: Fixed height with vertical scroll for long lists

---

## Composition Patterns

### Building Complex UIs from Primitives

Primitives are designed to be composed together to build complex UIs:

#### Example: Settings Dialog with Tabs

```typescript
import { defineComponent, signal } from 'aether';
import { Dialog, Tabs, Switch, Select } from 'aether/primitives';

const Example221 = defineComponent(() => {
  const isOpen = signal(false);
  const activeTab = signal('general');
  const theme = signal('system');
  const notifications = signal(true);
  const language = signal('en');

  return () => (
    <Dialog bind:open={isOpen}>
      <Dialog.Trigger class="btn">Settings</Dialog.Trigger>
      <Dialog.Portal>
        <Dialog.Overlay class="dialog-overlay" />
        <Dialog.Content class="dialog-content dialog-wide">
          <Dialog.Title>Settings</Dialog.Title>
          <Tabs bind:value={activeTab} class="settings-tabs">
            <Tabs.List class="tabs-list">
              <Tabs.Trigger value="general">General</Tabs.Trigger>
              <Tabs.Trigger value="appearance">Appearance</Tabs.Trigger>
              <Tabs.Trigger value="notifications">Notifications</Tabs.Trigger>
            </Tabs.List>
            <Tabs.Content value="general" class="tabs-content">
              <div class="settings-section">
                <h3>Language</h3>
                <Select bind:value={language}>
                  <Select.Trigger class="select-trigger">
                    <Select.Value />
                  </Select.Trigger>
                  <Select.Content>
                    <Select.Item value="en">English</Select.Item>
                    <Select.Item value="es">Español</Select.Item>
                    <Select.Item value="fr">Français</Select.Item>
                  </Select.Content>
                </Select>
              </div>
            </Tabs.Content>
            <Tabs.Content value="appearance" class="tabs-content">
              <div class="settings-section">
                <div class="setting-row">
                  <div>
                    <h4>Theme</h4>
                    <p>Select your theme preference</p>
                  </div>
                  <Select bind:value={theme}>
                    <Select.Trigger>
                      <Select.Value />
                    </Select.Trigger>
                    <Select.Content>
                      <Select.Item value="light">Light</Select.Item>
                      <Select.Item value="dark">Dark</Select.Item>
                      <Select.Item value="system">System</Select.Item>
                    </Select.Content>
                  </Select>
                </div>
              </div>
            </Tabs.Content>
            <Tabs.Content value="notifications" class="tabs-content">
              <div class="settings-section">
                <div class="setting-row">
                  <div>
                    <h4>Push Notifications</h4>
                    <p>Receive push notifications</p>
                  </div>
                  <Switch bind:checked={notifications}>
                    <Switch.Thumb />
                  </Switch>
                </div>
              </div>
            </Tabs.Content>
          </Tabs>
          <div class="dialog-actions">
            <Dialog.Close class="btn btn-secondary">Cancel</Dialog.Close>
            <button class="btn btn-primary">Save Changes</button>
          </div>
        </Dialog.Content>
      </Dialog.Portal>
    </Dialog>
  );
});
```

#### Example: Data Table with Filters and Actions

```typescript
import { defineComponent, signal } from 'aether';
import { Table, Dropdown, Dialog, AlertDialog } from 'aether/primitives';

const Example279 = defineComponent(() => {
  const users = signal([/* user data */]);
  const userToDelete = signal<User | null>(null);
  const showDeleteDialog = signal(false);

  return () => (
    <div class="users-view">
      <!-- Filters -->
      <div class="filters">
        <input type="search" placeholder="Search..." />
        <Select><!-- Status filter --></Select>
        <Select><!-- Role filter --></Select>
      </div>
      <!-- Table -->
      <Table data={users()} columns={columns} rowKey="id">
        {#let table}
          <!-- ... table structure ... -->
          <!-- Actions in row -->
          <Table.Cell class="table-cell-actions">
            <DropdownMenu>
              <DropdownMenu.Trigger class="btn-icon">
                <MoreIcon />
              </DropdownMenu.Trigger>
              <DropdownMenu.Content>
                <DropdownMenu.Item on:select={() => editUser(row)}>
                  Edit
                </DropdownMenu.Item>
                <DropdownMenu.Item
                  on:select={() => {
                    userToDelete(row);
                    showDeleteDialog(true);
                  }}
                  class="destructive"
                >
                  Delete
                </DropdownMenu.Item>
              </DropdownMenu.Content>
            </DropdownMenu>
          </Table.Cell>
        {/let}
      </Table>
      <!-- Delete confirmation -->
      <AlertDialog bind:open={showDeleteDialog}>
        <AlertDialog.Content>
          <AlertDialog.Title>Delete User</AlertDialog.Title>
          <AlertDialog.Description>
            Are you sure you want to delete {userToDelete()?.name}?
            This action cannot be undone.
          </AlertDialog.Description>
          <div class="alert-dialog-actions">
            <AlertDialog.Cancel>Cancel</AlertDialog.Cancel>
            <AlertDialog.Action
              class="btn-destructive"
              on:click={() => deleteUser(userToDelete())}
            >
              Delete
            </AlertDialog.Action>
          </div>
        </AlertDialog.Content>
      </AlertDialog>
    </div>
  );
});
```

### Layout Composition Patterns

Layout primitives (Box, Flex, Grid, Stack, Container) are designed to be composed together for powerful, maintainable layouts.

#### Pattern 1: Container + Grid (Dashboard Layout)

```typescript
import { defineComponent } from 'aether';
import { Container, Grid, Box, VStack, HStack } from 'aether/primitives';

const Example295 = defineComponent(() => {
  return () => (
    <Container size="2xl" px={24} py={24}>
      <VStack spacing={32}>
        {/* Dashboard header with actions */}
        <HStack justify="space-between" align="center">
          <h1>Analytics Dashboard</h1>
          <HStack spacing={12}>
            <button class="btn-secondary">Export</button>
            <button class="btn-primary">Settings</button>
          </HStack>
        </HStack>

        {/* Stats grid - responsive 4 columns */}
        <Grid templateColumns="repeat(auto-fit, minmax(250px, 1fr))" gap={24}>
          <Box class="stat-card">
            <VStack spacing={8}>
              <span class="stat-label">Revenue</span>
              <span class="stat-value">$123,456</span>
              <span class="stat-change positive">+12.5%</span>
            </VStack>
          </Box>
          <Box class="stat-card">
            <VStack spacing={8}>
              <span class="stat-label">Users</span>
              <span class="stat-value">45,678</span>
              <span class="stat-change positive">+8.2%</span>
            </VStack>
          </Box>
          <Box class="stat-card">
            <VStack spacing={8}>
              <span class="stat-label">Orders</span>
              <span class="stat-value">1,234</span>
              <span class="stat-change negative">-3.1%</span>
            </VStack>
          </Box>
          <Box class="stat-card">
            <VStack spacing={8}>
              <span class="stat-label">Conversion</span>
              <span class="stat-value">3.45%</span>
              <span class="stat-change positive">+0.5%</span>
            </VStack>
          </Box>
        </Grid>

        {/* Charts section - 2:1 ratio */}
        <Grid templateColumns="2fr 1fr" gap={24}>
          <Box class="chart-card">
            <VStack spacing={16}>
              <h3>Revenue Over Time</h3>
              {/* Chart component */}
              <Box style={{ height: '300px', background: '#f5f5f5' }}>
                Chart Area
              </Box>
            </VStack>
          </Box>
          <Box class="chart-card">
            <VStack spacing={16}>
              <h3>Top Products</h3>
              <VStack spacing={12}>
                <HStack justify="space-between">
                  <span>Product A</span>
                  <span class="value">$12,345</span>
                </HStack>
                <HStack justify="space-between">
                  <span>Product B</span>
                  <span class="value">$9,876</span>
                </HStack>
                <HStack justify="space-between">
                  <span>Product C</span>
                  <span class="value">$7,654</span>
                </HStack>
              </VStack>
            </VStack>
          </Box>
        </Grid>
      </VStack>
    </Container>
  );
});
```

#### Pattern 2: Box + Container (Full-Width Sections)

```typescript
import { defineComponent } from 'aether';
import { Container, Box, VStack, HStack, Grid } from 'aether/primitives';

const Example296 = defineComponent(() => {
  return () => (
    <>
      {/* Hero section - full-width colored background */}
      <Box as="section" style={{ background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)', color: 'white' }}>
        <Container size="xl" px={24} py={96}>
          <VStack spacing={32} align="center">
            <h1 style={{ fontSize: '56px', fontWeight: 'bold', textAlign: 'center' }}>
              Build Amazing Products
            </h1>
            <p style={{ fontSize: '20px', textAlign: 'center', maxWidth: '600px' }}>
              The complete solution for modern web applications.
              Fast, scalable, and developer-friendly.
            </p>
            <HStack spacing={16}>
              <button class="btn-primary-inverse">Get Started</button>
              <button class="btn-secondary-inverse">View Demo</button>
            </HStack>
          </VStack>
        </Container>
      </Box>

      {/* Features section - white background */}
      <Box as="section" style={{ background: '#ffffff', padding: '80px 0' }}>
        <Container size="lg" px={24}>
          <VStack spacing={48}>
            <h2 style={{ fontSize: '42px', textAlign: 'center' }}>Features</h2>
            <Grid templateColumns="repeat(auto-fit, minmax(300px, 1fr))" gap={40}>
              <VStack spacing={16} align="center">
                <Box class="feature-icon">🚀</Box>
                <h3>Lightning Fast</h3>
                <p style={{ textAlign: 'center' }}>
                  Optimized performance for the best user experience
                </p>
              </VStack>
              <VStack spacing={16} align="center">
                <Box class="feature-icon">🔒</Box>
                <h3>Secure by Default</h3>
                <p style={{ textAlign: 'center' }}>
                  Enterprise-grade security built into every layer
                </p>
              </VStack>
              <VStack spacing={16} align="center">
                <Box class="feature-icon">📱</Box>
                <h3>Fully Responsive</h3>
                <p style={{ textAlign: 'center' }}>
                  Perfect experience on any device or screen size
                </p>
              </VStack>
            </Grid>
          </VStack>
        </Container>
      </Box>

      {/* CTA section - colored background */}
      <Box as="section" style={{ background: '#1e293b', color: 'white', padding: '80px 0' }}>
        <Container size="md" px={24}>
          <VStack spacing={24} align="center">
            <h2 style={{ fontSize: '36px', textAlign: 'center' }}>
              Ready to Get Started?
            </h2>
            <p style={{ fontSize: '18px', textAlign: 'center' }}>
              Join thousands of developers building with our platform
            </p>
            <button class="btn-primary-large">Start Free Trial</button>
          </VStack>
        </Container>
      </Box>
    </>
  );
});
```

#### Pattern 3: Grid + Stack (Card Grid Layout)

```typescript
import { defineComponent } from 'aether';
import { Container, Grid, Box, VStack, HStack } from 'aether/primitives';

const Example297 = defineComponent(() => {
  const products = signal([
    { id: 1, name: 'Product A', price: 99.99, image: '/a.jpg' },
    { id: 2, name: 'Product B', price: 149.99, image: '/b.jpg' },
    { id: 3, name: 'Product C', price: 79.99, image: '/c.jpg' },
    { id: 4, name: 'Product D', price: 199.99, image: '/d.jpg' },
  ]);

  return () => (
    <Container size="xl" px={24} py={48}>
      <VStack spacing={32}>
        <h1>Our Products</h1>

        {/* Responsive product grid */}
        <Grid
          templateColumns="repeat(auto-fill, minmax(280px, 1fr))"
          gap={24}
        >
          {products().map(product => (
            <Box class="product-card" key={product.id}>
              <VStack spacing={16}>
                {/* Product image */}
                <Box
                  style={{
                    width: '100%',
                    height: '200px',
                    background: '#f0f0f0',
                    borderRadius: '8px'
                  }}
                >
                  <img src={product.image} alt={product.name} />
                </Box>

                {/* Product info */}
                <VStack spacing={8}>
                  <h3>{product.name}</h3>
                  <p class="price">${product.price}</p>
                </VStack>

                {/* Actions */}
                <HStack spacing={12} style={{ width: '100%' }}>
                  <button class="btn-secondary" style={{ flex: 1 }}>
                    Details
                  </button>
                  <button class="btn-primary" style={{ flex: 1 }}>
                    Add to Cart
                  </button>
                </HStack>
              </VStack>
            </Box>
          ))}
        </Grid>
      </VStack>
    </Container>
  );
});
```

#### Pattern 4: Flex + Stack (Sidebar Layout)

```typescript
import { defineComponent } from 'aether';
import { Flex, Box, VStack, HStack } from 'aether/primitives';

const Example298 = defineComponent(() => {
  return () => (
    <Flex style={{ minHeight: '100vh' }}>
      {/* Sidebar - fixed width */}
      <Box
        as="aside"
        style={{
          width: '250px',
          background: '#1e293b',
          color: 'white',
          padding: '24px'
        }}
      >
        <VStack spacing={24} align="stretch">
          <h2>Dashboard</h2>
          <VStack spacing={8} align="stretch">
            <a href="/home" class="nav-link active">Home</a>
            <a href="/analytics" class="nav-link">Analytics</a>
            <a href="/users" class="nav-link">Users</a>
            <a href="/settings" class="nav-link">Settings</a>
          </VStack>
        </VStack>
      </Box>

      {/* Main content - grows to fill space */}
      <Box as="main" grow={1} style={{ background: '#f9fafb' }}>
        <VStack spacing={0} style={{ height: '100%' }}>
          {/* Header - fixed height */}
          <Box
            as="header"
            style={{
              background: 'white',
              borderBottom: '1px solid #e5e7eb',
              padding: '16px 24px'
            }}
          >
            <HStack justify="space-between" align="center">
              <h1>Page Title</h1>
              <HStack spacing={12}>
                <button class="btn-icon">🔔</button>
                <button class="btn-icon">👤</button>
              </HStack>
            </HStack>
          </Box>

          {/* Content - scrollable */}
          <Box grow={1} style={{ padding: '24px', overflowY: 'auto' }}>
            <VStack spacing={24}>
              <p>Main content area that grows to fill available space</p>
              {/* Page content */}
            </VStack>
          </Box>
        </VStack>
      </Box>
    </Flex>
  );
});
```

#### Pattern 5: Nested Stacks (Form Layout)

```typescript
import { defineComponent } from 'aether';
import { Container, VStack, HStack, Box } from 'aether/primitives';

const Example299 = defineComponent(() => {
  return () => (
    <Container size="md" px={24} py={48}>
      <VStack spacing={32}>
        {/* Form header */}
        <Box>
          <h1>Contact Us</h1>
          <p>Fill out the form below and we'll get back to you</p>
        </Box>

        {/* Form */}
        <Box as="form">
          <VStack spacing={24}>
            {/* Name fields - horizontal on desktop */}
            <HStack spacing={16} wrap>
              <VStack spacing={8} grow={1} style={{ minWidth: '200px' }}>
                <label for="firstName">First Name</label>
                <input id="firstName" type="text" class="form-input" />
              </VStack>
              <VStack spacing={8} grow={1} style={{ minWidth: '200px' }}>
                <label for="lastName">Last Name</label>
                <input id="lastName" type="text" class="form-input" />
              </VStack>
            </HStack>

            {/* Email - full width */}
            <VStack spacing={8}>
              <label for="email">Email Address</label>
              <input id="email" type="email" class="form-input" />
            </VStack>

            {/* Subject - full width */}
            <VStack spacing={8}>
              <label for="subject">Subject</label>
              <input id="subject" type="text" class="form-input" />
            </VStack>

            {/* Message - full width */}
            <VStack spacing={8}>
              <label for="message">Message</label>
              <textarea
                id="message"
                class="form-input"
                rows={6}
              />
            </VStack>

            {/* Form actions */}
            <HStack spacing={12} justify="end">
              <button type="button" class="btn-secondary">
                Cancel
              </button>
              <button type="submit" class="btn-primary">
                Send Message
              </button>
            </HStack>
          </VStack>
        </Box>
      </VStack>
    </Container>
  );
});
```

#### Pattern 6: Grid with Named Areas (Complex Layout)

```typescript
import { defineComponent } from 'aether';
import { Grid, Box, VStack, HStack } from 'aether/primitives';

const Example300 = defineComponent(() => {
  return () => (
    <Grid
      templateAreas={`
        "header header header"
        "sidebar main aside"
        "footer footer footer"
      `}
      templateColumns="250px 1fr 300px"
      templateRows="auto 1fr auto"
      gap={0}
      style={{ minHeight: '100vh' }}
    >
      {/* Header */}
      <Box
        style={{ gridArea: 'header' }}
        class="site-header"
      >
        <HStack
          justify="space-between"
          align="center"
          style={{ padding: '16px 24px' }}
        >
          <h1>My App</h1>
          <nav>
            <HStack spacing={16}>
              <a href="/">Home</a>
              <a href="/about">About</a>
              <a href="/contact">Contact</a>
            </HStack>
          </nav>
        </HStack>
      </Box>

      {/* Left Sidebar */}
      <Box
        style={{ gridArea: 'sidebar' }}
        class="sidebar-left"
      >
        <VStack spacing={16} style={{ padding: '24px' }}>
          <h3>Categories</h3>
          <VStack spacing={8} align="stretch">
            <a href="/tech" class="category-link">Technology</a>
            <a href="/design" class="category-link">Design</a>
            <a href="/business" class="category-link">Business</a>
          </VStack>
        </VStack>
      </Box>

      {/* Main Content */}
      <Box
        style={{ gridArea: 'main' }}
        class="main-content"
      >
        <VStack spacing={24} style={{ padding: '24px' }}>
          <h2>Main Content</h2>
          <p>This is the primary content area</p>
        </VStack>
      </Box>

      {/* Right Aside */}
      <Box
        style={{ gridArea: 'aside' }}
        class="sidebar-right"
      >
        <VStack spacing={16} style={{ padding: '24px' }}>
          <h3>Recent Posts</h3>
          <VStack spacing={12}>
            <Box class="widget-item">
              <p>Post title 1</p>
            </Box>
            <Box class="widget-item">
              <p>Post title 2</p>
            </Box>
          </VStack>
        </VStack>
      </Box>

      {/* Footer */}
      <Box
        style={{ gridArea: 'footer' }}
        class="site-footer"
      >
        <VStack
          spacing={16}
          align="center"
          style={{ padding: '32px 24px' }}
        >
          <p>© 2025 My App. All rights reserved.</p>
          <HStack spacing={16}>
            <a href="/privacy">Privacy</a>
            <a href="/terms">Terms</a>
            <a href="/contact">Contact</a>
          </HStack>
        </VStack>
      </Box>
    </Grid>
  );
});
```

#### Key Layout Composition Principles

1. **Container for Content Width**: Always use Container to constrain content width and center it
2. **Box for Semantic Structure**: Use Box with `as` prop for semantic HTML elements
3. **Grid for 2D Layouts**: Use Grid when you need both rows and columns (dashboards, image galleries)
4. **Flex for 1D Layouts**: Use Flex for navigation bars, toolbars, or any single-axis layout
5. **Stack for Vertical/Horizontal Lists**: Use VStack/HStack for simple lists with consistent spacing
6. **Nesting is Powerful**: Compose primitives deeply - Grid > Container > VStack > HStack
7. **Responsive by Design**: Use auto-fit/auto-fill for grids, wrap for flex, and container sizes
8. **Full-Width Sections**: Box (colored) > Container (constrained) for landing pages
9. **Sidebar Layouts**: Flex with fixed-width sidebar and growing main content
10. **Form Layouts**: Container (md/sm) > VStack for vertical flow > HStack for field groups

---

### Primitive Composition Rules

1. **Primitives don't style themselves** - You provide all styling
2. **Context flows down** - Parent primitives provide context to children
3. **Events bubble up** - Child interactions notify parent components
4. **Accessibility is built-in** - ARIA attributes handled automatically
5. **State can be controlled or uncontrolled** - Flexible state management

---

## Customization

### Styling Strategies

#### 1. Global CSS

```css
/* styles/primitives.css */
.dialog-overlay {
  background: rgba(0, 0, 0, 0.5);
}

.dialog-content {
  background: white;
  border-radius: 8px;
  padding: 24px;
}
```

#### 2. CSS Modules

```css
/* Dialog.module.css */
.overlay {
  background: rgba(0, 0, 0, 0.5);
}

.content {
  background: white;
  border-radius: 8px;
}
```

```typescript
import { defineComponent } from 'aether';
import styles from './Dialog.module.css';

const Example969 = defineComponent(() => {

  return () => (
    <Dialog.Overlay class={styles.overlay} />
    <Dialog.Content class={styles.content}>
      <!-- ... -->
    </Dialog.Content>
  );
});
```

#### 3. Tailwind CSS

```html
<Dialog.Overlay class="fixed inset-0 bg-black/50 backdrop-blur-sm" />
<Dialog.Content class="fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-full max-w-md bg-white rounded-lg shadow-xl p-6">
  <!-- ... -->
</Dialog.Content>
```

#### 4. CSS-in-JS (styled components)

```typescript
import { styled } from 'aether/styled';

const StyledOverlay = styled(Dialog.Overlay, {
  position: 'fixed',
  inset: 0,
  background: 'rgba(0, 0, 0, 0.5)'
});

const StyledContent = styled(Dialog.Content, {
  position: 'fixed',
  top: '50%',
  left: '50%',
  transform: 'translate(-50%, -50%)',
  background: 'white',
  borderRadius: '$md',
  padding: '$6'
});
```

### Creating Styled Wrapper Components

Build your own component library on top of primitives:

```typescript
// components/ui/Button.tsx
import { defineComponent } from 'aether';
import type { ComponentProps } from 'aether';

interface ButtonProps extends ComponentProps<'button'> {
  variant?: 'primary' | 'secondary' | 'destructive';
  size?: 'sm' | 'md' | 'lg';
}

export const Button = defineComponent<ButtonProps>((props) => {
  const { variant = 'primary', size = 'md', class: className, ...rest } = props;

  const classes = computed(() => {
    return [
      'btn',
      `btn-${variant()}`,
      `btn-${size()}`,
      className?.()
    ].filter(Boolean).join(' ');
  });

  return () => (
    <button class={classes()} {...rest}>
      <slot />
    </button>
  );
});
```

```typescript
// components/ui/Dialog.tsx
import * as DialogPrimitive from 'aether/primitives/dialog';

export const Dialog = DialogPrimitive.Root;
export const DialogTrigger = DialogPrimitive.Trigger;

export const DialogContent = defineComponent((props) => {
  return () => (
    <DialogPrimitive.Portal>
      <DialogPrimitive.Overlay class="dialog-overlay" />
      <DialogPrimitive.Content class="dialog-content" {...props}>
        <slot />
        <DialogPrimitive.Close class="dialog-close">
          <XIcon />
        </DialogPrimitive.Close>
      </DialogPrimitive.Content>
    </DialogPrimitive.Portal>
  );
});
```

Usage:

```typescript
import { defineComponent } from 'aether';
import { Dialog, DialogTrigger, DialogContent } from '@/components/ui/Dialog';
import { Button } from '@/components/ui/Button';

const Example43 = defineComponent(() => {

  return () => (
    <Dialog>
      <DialogTrigger asChild>
        <Button variant="primary">Open Dialog</Button>
      </DialogTrigger>
      <DialogContent>
        <h2>Dialog Title</h2>
        <p>Dialog content here</p>
      </DialogContent>
    </Dialog>
  );
});
```

---

## Theme Integration

Primitives automatically integrate with the Aether theming system:

```typescript
// theme.ts
export const LightTheme = defineTheme({
  name: 'light',
  colors: {
    primary: {
      500: '#0ea5e9'
    },
    background: {
      primary: '#ffffff',
      secondary: '#f8fafc'
    },
    border: '#e2e8f0'
  },
  radii: {
    md: '0.375rem',
    lg: '0.5rem'
  },
  spacing: {
    4: '1rem',
    6: '1.5rem'
  },
  shadows: {
    lg: '0 10px 15px -3px rgba(0, 0, 0, 0.1)'
  }
});
```

```css
/* Primitives use CSS variables from theme */
.dialog-content {
  background: var(--color-background-primary);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-lg);
  padding: var(--spacing-6);
}
```

---

## Animation System

### Using `data-state` for Animations

All primitives expose `data-state` attributes for animation:

```css
/* Fade in/out */
.dialog-overlay {
  animation-duration: 200ms;
  animation-timing-function: ease-out;
}

.dialog-overlay[data-state="open"] {
  animation-name: fadeIn;
}

.dialog-overlay[data-state="closed"] {
  animation-name: fadeOut;
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes fadeOut {
  from { opacity: 1; }
  to { opacity: 0; }
}

/* Slide in/out */
.dialog-content[data-state="open"] {
  animation-name: slideIn;
}

.dialog-content[data-state="closed"] {
  animation-name: slideOut;
}

@keyframes slideIn {
  from {
    opacity: 0;
    transform: translate(-50%, -48%) scale(0.96);
  }
  to {
    opacity: 1;
    transform: translate(-50%, -50%) scale(1);
  }
}

@keyframes slideOut {
  from {
    opacity: 1;
    transform: translate(-50%, -50%) scale(1);
  }
  to {
    opacity: 0;
    transform: translate(-50%, -48%) scale(0.96);
  }
}
```

### Animation Helpers

```typescript
// utils/animations.ts
export const presence = (isPresent: () => boolean) => {
  const state = signal<'open' | 'closed'>('closed');
  const isAnimating = signal(false);

  effect(() => {
    if (isPresent()) {
      state('open');
    } else {
      isAnimating(true);
      state('closed');

      // Wait for animation to complete
      setTimeout(() => {
        isAnimating(false);
      }, 200); // Match animation duration
    }
  });

  return {
    state,
    shouldMount: computed(() => isPresent() || isAnimating())
  };
};
```

Usage:

```typescript
import { defineComponent, signal } from 'aether';
const Example285 = defineComponent(() => {
  const isOpen = signal(false);
  const dialogPresence = presence(() => isOpen());

  return () => (
    {#if dialogPresence.shouldMount()}
      <Dialog.Overlay data-state={dialogPresence.state()} />
      <Dialog.Content data-state={dialogPresence.state()}>
        <!-- ... -->
      </Dialog.Content>
    {/if}
  );
});
```

---

## Testing Primitives

### Unit Testing

```typescript
import { render, fireEvent } from '@testing-library/nexus';
import { Dialog } from 'aether/primitives';

describe('Dialog', () => {
  it('opens when trigger is clicked', async () => {
    const { getByRole, queryByRole } = render(() => (
      <Dialog>
        <Dialog.Trigger>Open</Dialog.Trigger>
        <Dialog.Content>Content</Dialog.Content>
      </Dialog>
    ));

    // Initially closed
    expect(queryByRole('dialog')).toBeNull();

    // Click trigger
    await fireEvent.click(getByRole('button', { name: 'Open' }));

    // Now open
    expect(getByRole('dialog')).toBeInTheDocument();
  });

  it('traps focus within dialog', async () => {
    const { getByRole } = render(() => (
      <Dialog defaultOpen>
        <Dialog.Content>
          <button>First</button>
          <button>Last</button>
        </Dialog.Content>
      </Dialog>
    ));

    const dialog = getByRole('dialog');
    const firstButton = getByRole('button', { name: 'First' });
    const lastButton = getByRole('button', { name: 'Last' });

    // Tab from last button should focus first button
    lastButton.focus();
    await fireEvent.keyDown(document, { key: 'Tab' });
    expect(firstButton).toHaveFocus();
  });

  it('closes on Escape key', async () => {
    const { getByRole, queryByRole } = render(() => (
      <Dialog defaultOpen>
        <Dialog.Content>Content</Dialog.Content>
      </Dialog>
    ));

    expect(getByRole('dialog')).toBeInTheDocument();

    await fireEvent.keyDown(document, { key: 'Escape' });

    expect(queryByRole('dialog')).toBeNull();
  });
});
```

### Accessibility Testing

```typescript
import { axe } from 'jest-axe';

it('has no accessibility violations', async () => {
  const { container } = render(() => (
    <Dialog defaultOpen>
      <Dialog.Content>
        <Dialog.Title>Title</Dialog.Title>
        <Dialog.Description>Description</Dialog.Description>
        <p>Content</p>
        <Dialog.Close>Close</Dialog.Close>
      </Dialog.Content>
    </Dialog>
  ));

  const results = await axe(container);
  expect(results).toHaveNoViolations();
});
```

---

## Advanced Patterns

### Custom Primitives

Build your own primitives following the same patterns:

```typescript
// components/primitives/Rating.tsx
import { defineComponent, signal, injectContext, provideContext } from 'aether';

interface RatingContextValue {
  value: Signal<number>;
  max: number;
  readonly: boolean;
  setValue: (value: number) => void;
}

const RatingContext = createContext<RatingContextValue>('Rating');

export const Rating = defineComponent((props) => {
  const value = signal(props.defaultValue || 0);
  const max = props.max || 5;
  const readonly = props.readonly || false;

  const setValue = (newValue: number) => {
    if (!readonly) {
      value(newValue);
      props.onValueChange?.(newValue);
    }
  };

  provideContext(RatingContext, {
    value,
    max,
    readonly,
    setValue
  });

  return () => (
    <div role="group" aria-label="Rating" {...props}>
      <slot />
    </div>
  );
});

export const RatingItem = defineComponent((props) => {
  const ctx = injectContext(RatingContext);
  const itemValue = props.value;

  const isActive = computed(() => itemValue <= ctx.value());

  const handleClick = () => {
    ctx.value.set(itemValue);
  };

  return () => (
    <button
      role="radio"
      aria-checked={isActive()}
      aria-label={`${itemValue} stars`}
      data-active={isActive()}
      on:click={handleClick}
      disabled={ctx.readonly}
      {...props}
    >
      <slot />
    </button>
  );
});
```

Usage:

```typescript
import { defineComponent, signal } from 'aether';
const Example324 = defineComponent(() => {
  const rating = signal(3);

  return () => (
    <Rating bind:value={rating} max={5}>
      {#each Array(5) as _, i}
        <RatingItem value={i + 1} class="rating-star">
          <StarIcon />
        </RatingItem>
      {/each}
    </Rating>
  );
});
```

### Polymorphic Components (`asChild`)

Allow components to merge props into children:

```typescript
// Implementation
export const Button = defineComponent((props) => {
  if (props.asChild) {
    // Merge props into child element
    return () => (
      <slot {...omit(props, ['asChild'])} />
    );
  }

  return () => (
    <button {...props}>
      <slot />
    </button>
  );
});
```

Usage:

```html
<!-- Renders a button -->
<Button class="my-btn">Click me</Button>

<!-- Renders an anchor with button props -->
<Button asChild>
  <a href="/profile" class="my-btn">Profile</a>
</Button>
```

---

## Best Practices

### 1. Always Provide Labels and Descriptions

```html
<!-- ✅ Good - Has title and description -->
<Dialog>
  <Dialog.Content>
    <Dialog.Title>Delete Account</Dialog.Title>
    <Dialog.Description>
      This action cannot be undone
    </Dialog.Description>
    <!-- content -->
  </Dialog.Content>
</Dialog>

<!-- ❌ Bad - Missing title/description -->
<Dialog>
  <Dialog.Content>
    <p>This action cannot be undone</p>
  </Dialog.Content>
</Dialog>
```

### 2. Use Controlled State When Needed

```typescript
// ✅ Good - Controlled when you need external state
import { defineComponent, signal } from 'aether';

const ControlledExample = defineComponent(() => {
  const isOpen = signal(false);

  // Can control from outside
  const openFromElsewhere = () => isOpen(true);

  return () => (
    <Dialog bind:open={isOpen}>
      {/* ... */}
    </Dialog>
  );
});

// ✅ Also Good - Uncontrolled when internal state is fine
const UncontrolledExample = defineComponent(() => {
  return () => (
    <Dialog>
      {/* ... */}
    </Dialog>
  );
});
```

### 3. Keyboard Navigation Must Work

Test all primitives with keyboard only:
- Tab to focus
- Enter/Space to activate
- Escape to close
- Arrow keys to navigate
- Home/End for first/last

### 4. Mobile Touch Support

```css
/* Increase touch target sizes */
.dialog-trigger,
.dialog-close {
  min-width: 44px;
  min-height: 44px;
}

/* Responsive sizing */
@media (max-width: 640px) {
  .dialog-content {
    width: 100vw;
    max-width: none;
    border-radius: 0;
  }
}
```

### 5. Avoid Nesting Modal Overlays

```html
<!-- ❌ Avoid - Confusing UX -->
<Dialog>
  <Dialog.Content>
    <Dialog>
      <Dialog.Content>
        <!-- Nested dialog -->
      </Dialog.Content>
    </Dialog>
  </Dialog.Content>
</Dialog>

<!-- ✅ Better - Use Sheet or step-based flow -->
<Dialog>
  <Dialog.Content>
    {#if step() === 1}
      <FirstStep />
    {:else}
      <SecondStep />
    {/if}
  </Dialog.Content>
</Dialog>
```

### 6. Performance - Virtual Scrolling for Large Lists

```typescript
import { defineComponent } from 'aether';
import { VirtualScroller } from 'aether/primitives';

const Example327 = defineComponent(() => {
  const items = Array.from({ length: 10000 }, (_, i) => ({ id: i, name: `Item ${i}` }));

  return () => (
    <Select>
      <Select.Content>
        <VirtualScroller items={items} itemHeight={32}>
          {#let item}
            <Select.Item value={item.id}>
              {item.name}
            </Select.Item>
          {/let}
        </VirtualScroller>
      </Select.Content>
    </Select>
  );
});
```

### 7. Error Boundaries

```typescript
import { defineComponent } from 'aether';
import { ErrorBoundary } from 'aether';

const Example884 = defineComponent(() => {

  return () => (
    <ErrorBoundary fallback={(error) => (
      <div class="error-state">
        <p>Something went wrong</p>
        <pre>{error.message}</pre>
      </div>
    )}>
      <Dialog>
        <!-- ... -->
      </Dialog>
    </ErrorBoundary>
  );
});
```

### 8. Loading States

```typescript
import { defineComponent, signal } from 'aether';
const Example914 = defineComponent(() => {
  const isLoading = signal(true);
  const data = signal(null);
  onMount(async () => {
    const result = await fetchData();
    data(result);
    isLoading(false);
  });

  return () => (
    <Select disabled={isLoading()}>
      <Select.Trigger>
        {#if isLoading()}
          Loading...
        {:else}
          <Select.Value placeholder="Select option" />
        {/if}
      </Select.Trigger>
      {#if !isLoading()}
        <Select.Content>
          <!-- options -->
        </Select.Content>
      {/if}
    </Select>
  );
});
```

---

## Summary

Aether Primitives provide:

✅ **Unstyled, accessible UI components** - Full control over presentation
✅ **WAI-ARIA compliant** - Accessibility baked in
✅ **Keyboard navigation** - Full keyboard support out of the box
✅ **Composable** - Build complex UIs from simple primitives
✅ **Type-safe** - Full TypeScript support
✅ **Framework coherent** - Integrates with Aether reactivity, DI, and theming
✅ **Flexible** - Controlled or uncontrolled state management
✅ **Production-ready** - Battle-tested patterns

**Complete primitive list**:
- Dialog, Popover, Dropdown Menu, Select, Combobox
- Tabs, Accordion, Radio Group, Checkbox Group
- Slider, Toggle, Switch, Alert Dialog, Sheet
- Command Palette, DatePicker, Calendar, Form, Table

All primitives follow consistent patterns and are fully documented with examples, API references, and best practices.

---

**End of Specification**
